/**
 * Copyright (c) åˆ˜lyxAndy
 * @license MIT https://opensource.org/license/MIT
 */
window=this.window;document=this.document;location=this.location;navigator=this.navigator;var l={type:"MEDIASTREAM_WIDGET",icon:"icon-widget-camera",title:"MediaStream \u7CFB\u5217\u63A7\u4EF6",version:"1.0.0",isGlobalWidget:!0,isInvisibleWidget:!0,properties:[],methods:[{key:"getUserMedia",label:"\u83B7\u53D6\u7528\u6237\u5A92\u4F53",params:[{key:"video",label:"\u89C6\u9891",valueType:"boolean",defaultValue:!0},{key:"audio",label:"\u97F3\u9891",valueType:"boolean",defaultValue:!0}],valueType:"object"},{key:"getDisplayMedia",label:"\u83B7\u53D6\u5C4F\u5E55\u5A92\u4F53",params:[{key:"video",label:"\u89C6\u9891",valueType:"boolean",defaultValue:!0},{key:"audio",label:"\u97F3\u9891",valueType:"boolean",defaultValue:!0}],valueType:"object"},{key:"captureStream",label:"\u6355\u83B7Canvas/Video/Audio\u4E3A\u6D41",params:[{key:"selector",label:"selector",valueType:"string",defaultValue:"#canvas"}],valueType:"object"},{key:"setSrcObject",label:"\u8BBE\u7F6E\u6D41\u7ED9\u89C6\u9891\u6846",params:[{key:"selector",label:"selector",valueType:"string",defaultValue:"#video"},{key:"stream",label:"MediaStream",valueType:["object","string","number","boolean"],defaultValue:""}],blockOptions:{space:32}},{key:"setTempVar",label:"\u8BBE\u7F6E",params:[{key:"key",label:"\u4E34\u65F6\u53D8\u91CF",valueType:"string",defaultValue:""},{key:"value",label:"\u7684\u503C\u4E3A",valueType:["object","string","number","boolean"],defaultValue:""}]},{key:"getTempVar",label:"",params:[{key:"key",label:"\u4E34\u65F6\u53D8\u91CF",valueType:"string",defaultValue:"",labelAfter:"\u7684\u503C"}],valueType:"object"}],events:[]},t=class extends InvisibleWidget{constructor(e){super(e),this.temp={}}async getUserMedia(e,a){return await navigator.mediaDevices.getUserMedia({video:e,audio:a})}async getDisplayMedia(e,a){return await navigator.mediaDevices.getDisplayMedia({video:e,audio:a})}async captureStream(e){return document.querySelector(e).captureStream()}setSrcObject(e,a){document.querySelector(e).srcObject=a}setTempVar(e,a){this.temp[e]=a}getTempVar(e){return this.temp[e]}};exports.types=l;exports.widget=t;
