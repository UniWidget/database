//Build with build.py(author:Aiskikan) 2023-08-15 14:09:05
//build.py version:0.1.0 
//widget_head files: widget_head.js 
//widget_export files: widget_export.js 
//widget_build files: ['src\\0-crypto\\0-hash.js', 'src\\0-crypto\\1-hmac_hash.js', 'src\\0-crypto\\2-cjs_encryption.js', 'src\\0-crypto\\3-rsa.js', 'src\\1-js\\0-eval.js', 'src\\2-axios\\0-axios_head.js', 'src\\2-axios\\1-axios.js', 'src\\3-random_tools\\0-uuid.js', 'src\\3-random_tools\\1-number.js', 'src\\4-coco_ui\\0-del_web_bin.js'] 
//build output file: build/coco_utils.js 

//file:widget_head.js

var document = this.document;
var window = this.window;
var navigator = this.navigator;
var history = this.history;
//const axios = require('axios');
const utils = require('utils');
//const vika = require('@vikadata/vika').default;
const qrcode = require('qrcode');
const lodash = require('lodash');
var CryptoJS = require("crypto-js");
const types = {
    isInvisibleWidget: true,
    type: "COCO_UTILS_WIDGET",
    icon: "https://creation.codemao.cn/716/appcraft/IMAGE_8npm5YDN-_1691307672150.svg",
    title: "Coco实用工具",
    version: "0.0.1",
    isGlobalWidget: true,
    properties: [],
    methods: [],
    events: [],
};

class Widget extends InvisibleWidget {
    constructor(props) {
        super(props);
    }

}


//file:src\0-crypto\0-hash.js

types['methods'].push({
    key: 'crypto_hash',
    label: '散列',
    params: [
        {
            key: 'algo',
            label: '',
            valueType: 'string',
            defaultValue: 'MD5',
            dropdown: [
                { label: 'MD5', value: 'MD5' },
                { label: 'SHA1', value: 'SHA1' },
                { label: 'SHA224', value: 'SHA224' },
                { label: 'SHA256', value: 'SHA256' },
                { label: 'SHA384', value: 'SHA384' },
                { label: 'SHA512', value: 'SHA512' },
                { label: 'SHA3', value: 'SHA3' },
                { label: 'RIPEMD160', value: 'RIPEMD160' },
            ]
        },
        {

            key: 'data',
            label: '数据',
            valueType: 'string',
            defaultValue: '数据'
        }
    ],
    valueType: 'string',
    blockOptions: {
        line: "哈希算法"
    }
})
Widget.prototype.crypto_hash = function (algo, data) {
    return CryptoJS[algo](data).toString();
}

//file:src\0-crypto\1-hmac_hash.js

types['methods'].push({
    key: 'crypto_hmac_hash',
    label: '散列 HMAC_',
    params: [
        {
            key: 'algo',
            label: '',
            valueType: 'string',
            defaultValue: 'HmacMD5',
            dropdown: [
                { label: 'MD5', value: 'HmacMD5' },
                { label: 'SHA1', value: 'HmacSHA1' },
                { label: 'SHA224', value: 'HmacSHA224' },
                { label: 'SHA256', value: 'HmacSHA256' },
                { label: 'SHA384', value: 'HmacSHA384' },
                { label: 'SHA512', value: 'HmacSHA512' },
                { label: 'SHA3', value: 'HmacSHA3' },
                { label: 'RIPEMD160', value: 'HmacRIPEMD160' },
            ]
        },
        {

            key: 'data',
            label: '数据',
            valueType: 'string',
            defaultValue: '数据'
        },
        {

            key: 'key',
            label: '密钥',
            valueType: 'string',
            defaultValue: '密钥'
        }
    ],
    valueType: 'string'
})
Widget.prototype.crypto_hmac_hash = function (algo, data, key) {
    return CryptoJS[algo](data, key).toString();
}

//file:src\0-crypto\2-cjs_encryption.js

types['methods'].push({
    key: 'cjs_encryption',
    label: '加密算法',
    params: [
        {
            key: 'algo',
            label: '',
            valueType: 'string',
            defaultValue: 'AES',
            dropdown: [
                { label: 'AES', value: 'AES' },
                { label: 'DES', value: 'DES' },
                { label: 'TripleDES', value: 'TripleDES' },
                { label: 'Rabbit', value: 'Rabbit' },
                { label: 'RC4', value: 'RC4' },
            ]
        },
        {
            key: 'type',
            label: '',
            valueType: 'string',
            defaultValue: 'encrypt',
            dropdown: [
                { label: '加密', value: 'encrypt' },
                { label: '解密', value: 'decrypt' },
            ]
        },
        {

            key: 'data',
            label: '数据',
            valueType: 'string',
            defaultValue: '数据'
        },
        {

            key: 'key',
            label: '密钥',
            valueType: 'string',
            defaultValue: '密钥'
        }
    ],
    valueType: 'string',
    blockOptions: {
        line: "加密算法"
    }
})
Widget.prototype.cjs_encryption = function (algo, type, data, key) {
    var o = CryptoJS[algo][type](data, key);
    if (type == 'decrypt') return o.toString(CryptoJS.enc.Utf8);
    else return o.toString();
}

//file:src\0-crypto\3-rsa.js

//Author Aiskikan
var crypto_rsa_jsencrypt_unicode_cracking_code = "LyohIEZvciBsaWNlbnNlIGluZm9ybWF0aW9uIHBsZWFzZSBzZWUganNlbmNyeXB0Lm1pbi5qcy5MSUNFTlNFLnR4dCAqLyFmdW5jdGlvbih0LGUpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkpTRW5jcnlwdD1lKCk6dC5KU0VuY3J5cHQ9ZSgpfSh3aW5kb3csKCk9PigoKT0+e3ZhciB0PXsxNTU6dD0+e3ZhciBlLGkscj10LmV4cG9ydHM9e307ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHMoKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIG8odCl7aWYoZT09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigoZT09PW58fCFlKSYmc2V0VGltZW91dClyZXR1cm4gZT1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIGUodCwwKX1jYXRjaChpKXt0cnl7cmV0dXJuIGUuY2FsbChudWxsLHQsMCl9Y2F0Y2goaSl7cmV0dXJuIGUuY2FsbCh0aGlzLHQsMCl9fX0hZnVuY3Rpb24oKXt0cnl7ZT0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7ZT1ufXRyeXtpPSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnN9Y2F0Y2godCl7aT1zfX0oKTt2YXIgaCxhPVtdLHU9ITEsYz0tMTtmdW5jdGlvbiBmKCl7dSYmaCYmKHU9ITEsaC5sZW5ndGg/YT1oLmNvbmNhdChhKTpjPS0xLGEubGVuZ3RoJiZsKCkpfWZ1bmN0aW9uIGwoKXtpZighdSl7dmFyIHQ9byhmKTt1PSEwO2Zvcih2YXIgZT1hLmxlbmd0aDtlOyl7Zm9yKGg9YSxhPVtdOysrYzxlOyloJiZoW2NdLnJ1bigpO2M9LTEsZT1hLmxlbmd0aH1oPW51bGwsdT0hMSxmdW5jdGlvbih0KXtpZihpPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKGk9PT1zfHwhaSkmJmNsZWFyVGltZW91dClyZXR1cm4gaT1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtpKHQpfWNhdGNoKGUpe3RyeXtyZXR1cm4gaS5jYWxsKG51bGwsdCl9Y2F0Y2goZSl7cmV0dXJuIGkuY2FsbCh0aGlzLHQpfX19KHQpfX1mdW5jdGlvbiBwKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWV9ZnVuY3Rpb24gZygpe31yLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWVbaS0xXT1hcmd1bWVudHNbaV07YS5wdXNoKG5ldyBwKHQsZSkpLDEhPT1hLmxlbmd0aHx8dXx8byhsKX0scC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sci50aXRsZT0iYnJvd3NlciIsci5icm93c2VyPSEwLHIuZW52PXt9LHIuYXJndj1bXSxyLnZlcnNpb249IiIsci52ZXJzaW9ucz17fSxyLm9uPWcsci5hZGRMaXN0ZW5lcj1nLHIub25jZT1nLHIub2ZmPWcsci5yZW1vdmVMaXN0ZW5lcj1nLHIucmVtb3ZlQWxsTGlzdGVuZXJzPWcsci5lbWl0PWcsci5wcmVwZW5kTGlzdGVuZXI9ZyxyLnByZXBlbmRPbmNlTGlzdGVuZXI9ZyxyLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sci5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0sci5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LHIuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0sci51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX19LGU9e307ZnVuY3Rpb24gaShyKXt2YXIgbj1lW3JdO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG4uZXhwb3J0czt2YXIgcz1lW3JdPXtleHBvcnRzOnt9fTtyZXR1cm4gdFtyXShzLHMuZXhwb3J0cyxpKSxzLmV4cG9ydHN9aS5kPSgodCxlKT0+e2Zvcih2YXIgciBpbiBlKWkubyhlLHIpJiYhaS5vKHQscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2VudW1lcmFibGU6ITAsZ2V0OmVbcl19KX0pLGkubz0oKHQsZSk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKTt2YXIgcj17fTtyZXR1cm4oKCk9PnsidXNlIHN0cmljdCI7aS5kKHIse2RlZmF1bHQ6KCk9PmN0fSk7dmFyIHQ9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiI7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jaGFyQXQoZSl9ZnVuY3Rpb24gbih0LGUpe3JldHVybiB0JmV9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiB0fGV9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiB0XmV9ZnVuY3Rpb24gaCh0LGUpe3JldHVybiB0Jn5lfWZ1bmN0aW9uIGEodCl7aWYoMD09dClyZXR1cm4tMTt2YXIgZT0wO3JldHVybiAwPT0oNjU1MzUmdCkmJih0Pj49MTYsZSs9MTYpLDA9PSgyNTUmdCkmJih0Pj49OCxlKz04KSwwPT0oMTUmdCkmJih0Pj49NCxlKz00KSwwPT0oMyZ0KSYmKHQ+Pj0yLGUrPTIpLDA9PSgxJnQpJiYrK2UsZX1mdW5jdGlvbiB1KHQpe2Zvcih2YXIgZT0wOzAhPXQ7KXQmPXQtMSwrK2U7cmV0dXJuIGV9dmFyIGMsZj0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIsbD0iPSI7ZnVuY3Rpb24gcCh0KXt2YXIgZSxpLHI9IiI7Zm9yKGU9MDtlKzM8PXQubGVuZ3RoO2UrPTMpaT1wYXJzZUludCh0LnN1YnN0cmluZyhlLGUrMyksMTYpLHIrPWYuY2hhckF0KGk+PjYpK2YuY2hhckF0KDYzJmkpO2ZvcihlKzE9PXQubGVuZ3RoPyhpPXBhcnNlSW50KHQuc3Vic3RyaW5nKGUsZSsxKSwxNikscis9Zi5jaGFyQXQoaTw8MikpOmUrMj09dC5sZW5ndGgmJihpPXBhcnNlSW50KHQuc3Vic3RyaW5nKGUsZSsyKSwxNikscis9Zi5jaGFyQXQoaT4+MikrZi5jaGFyQXQoKDMmaSk8PDQpKTsoMyZyLmxlbmd0aCk+MDspcis9bDtyZXR1cm4gcn1mdW5jdGlvbiBnKHQpe3ZhciBpLHI9IiIsbj0wLHM9MDtmb3IoaT0wO2k8dC5sZW5ndGgmJnQuY2hhckF0KGkpIT1sOysraSl7dmFyIG89Zi5pbmRleE9mKHQuY2hhckF0KGkpKTtvPDB8fCgwPT1uPyhyKz1lKG8+PjIpLHM9MyZvLG49MSk6MT09bj8ocis9ZShzPDwyfG8+PjQpLHM9MTUmbyxuPTIpOjI9PW4/KHIrPWUocykscis9ZShvPj4yKSxzPTMmbyxuPTMpOihyKz1lKHM8PDJ8bz4+NCkscis9ZSgxNSZvKSxuPTApKX1yZXR1cm4gMT09biYmKHIrPWUoczw8MikpLHJ9dmFyIGQsdj17ZGVjb2RlOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PWQpe3ZhciBpPSI9IFxmXG5cclx0IFx1MjAyOFx1MjAyOSI7Zm9yKGQ9T2JqZWN0LmNyZWF0ZShudWxsKSxlPTA7ZTw2NDsrK2UpZFsiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KGUpXT1lO2ZvcihkWyItIl09NjIsZC5fPTYzLGU9MDtlPGkubGVuZ3RoOysrZSlkW2kuY2hhckF0KGUpXT0tMX12YXIgcj1bXSxuPTAscz0wO2ZvcihlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBvPXQuY2hhckF0KGUpO2lmKCI9Ij09bylicmVhaztpZigtMSE9KG89ZFtvXSkpe2lmKHZvaWQgMD09PW8pdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIGNoYXJhY3RlciBhdCBvZmZzZXQgIitlKTtufD1vLCsrcz49ND8ocltyLmxlbmd0aF09bj4+MTYscltyLmxlbmd0aF09bj4+OCYyNTUscltyLmxlbmd0aF09MjU1Jm4sbj0wLHM9MCk6bjw8PTZ9fXN3aXRjaChzKXtjYXNlIDE6dGhyb3cgbmV3IEVycm9yKCJCYXNlNjQgZW5jb2RpbmcgaW5jb21wbGV0ZTogYXQgbGVhc3QgMiBiaXRzIG1pc3NpbmciKTtjYXNlIDI6cltyLmxlbmd0aF09bj4+MTA7YnJlYWs7Y2FzZSAzOnJbci5sZW5ndGhdPW4+PjE2LHJbci5sZW5ndGhdPW4+PjgmMjU1fXJldHVybiByfSxyZTovLS0tLS1CRUdJTiBbXi1dKy0tLS0tKFtBLVphLXowLTkrXC89XHNdKyktLS0tLUVORCBbXi1dKy0tLS0tfGJlZ2luLWJhc2U2NFteXG5dK1xuKFtBLVphLXowLTkrXC89XHNdKyk9PT09Lyx1bmFybW9yOmZ1bmN0aW9uKHQpe3ZhciBlPXYucmUuZXhlYyh0KTtpZihlKWlmKGVbMV0pdD1lWzFdO2Vsc2V7aWYoIWVbMl0pdGhyb3cgbmV3IEVycm9yKCJSZWdFeHAgb3V0IG9mIHN5bmMiKTt0PWVbMl19cmV0dXJuIHYuZGVjb2RlKHQpfX0sbT0xZTEzLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuYnVmPVsrdHx8MF19cmV0dXJuIHQucHJvdG90eXBlLm11bEFkZD1mdW5jdGlvbih0LGUpe3ZhciBpLHIsbj10aGlzLmJ1ZixzPW4ubGVuZ3RoO2ZvcihpPTA7aTxzOysraSkocj1uW2ldKnQrZSk8bT9lPTA6ci09KGU9MHxyL20pKm0sbltpXT1yO2U+MCYmKG5baV09ZSl9LHQucHJvdG90eXBlLnN1Yj1mdW5jdGlvbih0KXt2YXIgZSxpLHI9dGhpcy5idWYsbj1yLmxlbmd0aDtmb3IoZT0wO2U8bjsrK2UpKGk9cltlXS10KTwwPyhpKz1tLHQ9MSk6dD0wLHJbZV09aTtmb3IoOzA9PT1yW3IubGVuZ3RoLTFdOylyLnBvcCgpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbih0KXtpZigxMCE9KHR8fDEwKSl0aHJvdyBuZXcgRXJyb3IoIm9ubHkgYmFzZSAxMCBpcyBzdXBwb3J0ZWQiKTtmb3IodmFyIGU9dGhpcy5idWYsaT1lW2UubGVuZ3RoLTFdLnRvU3RyaW5nKCkscj1lLmxlbmd0aC0yO3I+PTA7LS1yKWkrPShtK2Vbcl0pLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDEpO3JldHVybiBpfSx0LnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuYnVmLGU9MCxpPXQubGVuZ3RoLTE7aT49MDstLWkpZT1lKm0rdFtpXTtyZXR1cm4gZX0sdC5wcm90b3R5cGUuc2ltcGxpZnk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJ1ZjtyZXR1cm4gMT09dC5sZW5ndGg/dFswXTp0aGlzfSx0fSgpLGI9IuKApiIsVD0vXihcZFxkKSgwWzEtOV18MVswLTJdKSgwWzEtOV18WzEyXVxkfDNbMDFdKShbMDFdXGR8MlswLTNdKSg/OihbMC01XVxkKSg/OihbMC01XVxkKSg/OlsuLF0oXGR7MSwzfSkpPyk/KT8oWnxbLStdKD86WzBdXGR8MVswLTJdKShbMC01XVxkKT8pPyQvLFM9L14oXGRcZFxkXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXGR8M1swMV0pKFswMV1cZHwyWzAtM10pKD86KFswLTVdXGQpKD86KFswLTVdXGQpKD86Wy4sXShcZHsxLDN9KSk/KT8pPyhafFstK10oPzpbMF1cZHwxWzAtMl0pKFswLTVdXGQpPyk/JC87ZnVuY3Rpb24gRSh0LGUpe3JldHVybiB0Lmxlbmd0aD5lJiYodD10LnN1YnN0cmluZygwLGUpK2IpLHR9dmFyIHcsRD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt0aGlzLmhleERpZ2l0cz0iMDEyMzQ1Njc4OUFCQ0RFRiIsZSBpbnN0YW5jZW9mIHQ/KHRoaXMuZW5jPWUuZW5jLHRoaXMucG9zPWUucG9zKToodGhpcy5lbmM9ZSx0aGlzLnBvcz1pKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMucG9zKyspLHQ+PXRoaXMuZW5jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlJlcXVlc3RpbmcgYnl0ZSBvZmZzZXQgIi5jb25jYXQodCwiIG9uIGEgc3RyZWFtIG9mIGxlbmd0aCAiKS5jb25jYXQodGhpcy5lbmMubGVuZ3RoKSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0aGlzLmVuYz90aGlzLmVuYy5jaGFyQ29kZUF0KHQpOnRoaXMuZW5jW3RdfSx0LnByb3RvdHlwZS5oZXhCeXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhleERpZ2l0cy5jaGFyQXQodD4+NCYxNSkrdGhpcy5oZXhEaWdpdHMuY2hhckF0KDE1JnQpfSx0LnByb3RvdHlwZS5oZXhEdW1wPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHI9IiIsbj10O248ZTsrK24paWYocis9dGhpcy5oZXhCeXRlKHRoaXMuZ2V0KG4pKSwhMCE9PWkpc3dpdGNoKDE1Jm4pe2Nhc2UgNzpyKz0iICAiO2JyZWFrO2Nhc2UgMTU6cis9IlxuIjticmVhaztkZWZhdWx0OnIrPSIgIn1yZXR1cm4gcn0sdC5wcm90b3R5cGUuaXNBU0NJST1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10O2k8ZTsrK2kpe3ZhciByPXRoaXMuZ2V0KGkpO2lmKHI8MzJ8fHI+MTc2KXJldHVybiExfXJldHVybiEwfSx0LnByb3RvdHlwZS5wYXJzZVN0cmluZ0lTTz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0iIixyPXQ7cjxlOysrcilpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuZ2V0KHIpKTtyZXR1cm4gaX0sdC5wcm90b3R5cGUucGFyc2VTdHJpbmdVVEY9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9IiIscj10O3I8ZTspe3ZhciBuPXRoaXMuZ2V0KHIrKyk7aSs9bjwxMjg/U3RyaW5nLmZyb21DaGFyQ29kZShuKTpuPjE5MSYmbjwyMjQ/U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmbik8PDZ8NjMmdGhpcy5nZXQocisrKSk6U3RyaW5nLmZyb21DaGFyQ29kZSgoMTUmbik8PDEyfCg2MyZ0aGlzLmdldChyKyspKTw8Nnw2MyZ0aGlzLmdldChyKyspKX1yZXR1cm4gaX0sdC5wcm90b3R5cGUucGFyc2VTdHJpbmdCTVA9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkscixuPSIiLHM9dDtzPGU7KWk9dGhpcy5nZXQocysrKSxyPXRoaXMuZ2V0KHMrKyksbis9U3RyaW5nLmZyb21DaGFyQ29kZShpPDw4fHIpO3JldHVybiBufSx0LnByb3RvdHlwZS5wYXJzZVRpbWU9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMucGFyc2VTdHJpbmdJU08odCxlKSxuPShpP1Q6UykuZXhlYyhyKTtyZXR1cm4gbj8oaSYmKG5bMV09K25bMV0sblsxXSs9K25bMV08NzA/MmUzOjE5MDApLHI9blsxXSsiLSIrblsyXSsiLSIrblszXSsiICIrbls0XSxuWzVdJiYocis9IjoiK25bNV0sbls2XSYmKHIrPSI6IituWzZdLG5bN10mJihyKz0iLiIrbls3XSkpKSxuWzhdJiYocis9IiBVVEMiLCJaIiE9bls4XSYmKHIrPW5bOF0sbls5XSYmKHIrPSI6IituWzldKSkpLHIpOiJVbnJlY29nbml6ZWQgdGltZTogIityfSx0LnByb3RvdHlwZS5wYXJzZUludGVnZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkscj10aGlzLmdldCh0KSxuPXI+MTI3LHM9bj8yNTU6MCxvPSIiO3I9PXMmJisrdDxlOylyPXRoaXMuZ2V0KHQpO2lmKDA9PShpPWUtdCkpcmV0dXJuIG4/LTE6MDtpZihpPjQpe2ZvcihvPXIsaTw8PTM7MD09KDEyOCYoK29ecykpOylvPStvPDwxLC0taTtvPSIoIitpKyIgYml0KVxuIn1uJiYoci09MjU2KTtmb3IodmFyIGg9bmV3IHkociksYT10KzE7YTxlOysrYSloLm11bEFkZCgyNTYsdGhpcy5nZXQoYSkpO3JldHVybiBvK2gudG9TdHJpbmcoKX0sdC5wcm90b3R5cGUucGFyc2VCaXRTdHJpbmc9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcj10aGlzLmdldCh0KSxuPSIoIisoKGUtdC0xPDwzKS1yKSsiIGJpdClcbiIscz0iIixvPXQrMTtvPGU7KytvKXtmb3IodmFyIGg9dGhpcy5nZXQobyksYT1vPT1lLTE/cjowLHU9Nzt1Pj1hOy0tdSlzKz1oPj51JjE/IjEiOiIwIjtpZihzLmxlbmd0aD5pKXJldHVybiBuK0UocyxpKX1yZXR1cm4gbitzfSx0LnByb3RvdHlwZS5wYXJzZU9jdGV0U3RyaW5nPWZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLmlzQVNDSUkodCxlKSlyZXR1cm4gRSh0aGlzLnBhcnNlU3RyaW5nSVNPKHQsZSksaSk7dmFyIHI9ZS10LG49IigiK3IrIiBieXRlKVxuIjtyPihpLz0yKSYmKGU9dCtpKTtmb3IodmFyIHM9dDtzPGU7KytzKW4rPXRoaXMuaGV4Qnl0ZSh0aGlzLmdldChzKSk7cmV0dXJuIHI+aSYmKG4rPWIpLG59LHQucHJvdG90eXBlLnBhcnNlT0lEPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHI9IiIsbj1uZXcgeSxzPTAsbz10O288ZTsrK28pe3ZhciBoPXRoaXMuZ2V0KG8pO2lmKG4ubXVsQWRkKDEyOCwxMjcmaCkscys9NywhKDEyOCZoKSl7aWYoIiI9PT1yKWlmKChuPW4uc2ltcGxpZnkoKSlpbnN0YW5jZW9mIHkpbi5zdWIoODApLHI9IjIuIituLnRvU3RyaW5nKCk7ZWxzZXt2YXIgYT1uPDgwP248NDA/MDoxOjI7cj1hKyIuIisobi00MCphKX1lbHNlIHIrPSIuIituLnRvU3RyaW5nKCk7aWYoci5sZW5ndGg+aSlyZXR1cm4gRShyLGkpO249bmV3IHkscz0wfX1yZXR1cm4gcz4wJiYocis9Ii5pbmNvbXBsZXRlIikscn0sdH0oKSx4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxyLG4pe2lmKCEociBpbnN0YW5jZW9mIFIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0YWcgdmFsdWUuIik7dGhpcy5zdHJlYW09dCx0aGlzLmhlYWRlcj1lLHRoaXMubGVuZ3RoPWksdGhpcy50YWc9cix0aGlzLnN1Yj1ufXJldHVybiB0LnByb3RvdHlwZS50eXBlTmFtZT1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnRhZy50YWdDbGFzcyl7Y2FzZSAwOnN3aXRjaCh0aGlzLnRhZy50YWdOdW1iZXIpe2Nhc2UgMDpyZXR1cm4iRU9DIjtjYXNlIDE6cmV0dXJuIkJPT0xFQU4iO2Nhc2UgMjpyZXR1cm4iSU5URUdFUiI7Y2FzZSAzOnJldHVybiJCSVRfU1RSSU5HIjtjYXNlIDQ6cmV0dXJuIk9DVEVUX1NUUklORyI7Y2FzZSA1OnJldHVybiJOVUxMIjtjYXNlIDY6cmV0dXJuIk9CSkVDVF9JREVOVElGSUVSIjtjYXNlIDc6cmV0dXJuIk9iamVjdERlc2NyaXB0b3IiO2Nhc2UgODpyZXR1cm4iRVhURVJOQUwiO2Nhc2UgOTpyZXR1cm4iUkVBTCI7Y2FzZSAxMDpyZXR1cm4iRU5VTUVSQVRFRCI7Y2FzZSAxMTpyZXR1cm4iRU1CRURERURfUERWIjtjYXNlIDEyOnJldHVybiJVVEY4U3RyaW5nIjtjYXNlIDE2OnJldHVybiJTRVFVRU5DRSI7Y2FzZSAxNzpyZXR1cm4iU0VUIjtjYXNlIDE4OnJldHVybiJOdW1lcmljU3RyaW5nIjtjYXNlIDE5OnJldHVybiJQcmludGFibGVTdHJpbmciO2Nhc2UgMjA6cmV0dXJuIlRlbGV0ZXhTdHJpbmciO2Nhc2UgMjE6cmV0dXJuIlZpZGVvdGV4U3RyaW5nIjtjYXNlIDIyOnJldHVybiJJQTVTdHJpbmciO2Nhc2UgMjM6cmV0dXJuIlVUQ1RpbWUiO2Nhc2UgMjQ6cmV0dXJuIkdlbmVyYWxpemVkVGltZSI7Y2FzZSAyNTpyZXR1cm4iR3JhcGhpY1N0cmluZyI7Y2FzZSAyNjpyZXR1cm4iVmlzaWJsZVN0cmluZyI7Y2FzZSAyNzpyZXR1cm4iR2VuZXJhbFN0cmluZyI7Y2FzZSAyODpyZXR1cm4iVW5pdmVyc2FsU3RyaW5nIjtjYXNlIDMwOnJldHVybiJCTVBTdHJpbmcifXJldHVybiJVbml2ZXJzYWxfIit0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKTtjYXNlIDE6cmV0dXJuIkFwcGxpY2F0aW9uXyIrdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCk7Y2FzZSAyOnJldHVybiJbIit0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKSsiXSI7Y2FzZSAzOnJldHVybiJQcml2YXRlXyIrdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCl9fSx0LnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXRoaXMudGFnKXJldHVybiBudWxsO3ZvaWQgMD09PXQmJih0PTEvMCk7dmFyIGU9dGhpcy5wb3NDb250ZW50KCksaT1NYXRoLmFicyh0aGlzLmxlbmd0aCk7aWYoIXRoaXMudGFnLmlzVW5pdmVyc2FsKCkpcmV0dXJuIG51bGwhPT10aGlzLnN1Yj8iKCIrdGhpcy5zdWIubGVuZ3RoKyIgZWxlbSkiOnRoaXMuc3RyZWFtLnBhcnNlT2N0ZXRTdHJpbmcoZSxlK2ksdCk7c3dpdGNoKHRoaXMudGFnLnRhZ051bWJlcil7Y2FzZSAxOnJldHVybiAwPT09dGhpcy5zdHJlYW0uZ2V0KGUpPyJmYWxzZSI6InRydWUiO2Nhc2UgMjpyZXR1cm4gdGhpcy5zdHJlYW0ucGFyc2VJbnRlZ2VyKGUsZStpKTtjYXNlIDM6cmV0dXJuIHRoaXMuc3ViPyIoIit0aGlzLnN1Yi5sZW5ndGgrIiBlbGVtKSI6dGhpcy5zdHJlYW0ucGFyc2VCaXRTdHJpbmcoZSxlK2ksdCk7Y2FzZSA0OnJldHVybiB0aGlzLnN1Yj8iKCIrdGhpcy5zdWIubGVuZ3RoKyIgZWxlbSkiOnRoaXMuc3RyZWFtLnBhcnNlT2N0ZXRTdHJpbmcoZSxlK2ksdCk7Y2FzZSA2OnJldHVybiB0aGlzLnN0cmVhbS5wYXJzZU9JRChlLGUraSx0KTtjYXNlIDE2OmNhc2UgMTc6cmV0dXJuIG51bGwhPT10aGlzLnN1Yj8iKCIrdGhpcy5zdWIubGVuZ3RoKyIgZWxlbSkiOiIobm8gZWxlbSkiO2Nhc2UgMTI6cmV0dXJuIEUodGhpcy5zdHJlYW0ucGFyc2VTdHJpbmdVVEYoZSxlK2kpLHQpO2Nhc2UgMTg6Y2FzZSAxOTpjYXNlIDIwOmNhc2UgMjE6Y2FzZSAyMjpjYXNlIDI2OnJldHVybiBFKHRoaXMuc3RyZWFtLnBhcnNlU3RyaW5nSVNPKGUsZStpKSx0KTtjYXNlIDMwOnJldHVybiBFKHRoaXMuc3RyZWFtLnBhcnNlU3RyaW5nQk1QKGUsZStpKSx0KTtjYXNlIDIzOmNhc2UgMjQ6cmV0dXJuIHRoaXMuc3RyZWFtLnBhcnNlVGltZShlLGUraSwyMz09dGhpcy50YWcudGFnTnVtYmVyKX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlTmFtZSgpKyJAIit0aGlzLnN0cmVhbS5wb3MrIltoZWFkZXI6Iit0aGlzLmhlYWRlcisiLGxlbmd0aDoiK3RoaXMubGVuZ3RoKyIsc3ViOiIrKG51bGw9PT10aGlzLnN1Yj8ibnVsbCI6dGhpcy5zdWIubGVuZ3RoKSsiXSJ9LHQucHJvdG90eXBlLnRvUHJldHR5U3RyaW5nPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSIiKTt2YXIgZT10K3RoaXMudHlwZU5hbWUoKSsiIEAiK3RoaXMuc3RyZWFtLnBvcztpZih0aGlzLmxlbmd0aD49MCYmKGUrPSIrIiksZSs9dGhpcy5sZW5ndGgsdGhpcy50YWcudGFnQ29uc3RydWN0ZWQ/ZSs9IiAoY29uc3RydWN0ZWQpIjohdGhpcy50YWcuaXNVbml2ZXJzYWwoKXx8MyE9dGhpcy50YWcudGFnTnVtYmVyJiY0IT10aGlzLnRhZy50YWdOdW1iZXJ8fG51bGw9PT10aGlzLnN1Ynx8KGUrPSIgKGVuY2Fwc3VsYXRlcykiKSxlKz0iXG4iLG51bGwhPT10aGlzLnN1Yil7dCs9IiAgIjtmb3IodmFyIGk9MCxyPXRoaXMuc3ViLmxlbmd0aDtpPHI7KytpKWUrPXRoaXMuc3ViW2ldLnRvUHJldHR5U3RyaW5nKHQpfXJldHVybiBlfSx0LnByb3RvdHlwZS5wb3NTdGFydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVhbS5wb3N9LHQucHJvdG90eXBlLnBvc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW0ucG9zK3RoaXMuaGVhZGVyfSx0LnByb3RvdHlwZS5wb3NFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW0ucG9zK3RoaXMuaGVhZGVyK01hdGguYWJzKHRoaXMubGVuZ3RoKX0sdC5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW0uaGV4RHVtcCh0aGlzLnBvc1N0YXJ0KCksdGhpcy5wb3NFbmQoKSwhMCl9LHQuZGVjb2RlTGVuZ3RoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCksaT0xMjcmZTtpZihpPT1lKXJldHVybiBpO2lmKGk+Nil0aHJvdyBuZXcgRXJyb3IoIkxlbmd0aCBvdmVyIDQ4IGJpdHMgbm90IHN1cHBvcnRlZCBhdCBwb3NpdGlvbiAiKyh0LnBvcy0xKSk7aWYoMD09PWkpcmV0dXJuIG51bGw7ZT0wO2Zvcih2YXIgcj0wO3I8aTsrK3IpZT0yNTYqZSt0LmdldCgpO3JldHVybiBlfSx0LnByb3RvdHlwZS5nZXRIZXhTdHJpbmdWYWx1ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudG9IZXhTdHJpbmcoKSxlPTIqdGhpcy5oZWFkZXIsaT0yKnRoaXMubGVuZ3RoO3JldHVybiB0LnN1YnN0cihlLGkpfSx0LmRlY29kZT1mdW5jdGlvbihlKXt2YXIgaTtpPWUgaW5zdGFuY2VvZiBEP2U6bmV3IEQoZSwwKTt2YXIgcj1uZXcgRChpKSxuPW5ldyBSKGkpLHM9dC5kZWNvZGVMZW5ndGgoaSksbz1pLnBvcyxoPW8tci5wb3MsYT1udWxsLHU9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZihudWxsIT09cyl7Zm9yKHZhciByPW8rcztpLnBvczxyOyllW2UubGVuZ3RoXT10LmRlY29kZShpKTtpZihpLnBvcyE9cil0aHJvdyBuZXcgRXJyb3IoIkNvbnRlbnQgc2l6ZSBpcyBub3QgY29ycmVjdCBmb3IgY29udGFpbmVyIHN0YXJ0aW5nIGF0IG9mZnNldCAiK28pfWVsc2UgdHJ5e2Zvcig7Oyl7dmFyIG49dC5kZWNvZGUoaSk7aWYobi50YWcuaXNFT0MoKSlicmVhaztlW2UubGVuZ3RoXT1ufXM9by1pLnBvc31jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoIkV4Y2VwdGlvbiB3aGlsZSBkZWNvZGluZyB1bmRlZmluZWQgbGVuZ3RoIGNvbnRlbnQ6ICIrdCl9cmV0dXJuIGV9O2lmKG4udGFnQ29uc3RydWN0ZWQpYT11KCk7ZWxzZSBpZihuLmlzVW5pdmVyc2FsKCkmJigzPT1uLnRhZ051bWJlcnx8ND09bi50YWdOdW1iZXIpKXRyeXtpZigzPT1uLnRhZ051bWJlciYmMCE9aS5nZXQoKSl0aHJvdyBuZXcgRXJyb3IoIkJJVCBTVFJJTkdzIHdpdGggdW51c2VkIGJpdHMgY2Fubm90IGVuY2Fwc3VsYXRlLiIpO2E9dSgpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10udGFnLmlzRU9DKCkpdGhyb3cgbmV3IEVycm9yKCJFT0MgaXMgbm90IHN1cHBvc2VkIHRvIGJlIGFjdHVhbCBjb250ZW50LiIpfWNhdGNoKHQpe2E9bnVsbH1pZihudWxsPT09YSl7aWYobnVsbD09PXMpdGhyb3cgbmV3IEVycm9yKCJXZSBjYW4ndCBza2lwIG92ZXIgYW4gaW52YWxpZCB0YWcgd2l0aCB1bmRlZmluZWQgbGVuZ3RoIGF0IG9mZnNldCAiK28pO2kucG9zPW8rTWF0aC5hYnMocyl9cmV0dXJuIG5ldyB0KHIsaCxzLG4sYSl9LHR9KCksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dC5nZXQoKTtpZih0aGlzLnRhZ0NsYXNzPWU+PjYsdGhpcy50YWdDb25zdHJ1Y3RlZD0wIT0oMzImZSksdGhpcy50YWdOdW1iZXI9MzEmZSwzMT09dGhpcy50YWdOdW1iZXIpe3ZhciBpPW5ldyB5O2Rve2U9dC5nZXQoKSxpLm11bEFkZCgxMjgsMTI3JmUpfXdoaWxlKDEyOCZlKTt0aGlzLnRhZ051bWJlcj1pLnNpbXBsaWZ5KCl9fXJldHVybiB0LnByb3RvdHlwZS5pc1VuaXZlcnNhbD1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy50YWdDbGFzc30sdC5wcm90b3R5cGUuaXNFT0M9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMudGFnQ2xhc3MmJjA9PT10aGlzLnRhZ051bWJlcn0sdH0oKSxCPVsyLDMsNSw3LDExLDEzLDE3LDE5LDIzLDI5LDMxLDM3LDQxLDQzLDQ3LDUzLDU5LDYxLDY3LDcxLDczLDc5LDgzLDg5LDk3LDEwMSwxMDMsMTA3LDEwOSwxMTMsMTI3LDEzMSwxMzcsMTM5LDE0OSwxNTEsMTU3LDE2MywxNjcsMTczLDE3OSwxODEsMTkxLDE5MywxOTcsMTk5LDIxMSwyMjMsMjI3LDIyOSwyMzMsMjM5LDI0MSwyNTEsMjU3LDI2MywyNjksMjcxLDI3NywyODEsMjgzLDI5MywzMDcsMzExLDMxMywzMTcsMzMxLDMzNywzNDcsMzQ5LDM1MywzNTksMzY3LDM3MywzNzksMzgzLDM4OSwzOTcsNDAxLDQwOSw0MTksNDIxLDQzMSw0MzMsNDM5LDQ0Myw0NDksNDU3LDQ2MSw0NjMsNDY3LDQ3OSw0ODcsNDkxLDQ5OSw1MDMsNTA5LDUyMSw1MjMsNTQxLDU0Nyw1NTcsNTYzLDU2OSw1NzEsNTc3LDU4Nyw1OTMsNTk5LDYwMSw2MDcsNjEzLDYxNyw2MTksNjMxLDY0MSw2NDMsNjQ3LDY1Myw2NTksNjYxLDY3Myw2NzcsNjgzLDY5MSw3MDEsNzA5LDcxOSw3MjcsNzMzLDczOSw3NDMsNzUxLDc1Nyw3NjEsNzY5LDc3Myw3ODcsNzk3LDgwOSw4MTEsODIxLDgyMyw4MjcsODI5LDgzOSw4NTMsODU3LDg1OSw4NjMsODc3LDg4MSw4ODMsODg3LDkwNyw5MTEsOTE5LDkyOSw5MzcsOTQxLDk0Nyw5NTMsOTY3LDk3MSw5NzcsOTgzLDk5MSw5OTddLEE9KDE8PDI2KS9CW0IubGVuZ3RoLTFdLE89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXtudWxsIT10JiYoIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuZnJvbU51bWJlcih0LGUsaSk6bnVsbD09ZSYmInN0cmluZyIhPXR5cGVvZiB0P3RoaXMuZnJvbVN0cmluZyh0LDI1Nik6dGhpcy5mcm9tU3RyaW5nKHQsZSkpfXJldHVybiB0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbih0KXtpZih0aGlzLnM8MClyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b1N0cmluZyh0KTt2YXIgaTtpZigxNj09dClpPTQ7ZWxzZSBpZig4PT10KWk9MztlbHNlIGlmKDI9PXQpaT0xO2Vsc2UgaWYoMzI9PXQpaT01O2Vsc2V7aWYoNCE9dClyZXR1cm4gdGhpcy50b1JhZGl4KHQpO2k9Mn12YXIgcixuPSgxPDxpKS0xLHM9ITEsbz0iIixoPXRoaXMudCxhPXRoaXMuREItaCp0aGlzLkRCJWk7aWYoaC0tID4wKWZvcihhPHRoaXMuREImJihyPXRoaXNbaF0+PmEpPjAmJihzPSEwLG89ZShyKSk7aD49MDspYTxpPyhyPSh0aGlzW2hdJigxPDxhKS0xKTw8aS1hLHJ8PXRoaXNbLS1oXT4+KGErPXRoaXMuREItaSkpOihyPXRoaXNbaF0+PihhLT1pKSZuLGE8PTAmJihhKz10aGlzLkRCLC0taCkpLHI+MCYmKHM9ITApLHMmJihvKz1lKHIpKTtyZXR1cm4gcz9vOiIwIn0sdC5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiB0LlpFUk8uc3ViVG8odGhpcyxlKSxlfSx0LnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zLXQucztpZigwIT1lKXJldHVybiBlO3ZhciBpPXRoaXMudDtpZigwIT0oZT1pLXQudCkpcmV0dXJuIHRoaXMuczwwPy1lOmU7Zm9yKDstLWk+PTA7KWlmKDAhPShlPXRoaXNbaV0tdFtpXSkpcmV0dXJuIGU7cmV0dXJuIDB9LHQucHJvdG90eXBlLmJpdExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnQ8PTA/MDp0aGlzLkRCKih0aGlzLnQtMSkrSyh0aGlzW3RoaXMudC0xXV50aGlzLnMmdGhpcy5ETSl9LHQucHJvdG90eXBlLm1vZD1mdW5jdGlvbihlKXt2YXIgaT1NKCk7cmV0dXJuIHRoaXMuYWJzKCkuZGl2UmVtVG8oZSxudWxsLGkpLHRoaXMuczwwJiZpLmNvbXBhcmVUbyh0LlpFUk8pPjAmJmUuc3ViVG8oaSxpKSxpfSx0LnByb3RvdHlwZS5tb2RQb3dJbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gaT10PDI1Nnx8ZS5pc0V2ZW4oKT9uZXcgSShlKTpuZXcgTihlKSx0aGlzLmV4cCh0LGkpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PU0oKTtyZXR1cm4gdGhpcy5jb3B5VG8odCksdH0sdC5wcm90b3R5cGUuaW50VmFsdWU9ZnVuY3Rpb24oKXtpZih0aGlzLnM8MCl7aWYoMT09dGhpcy50KXJldHVybiB0aGlzWzBdLXRoaXMuRFY7aWYoMD09dGhpcy50KXJldHVybi0xfWVsc2V7aWYoMT09dGhpcy50KXJldHVybiB0aGlzWzBdO2lmKDA9PXRoaXMudClyZXR1cm4gMH1yZXR1cm4odGhpc1sxXSYoMTw8MzItdGhpcy5EQiktMSk8PHRoaXMuREJ8dGhpc1swXX0sdC5wcm90b3R5cGUuYnl0ZVZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpc1swXTw8MjQ+PjI0fSx0LnByb3RvdHlwZS5zaG9ydFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpc1swXTw8MTY+PjE2fSx0LnByb3RvdHlwZS5zaWdudW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/LTE6dGhpcy50PD0wfHwxPT10aGlzLnQmJnRoaXNbMF08PTA/MDoxfSx0LnByb3RvdHlwZS50b0J5dGVBcnJheT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudCxlPVtdO2VbMF09dGhpcy5zO3ZhciBpLHI9dGhpcy5EQi10KnRoaXMuREIlOCxuPTA7aWYodC0tID4wKWZvcihyPHRoaXMuREImJihpPXRoaXNbdF0+PnIpIT0odGhpcy5zJnRoaXMuRE0pPj5yJiYoZVtuKytdPWl8dGhpcy5zPDx0aGlzLkRCLXIpO3Q+PTA7KXI8OD8oaT0odGhpc1t0XSYoMTw8ciktMSk8PDgtcixpfD10aGlzWy0tdF0+PihyKz10aGlzLkRCLTgpKTooaT10aGlzW3RdPj4oci09OCkmMjU1LHI8PTAmJihyKz10aGlzLkRCLC0tdCkpLDAhPSgxMjgmaSkmJihpfD0tMjU2KSwwPT1uJiYoMTI4JnRoaXMucykhPSgxMjgmaSkmJisrbiwobj4wfHxpIT10aGlzLnMpJiYoZVtuKytdPWkpO3JldHVybiBlfSx0LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVRvKHQpfSx0LnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcGFyZVRvKHQpPDA/dGhpczp0fSx0LnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcGFyZVRvKHQpPjA/dGhpczp0fSx0LnByb3RvdHlwZS5hbmQ9ZnVuY3Rpb24odCl7dmFyIGU9TSgpO3JldHVybiB0aGlzLmJpdHdpc2VUbyh0LG4sZSksZX0sdC5wcm90b3R5cGUub3I9ZnVuY3Rpb24odCl7dmFyIGU9TSgpO3JldHVybiB0aGlzLmJpdHdpc2VUbyh0LHMsZSksZX0sdC5wcm90b3R5cGUueG9yPWZ1bmN0aW9uKHQpe3ZhciBlPU0oKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8odCxvLGUpLGV9LHQucHJvdG90eXBlLmFuZE5vdD1mdW5jdGlvbih0KXt2YXIgZT1NKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKHQsaCxlKSxlfSx0LnByb3RvdHlwZS5ub3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9TSgpLGU9MDtlPHRoaXMudDsrK2UpdFtlXT10aGlzLkRNJn50aGlzW2VdO3JldHVybiB0LnQ9dGhpcy50LHQucz1+dGhpcy5zLHR9LHQucHJvdG90eXBlLnNoaWZ0TGVmdD1mdW5jdGlvbih0KXt2YXIgZT1NKCk7cmV0dXJuIHQ8MD90aGlzLnJTaGlmdFRvKC10LGUpOnRoaXMubFNoaWZ0VG8odCxlKSxlfSx0LnByb3RvdHlwZS5zaGlmdFJpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPU0oKTtyZXR1cm4gdDwwP3RoaXMubFNoaWZ0VG8oLXQsZSk6dGhpcy5yU2hpZnRUbyh0LGUpLGV9LHQucHJvdG90eXBlLmdldExvd2VzdFNldEJpdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy50OysrdClpZigwIT10aGlzW3RdKXJldHVybiB0KnRoaXMuREIrYSh0aGlzW3RdKTtyZXR1cm4gdGhpcy5zPDA/dGhpcy50KnRoaXMuREI6LTF9LHQucHJvdG90eXBlLmJpdENvdW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLnMmdGhpcy5ETSxpPTA7aTx0aGlzLnQ7KytpKXQrPXUodGhpc1tpXV5lKTtyZXR1cm4gdH0sdC5wcm90b3R5cGUudGVzdEJpdD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKHQvdGhpcy5EQik7cmV0dXJuIGU+PXRoaXMudD8wIT10aGlzLnM6MCE9KHRoaXNbZV0mMTw8dCV0aGlzLkRCKX0sdC5wcm90b3R5cGUuc2V0Qml0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYW5nZUJpdCh0LHMpfSx0LnByb3RvdHlwZS5jbGVhckJpdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFuZ2VCaXQodCxoKX0sdC5wcm90b3R5cGUuZmxpcEJpdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFuZ2VCaXQodCxvKX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlPU0oKTtyZXR1cm4gdGhpcy5hZGRUbyh0LGUpLGV9LHQucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKHQpe3ZhciBlPU0oKTtyZXR1cm4gdGhpcy5zdWJUbyh0LGUpLGV9LHQucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPU0oKTtyZXR1cm4gdGhpcy5tdWx0aXBseVRvKHQsZSksZX0sdC5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uKHQpe3ZhciBlPU0oKTtyZXR1cm4gdGhpcy5kaXZSZW1Ubyh0LGUsbnVsbCksZX0sdC5wcm90b3R5cGUucmVtYWluZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPU0oKTtyZXR1cm4gdGhpcy5kaXZSZW1Ubyh0LG51bGwsZSksZX0sdC5wcm90b3R5cGUuZGl2aWRlQW5kUmVtYWluZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPU0oKSxpPU0oKTtyZXR1cm4gdGhpcy5kaXZSZW1Ubyh0LGUsaSksW2UsaV19LHQucHJvdG90eXBlLm1vZFBvdz1mdW5jdGlvbih0LGUpe3ZhciBpLHIsbj10LmJpdExlbmd0aCgpLHM9RigxKTtpZihuPD0wKXJldHVybiBzO2k9bjwxOD8xOm48NDg/MzpuPDE0ND80Om48NzY4PzU6NixyPW48OD9uZXcgSShlKTplLmlzRXZlbigpP25ldyBQKGUpOm5ldyBOKGUpO3ZhciBvPVtdLGg9MyxhPWktMSx1PSgxPDxpKS0xO2lmKG9bMV09ci5jb252ZXJ0KHRoaXMpLGk+MSl7dmFyIGM9TSgpO2ZvcihyLnNxclRvKG9bMV0sYyk7aDw9dTspb1toXT1NKCksci5tdWxUbyhjLG9baC0yXSxvW2hdKSxoKz0yfXZhciBmLGwscD10LnQtMSxnPSEwLGQ9TSgpO2ZvcihuPUsodFtwXSktMTtwPj0wOyl7Zm9yKG4+PWE/Zj10W3BdPj5uLWEmdTooZj0odFtwXSYoMTw8bisxKS0xKTw8YS1uLHA+MCYmKGZ8PXRbcC0xXT4+dGhpcy5EQituLWEpKSxoPWk7MD09KDEmZik7KWY+Pj0xLC0taDtpZigobi09aCk8MCYmKG4rPXRoaXMuREIsLS1wKSxnKW9bZl0uY29weVRvKHMpLGc9ITE7ZWxzZXtmb3IoO2g+MTspci5zcXJUbyhzLGQpLHIuc3FyVG8oZCxzKSxoLT0yO2g+MD9yLnNxclRvKHMsZCk6KGw9cyxzPWQsZD1sKSxyLm11bFRvKGQsb1tmXSxzKX1mb3IoO3A+PTAmJjA9PSh0W3BdJjE8PG4pOylyLnNxclRvKHMsZCksbD1zLHM9ZCxkPWwsLS1uPDAmJihuPXRoaXMuREItMSwtLXApfXJldHVybiByLnJldmVydChzKX0sdC5wcm90b3R5cGUubW9kSW52ZXJzZT1mdW5jdGlvbihlKXt2YXIgaT1lLmlzRXZlbigpO2lmKHRoaXMuaXNFdmVuKCkmJml8fDA9PWUuc2lnbnVtKCkpcmV0dXJuIHQuWkVSTztmb3IodmFyIHI9ZS5jbG9uZSgpLG49dGhpcy5jbG9uZSgpLHM9RigxKSxvPUYoMCksaD1GKDApLGE9RigxKTswIT1yLnNpZ251bSgpOyl7Zm9yKDtyLmlzRXZlbigpOylyLnJTaGlmdFRvKDEsciksaT8ocy5pc0V2ZW4oKSYmby5pc0V2ZW4oKXx8KHMuYWRkVG8odGhpcyxzKSxvLnN1YlRvKGUsbykpLHMuclNoaWZ0VG8oMSxzKSk6by5pc0V2ZW4oKXx8by5zdWJUbyhlLG8pLG8uclNoaWZ0VG8oMSxvKTtmb3IoO24uaXNFdmVuKCk7KW4uclNoaWZ0VG8oMSxuKSxpPyhoLmlzRXZlbigpJiZhLmlzRXZlbigpfHwoaC5hZGRUbyh0aGlzLGgpLGEuc3ViVG8oZSxhKSksaC5yU2hpZnRUbygxLGgpKTphLmlzRXZlbigpfHxhLnN1YlRvKGUsYSksYS5yU2hpZnRUbygxLGEpO3IuY29tcGFyZVRvKG4pPj0wPyhyLnN1YlRvKG4sciksaSYmcy5zdWJUbyhoLHMpLG8uc3ViVG8oYSxvKSk6KG4uc3ViVG8ocixuKSxpJiZoLnN1YlRvKHMsaCksYS5zdWJUbyhvLGEpKX1yZXR1cm4gMCE9bi5jb21wYXJlVG8odC5PTkUpP3QuWkVSTzphLmNvbXBhcmVUbyhlKT49MD9hLnN1YnRyYWN0KGUpOmEuc2lnbnVtKCk8MD8oYS5hZGRUbyhlLGEpLGEuc2lnbnVtKCk8MD9hLmFkZChlKTphKTphfSx0LnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXhwKHQsbmV3IFYpfSx0LnByb3RvdHlwZS5nY2Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzLmNsb25lKCksaT10LnM8MD90Lm5lZ2F0ZSgpOnQuY2xvbmUoKTtpZihlLmNvbXBhcmVUbyhpKTwwKXt2YXIgcj1lO2U9aSxpPXJ9dmFyIG49ZS5nZXRMb3dlc3RTZXRCaXQoKSxzPWkuZ2V0TG93ZXN0U2V0Qml0KCk7aWYoczwwKXJldHVybiBlO2ZvcihuPHMmJihzPW4pLHM+MCYmKGUuclNoaWZ0VG8ocyxlKSxpLnJTaGlmdFRvKHMsaSkpO2Uuc2lnbnVtKCk+MDspKG49ZS5nZXRMb3dlc3RTZXRCaXQoKSk+MCYmZS5yU2hpZnRUbyhuLGUpLChuPWkuZ2V0TG93ZXN0U2V0Qml0KCkpPjAmJmkuclNoaWZ0VG8obixpKSxlLmNvbXBhcmVUbyhpKT49MD8oZS5zdWJUbyhpLGUpLGUuclNoaWZ0VG8oMSxlKSk6KGkuc3ViVG8oZSxpKSxpLnJTaGlmdFRvKDEsaSkpO3JldHVybiBzPjAmJmkubFNoaWZ0VG8ocyxpKSxpfSx0LnByb3RvdHlwZS5pc1Byb2JhYmxlUHJpbWU9ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLmFicygpO2lmKDE9PWkudCYmaVswXTw9QltCLmxlbmd0aC0xXSl7Zm9yKGU9MDtlPEIubGVuZ3RoOysrZSlpZihpWzBdPT1CW2VdKXJldHVybiEwO3JldHVybiExfWlmKGkuaXNFdmVuKCkpcmV0dXJuITE7Zm9yKGU9MTtlPEIubGVuZ3RoOyl7Zm9yKHZhciByPUJbZV0sbj1lKzE7bjxCLmxlbmd0aCYmcjxBOylyKj1CW24rK107Zm9yKHI9aS5tb2RJbnQocik7ZTxuOylpZihyJUJbZSsrXT09MClyZXR1cm4hMX1yZXR1cm4gaS5taWxsZXJSYWJpbih0KX0sdC5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnQtMTtlPj0wOy0tZSl0W2VdPXRoaXNbZV07dC50PXRoaXMudCx0LnM9dGhpcy5zfSx0LnByb3RvdHlwZS5mcm9tSW50PWZ1bmN0aW9uKHQpe3RoaXMudD0xLHRoaXMucz10PDA/LTE6MCx0PjA/dGhpc1swXT10OnQ8LTE/dGhpc1swXT10K3RoaXMuRFY6dGhpcy50PTB9LHQucHJvdG90eXBlLmZyb21TdHJpbmc9ZnVuY3Rpb24oZSxpKXt2YXIgcjtpZigxNj09aSlyPTQ7ZWxzZSBpZig4PT1pKXI9MztlbHNlIGlmKDI1Nj09aSlyPTg7ZWxzZSBpZigyPT1pKXI9MTtlbHNlIGlmKDMyPT1pKXI9NTtlbHNle2lmKDQhPWkpcmV0dXJuIHZvaWQgdGhpcy5mcm9tUmFkaXgoZSxpKTtyPTJ9dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciBuPWUubGVuZ3RoLHM9ITEsbz0wOy0tbj49MDspe3ZhciBoPTg9PXI/MjU1JitlW25dOlUoZSxuKTtoPDA/Ii0iPT1lLmNoYXJBdChuKSYmKHM9ITApOihzPSExLDA9PW8/dGhpc1t0aGlzLnQrK109aDpvK3I+dGhpcy5EQj8odGhpc1t0aGlzLnQtMV18PShoJigxPDx0aGlzLkRCLW8pLTEpPDxvLHRoaXNbdGhpcy50KytdPWg+PnRoaXMuREItbyk6dGhpc1t0aGlzLnQtMV18PWg8PG8sKG8rPXIpPj10aGlzLkRCJiYoby09dGhpcy5EQikpfTg9PXImJjAhPSgxMjgmK2VbMF0pJiYodGhpcy5zPS0xLG8+MCYmKHRoaXNbdGhpcy50LTFdfD0oMTw8dGhpcy5EQi1vKS0xPDxvKSksdGhpcy5jbGFtcCgpLHMmJnQuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfSx0LnByb3RvdHlwZS5jbGFtcD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnMmdGhpcy5ETTt0aGlzLnQ+MCYmdGhpc1t0aGlzLnQtMV09PXQ7KS0tdGhpcy50fSx0LnByb3RvdHlwZS5kbFNoaWZ0VG89ZnVuY3Rpb24odCxlKXt2YXIgaTtmb3IoaT10aGlzLnQtMTtpPj0wOy0taSllW2krdF09dGhpc1tpXTtmb3IoaT10LTE7aT49MDstLWkpZVtpXT0wO2UudD10aGlzLnQrdCxlLnM9dGhpcy5zfSx0LnByb3RvdHlwZS5kclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dDtpPHRoaXMudDsrK2kpZVtpLXRdPXRoaXNbaV07ZS50PU1hdGgubWF4KHRoaXMudC10LDApLGUucz10aGlzLnN9LHQucHJvdG90eXBlLmxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQldGhpcy5EQixyPXRoaXMuREItaSxuPSgxPDxyKS0xLHM9TWF0aC5mbG9vcih0L3RoaXMuREIpLG89dGhpcy5zPDxpJnRoaXMuRE0saD10aGlzLnQtMTtoPj0wOy0taCllW2grcysxXT10aGlzW2hdPj5yfG8sbz0odGhpc1toXSZuKTw8aTtmb3IoaD1zLTE7aD49MDstLWgpZVtoXT0wO2Vbc109byxlLnQ9dGhpcy50K3MrMSxlLnM9dGhpcy5zLGUuY2xhbXAoKX0sdC5wcm90b3R5cGUuclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtlLnM9dGhpcy5zO3ZhciBpPU1hdGguZmxvb3IodC90aGlzLkRCKTtpZihpPj10aGlzLnQpZS50PTA7ZWxzZXt2YXIgcj10JXRoaXMuREIsbj10aGlzLkRCLXIscz0oMTw8ciktMTtlWzBdPXRoaXNbaV0+PnI7Zm9yKHZhciBvPWkrMTtvPHRoaXMudDsrK28pZVtvLWktMV18PSh0aGlzW29dJnMpPDxuLGVbby1pXT10aGlzW29dPj5yO3I+MCYmKGVbdGhpcy50LWktMV18PSh0aGlzLnMmcyk8PG4pLGUudD10aGlzLnQtaSxlLmNsYW1wKCl9fSx0LnByb3RvdHlwZS5zdWJUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLHI9MCxuPU1hdGgubWluKHQudCx0aGlzLnQpO2k8bjspcis9dGhpc1tpXS10W2ldLGVbaSsrXT1yJnRoaXMuRE0scj4+PXRoaXMuREI7aWYodC50PHRoaXMudCl7Zm9yKHItPXQucztpPHRoaXMudDspcis9dGhpc1tpXSxlW2krK109ciZ0aGlzLkRNLHI+Pj10aGlzLkRCO3IrPXRoaXMuc31lbHNle2ZvcihyKz10aGlzLnM7aTx0LnQ7KXItPXRbaV0sZVtpKytdPXImdGhpcy5ETSxyPj49dGhpcy5EQjtyLT10LnN9ZS5zPXI8MD8tMTowLHI8LTE/ZVtpKytdPXRoaXMuRFYrcjpyPjAmJihlW2krK109ciksZS50PWksZS5jbGFtcCgpfSx0LnByb3RvdHlwZS5tdWx0aXBseVRvPWZ1bmN0aW9uKGUsaSl7dmFyIHI9dGhpcy5hYnMoKSxuPWUuYWJzKCkscz1yLnQ7Zm9yKGkudD1zK24udDstLXM+PTA7KWlbc109MDtmb3Iocz0wO3M8bi50OysrcylpW3Mrci50XT1yLmFtKDAsbltzXSxpLHMsMCxyLnQpO2kucz0wLGkuY2xhbXAoKSx0aGlzLnMhPWUucyYmdC5aRVJPLnN1YlRvKGksaSl9LHQucHJvdG90eXBlLnNxdWFyZVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmFicygpLGk9dC50PTIqZS50Oy0taT49MDspdFtpXT0wO2ZvcihpPTA7aTxlLnQtMTsrK2kpe3ZhciByPWUuYW0oaSxlW2ldLHQsMippLDAsMSk7KHRbaStlLnRdKz1lLmFtKGkrMSwyKmVbaV0sdCwyKmkrMSxyLGUudC1pLTEpKT49ZS5EViYmKHRbaStlLnRdLT1lLkRWLHRbaStlLnQrMV09MSl9dC50PjAmJih0W3QudC0xXSs9ZS5hbShpLGVbaV0sdCwyKmksMCwxKSksdC5zPTAsdC5jbGFtcCgpfSx0LnByb3RvdHlwZS5kaXZSZW1Ubz1mdW5jdGlvbihlLGkscil7dmFyIG49ZS5hYnMoKTtpZighKG4udDw9MCkpe3ZhciBzPXRoaXMuYWJzKCk7aWYocy50PG4udClyZXR1cm4gbnVsbCE9aSYmaS5mcm9tSW50KDApLHZvaWQobnVsbCE9ciYmdGhpcy5jb3B5VG8ocikpO251bGw9PXImJihyPU0oKSk7dmFyIG89TSgpLGg9dGhpcy5zLGE9ZS5zLHU9dGhpcy5EQi1LKG5bbi50LTFdKTt1PjA/KG4ubFNoaWZ0VG8odSxvKSxzLmxTaGlmdFRvKHUscikpOihuLmNvcHlUbyhvKSxzLmNvcHlUbyhyKSk7dmFyIGM9by50LGY9b1tjLTFdO2lmKDAhPWYpe3ZhciBsPWYqKDE8PHRoaXMuRjEpKyhjPjE/b1tjLTJdPj50aGlzLkYyOjApLHA9dGhpcy5GVi9sLGc9KDE8PHRoaXMuRjEpL2wsZD0xPDx0aGlzLkYyLHY9ci50LG09di1jLHk9bnVsbD09aT9NKCk6aTtmb3Ioby5kbFNoaWZ0VG8obSx5KSxyLmNvbXBhcmVUbyh5KT49MCYmKHJbci50KytdPTEsci5zdWJUbyh5LHIpKSx0Lk9ORS5kbFNoaWZ0VG8oYyx5KSx5LnN1YlRvKG8sbyk7by50PGM7KW9bby50KytdPTA7Zm9yKDstLW0+PTA7KXt2YXIgYj1yWy0tdl09PWY/dGhpcy5ETTpNYXRoLmZsb29yKHJbdl0qcCsoclt2LTFdK2QpKmcpO2lmKChyW3ZdKz1vLmFtKDAsYixyLG0sMCxjKSk8Yilmb3Ioby5kbFNoaWZ0VG8obSx5KSxyLnN1YlRvKHkscik7clt2XTwtLWI7KXIuc3ViVG8oeSxyKX1udWxsIT1pJiYoci5kclNoaWZ0VG8oYyxpKSxoIT1hJiZ0LlpFUk8uc3ViVG8oaSxpKSksci50PWMsci5jbGFtcCgpLHU+MCYmci5yU2hpZnRUbyh1LHIpLGg8MCYmdC5aRVJPLnN1YlRvKHIscil9fX0sdC5wcm90b3R5cGUuaW52RGlnaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnQ8MSlyZXR1cm4gMDt2YXIgdD10aGlzWzBdO2lmKDA9PSgxJnQpKXJldHVybiAwO3ZhciBlPTMmdDtyZXR1cm4oZT0oZT0oZT0oZT1lKigyLSgxNSZ0KSplKSYxNSkqKDItKDI1NSZ0KSplKSYyNTUpKigyLSgoNjU1MzUmdCkqZSY2NTUzNSkpJjY1NTM1KSooMi10KmUldGhpcy5EVikldGhpcy5EVik+MD90aGlzLkRWLWU6LWV9LHQucHJvdG90eXBlLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzWzBdOnRoaXMucyl9LHQucHJvdG90eXBlLmV4cD1mdW5jdGlvbihlLGkpe2lmKGU+NDI5NDk2NzI5NXx8ZTwxKXJldHVybiB0Lk9ORTt2YXIgcj1NKCksbj1NKCkscz1pLmNvbnZlcnQodGhpcyksbz1LKGUpLTE7Zm9yKHMuY29weVRvKHIpOy0tbz49MDspaWYoaS5zcXJUbyhyLG4pLChlJjE8PG8pPjApaS5tdWxUbyhuLHMscik7ZWxzZXt2YXIgaD1yO3I9bixuPWh9cmV0dXJuIGkucmV2ZXJ0KHIpfSx0LnByb3RvdHlwZS5jaHVua1NpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5MTjIqdGhpcy5EQi9NYXRoLmxvZyh0KSl9LHQucHJvdG90eXBlLnRvUmFkaXg9ZnVuY3Rpb24odCl7aWYobnVsbD09dCYmKHQ9MTApLDA9PXRoaXMuc2lnbnVtKCl8fHQ8Mnx8dD4zNilyZXR1cm4iMCI7dmFyIGU9dGhpcy5jaHVua1NpemUodCksaT1NYXRoLnBvdyh0LGUpLHI9RihpKSxuPU0oKSxzPU0oKSxvPSIiO2Zvcih0aGlzLmRpdlJlbVRvKHIsbixzKTtuLnNpZ251bSgpPjA7KW89KGkrcy5pbnRWYWx1ZSgpKS50b1N0cmluZyh0KS5zdWJzdHIoMSkrbyxuLmRpdlJlbVRvKHIsbixzKTtyZXR1cm4gcy5pbnRWYWx1ZSgpLnRvU3RyaW5nKHQpK299LHQucHJvdG90eXBlLmZyb21SYWRpeD1mdW5jdGlvbihlLGkpe3RoaXMuZnJvbUludCgwKSxudWxsPT1pJiYoaT0xMCk7Zm9yKHZhciByPXRoaXMuY2h1bmtTaXplKGkpLG49TWF0aC5wb3coaSxyKSxzPSExLG89MCxoPTAsYT0wO2E8ZS5sZW5ndGg7KythKXt2YXIgdT1VKGUsYSk7dTwwPyItIj09ZS5jaGFyQXQoYSkmJjA9PXRoaXMuc2lnbnVtKCkmJihzPSEwKTooaD1pKmgrdSwrK28+PXImJih0aGlzLmRNdWx0aXBseShuKSx0aGlzLmRBZGRPZmZzZXQoaCwwKSxvPTAsaD0wKSl9bz4wJiYodGhpcy5kTXVsdGlwbHkoTWF0aC5wb3coaSxvKSksdGhpcy5kQWRkT2Zmc2V0KGgsMCkpLHMmJnQuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfSx0LnByb3RvdHlwZS5mcm9tTnVtYmVyPWZ1bmN0aW9uKGUsaSxyKXtpZigibnVtYmVyIj09dHlwZW9mIGkpaWYoZTwyKXRoaXMuZnJvbUludCgxKTtlbHNlIGZvcih0aGlzLmZyb21OdW1iZXIoZSxyKSx0aGlzLnRlc3RCaXQoZS0xKXx8dGhpcy5iaXR3aXNlVG8odC5PTkUuc2hpZnRMZWZ0KGUtMSkscyx0aGlzKSx0aGlzLmlzRXZlbigpJiZ0aGlzLmRBZGRPZmZzZXQoMSwwKTshdGhpcy5pc1Byb2JhYmxlUHJpbWUoaSk7KXRoaXMuZEFkZE9mZnNldCgyLDApLHRoaXMuYml0TGVuZ3RoKCk+ZSYmdGhpcy5zdWJUbyh0Lk9ORS5zaGlmdExlZnQoZS0xKSx0aGlzKTtlbHNle3ZhciBuPVtdLG89NyZlO24ubGVuZ3RoPTErKGU+PjMpLGkubmV4dEJ5dGVzKG4pLG8+MD9uWzBdJj0oMTw8byktMTpuWzBdPTAsdGhpcy5mcm9tU3RyaW5nKG4sMjU2KX19LHQucHJvdG90eXBlLmJpdHdpc2VUbz1mdW5jdGlvbih0LGUsaSl7dmFyIHIsbixzPU1hdGgubWluKHQudCx0aGlzLnQpO2ZvcihyPTA7cjxzOysrcilpW3JdPWUodGhpc1tyXSx0W3JdKTtpZih0LnQ8dGhpcy50KXtmb3Iobj10LnMmdGhpcy5ETSxyPXM7cjx0aGlzLnQ7KytyKWlbcl09ZSh0aGlzW3JdLG4pO2kudD10aGlzLnR9ZWxzZXtmb3Iobj10aGlzLnMmdGhpcy5ETSxyPXM7cjx0LnQ7KytyKWlbcl09ZShuLHRbcl0pO2kudD10LnR9aS5zPWUodGhpcy5zLHQucyksaS5jbGFtcCgpfSx0LnByb3RvdHlwZS5jaGFuZ2VCaXQ9ZnVuY3Rpb24oZSxpKXt2YXIgcj10Lk9ORS5zaGlmdExlZnQoZSk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKHIsaSxyKSxyfSx0LnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLHI9MCxuPU1hdGgubWluKHQudCx0aGlzLnQpO2k8bjspcis9dGhpc1tpXSt0W2ldLGVbaSsrXT1yJnRoaXMuRE0scj4+PXRoaXMuREI7aWYodC50PHRoaXMudCl7Zm9yKHIrPXQucztpPHRoaXMudDspcis9dGhpc1tpXSxlW2krK109ciZ0aGlzLkRNLHI+Pj10aGlzLkRCO3IrPXRoaXMuc31lbHNle2ZvcihyKz10aGlzLnM7aTx0LnQ7KXIrPXRbaV0sZVtpKytdPXImdGhpcy5ETSxyPj49dGhpcy5EQjtyKz10LnN9ZS5zPXI8MD8tMTowLHI+MD9lW2krK109cjpyPC0xJiYoZVtpKytdPXRoaXMuRFYrciksZS50PWksZS5jbGFtcCgpfSx0LnByb3RvdHlwZS5kTXVsdGlwbHk9ZnVuY3Rpb24odCl7dGhpc1t0aGlzLnRdPXRoaXMuYW0oMCx0LTEsdGhpcywwLDAsdGhpcy50KSwrK3RoaXMudCx0aGlzLmNsYW1wKCl9LHQucHJvdG90eXBlLmRBZGRPZmZzZXQ9ZnVuY3Rpb24odCxlKXtpZigwIT10KXtmb3IoO3RoaXMudDw9ZTspdGhpc1t0aGlzLnQrK109MDtmb3IodGhpc1tlXSs9dDt0aGlzW2VdPj10aGlzLkRWOyl0aGlzW2VdLT10aGlzLkRWLCsrZT49dGhpcy50JiYodGhpc1t0aGlzLnQrK109MCksKyt0aGlzW2VdfX0sdC5wcm90b3R5cGUubXVsdGlwbHlMb3dlclRvPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1NYXRoLm1pbih0aGlzLnQrdC50LGUpO2ZvcihpLnM9MCxpLnQ9cjtyPjA7KWlbLS1yXT0wO2Zvcih2YXIgbj1pLnQtdGhpcy50O3I8bjsrK3IpaVtyK3RoaXMudF09dGhpcy5hbSgwLHRbcl0saSxyLDAsdGhpcy50KTtmb3Iobj1NYXRoLm1pbih0LnQsZSk7cjxuOysrcil0aGlzLmFtKDAsdFtyXSxpLHIsMCxlLXIpO2kuY2xhbXAoKX0sdC5wcm90b3R5cGUubXVsdGlwbHlVcHBlclRvPWZ1bmN0aW9uKHQsZSxpKXstLWU7dmFyIHI9aS50PXRoaXMudCt0LnQtZTtmb3IoaS5zPTA7LS1yPj0wOylpW3JdPTA7Zm9yKHI9TWF0aC5tYXgoZS10aGlzLnQsMCk7cjx0LnQ7KytyKWlbdGhpcy50K3ItZV09dGhpcy5hbShlLXIsdFtyXSxpLDAsMCx0aGlzLnQrci1lKTtpLmNsYW1wKCksaS5kclNoaWZ0VG8oMSxpKX0sdC5wcm90b3R5cGUubW9kSW50PWZ1bmN0aW9uKHQpe2lmKHQ8PTApcmV0dXJuIDA7dmFyIGU9dGhpcy5EViV0LGk9dGhpcy5zPDA/dC0xOjA7aWYodGhpcy50PjApaWYoMD09ZSlpPXRoaXNbMF0ldDtlbHNlIGZvcih2YXIgcj10aGlzLnQtMTtyPj0wOy0tcilpPShlKmkrdGhpc1tyXSkldDtyZXR1cm4gaX0sdC5wcm90b3R5cGUubWlsbGVyUmFiaW49ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5zdWJ0cmFjdCh0Lk9ORSkscj1pLmdldExvd2VzdFNldEJpdCgpO2lmKHI8PTApcmV0dXJuITE7dmFyIG49aS5zaGlmdFJpZ2h0KHIpOyhlPWUrMT4+MSk+Qi5sZW5ndGgmJihlPUIubGVuZ3RoKTtmb3IodmFyIHM9TSgpLG89MDtvPGU7KytvKXtzLmZyb21JbnQoQltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqQi5sZW5ndGgpXSk7dmFyIGg9cy5tb2RQb3cobix0aGlzKTtpZigwIT1oLmNvbXBhcmVUbyh0Lk9ORSkmJjAhPWguY29tcGFyZVRvKGkpKXtmb3IodmFyIGE9MTthKys8ciYmMCE9aC5jb21wYXJlVG8oaSk7KWlmKDA9PShoPWgubW9kUG93SW50KDIsdGhpcykpLmNvbXBhcmVUbyh0Lk9ORSkpcmV0dXJuITE7aWYoMCE9aC5jb21wYXJlVG8oaSkpcmV0dXJuITF9fXJldHVybiEwfSx0LnByb3RvdHlwZS5zcXVhcmU9ZnVuY3Rpb24oKXt2YXIgdD1NKCk7cmV0dXJuIHRoaXMuc3F1YXJlVG8odCksdH0sdC5wcm90b3R5cGUuZ2NkYT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpcy5jbG9uZSgpLHI9dC5zPDA/dC5uZWdhdGUoKTp0LmNsb25lKCk7aWYoaS5jb21wYXJlVG8ocik8MCl7dmFyIG49aTtpPXIscj1ufXZhciBzPWkuZ2V0TG93ZXN0U2V0Qml0KCksbz1yLmdldExvd2VzdFNldEJpdCgpO2lmKG88MCllKGkpO2Vsc2V7czxvJiYobz1zKSxvPjAmJihpLnJTaGlmdFRvKG8saSksci5yU2hpZnRUbyhvLHIpKTt2YXIgaD1mdW5jdGlvbigpeyhzPWkuZ2V0TG93ZXN0U2V0Qml0KCkpPjAmJmkuclNoaWZ0VG8ocyxpKSwocz1yLmdldExvd2VzdFNldEJpdCgpKT4wJiZyLnJTaGlmdFRvKHMsciksaS5jb21wYXJlVG8ocik+PTA/KGkuc3ViVG8ocixpKSxpLnJTaGlmdFRvKDEsaSkpOihyLnN1YlRvKGksciksci5yU2hpZnRUbygxLHIpKSxpLnNpZ251bSgpPjA/c2V0VGltZW91dChoLDApOihvPjAmJnIubFNoaWZ0VG8obyxyKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShyKX0sMCkpfTtzZXRUaW1lb3V0KGgsMTApfX0sdC5wcm90b3R5cGUuZnJvbU51bWJlckFzeW5jPWZ1bmN0aW9uKGUsaSxyLG4pe2lmKCJudW1iZXIiPT10eXBlb2YgaSlpZihlPDIpdGhpcy5mcm9tSW50KDEpO2Vsc2V7dGhpcy5mcm9tTnVtYmVyKGUsciksdGhpcy50ZXN0Qml0KGUtMSl8fHRoaXMuYml0d2lzZVRvKHQuT05FLnNoaWZ0TGVmdChlLTEpLHMsdGhpcyksdGhpcy5pc0V2ZW4oKSYmdGhpcy5kQWRkT2Zmc2V0KDEsMCk7dmFyIG89dGhpcyxoPWZ1bmN0aW9uKCl7by5kQWRkT2Zmc2V0KDIsMCksby5iaXRMZW5ndGgoKT5lJiZvLnN1YlRvKHQuT05FLnNoaWZ0TGVmdChlLTEpLG8pLG8uaXNQcm9iYWJsZVByaW1lKGkpP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuKCl9LDApOnNldFRpbWVvdXQoaCwwKX07c2V0VGltZW91dChoLDApfWVsc2V7dmFyIGE9W10sdT03JmU7YS5sZW5ndGg9MSsoZT4+MyksaS5uZXh0Qnl0ZXMoYSksdT4wP2FbMF0mPSgxPDx1KS0xOmFbMF09MCx0aGlzLmZyb21TdHJpbmcoYSwyNTYpfX0sdH0oKSxWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSx0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUsaSl7dC5tdWx0aXBseVRvKGUsaSl9LHQucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKX0sdH0oKSxJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm09dH1yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdC5zPDB8fHQuY29tcGFyZVRvKHRoaXMubSk+PTA/dC5tb2QodGhpcy5tKTp0fSx0LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXt0LmRpdlJlbVRvKHRoaXMubSxudWxsLHQpfSx0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUsaSl7dC5tdWx0aXBseVRvKGUsaSksdGhpcy5yZWR1Y2UoaSl9LHQucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sdH0oKSxOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm09dCx0aGlzLm1wPXQuaW52RGlnaXQoKSx0aGlzLm1wbD0zMjc2NyZ0aGlzLm1wLHRoaXMubXBoPXRoaXMubXA+PjE1LHRoaXMudW09KDE8PHQuREItMTUpLTEsdGhpcy5tdDI9Mip0LnR9cmV0dXJuIHQucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9TSgpO3JldHVybiB0LmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCxlKSxlLmRpdlJlbVRvKHRoaXMubSxudWxsLGUpLHQuczwwJiZlLmNvbXBhcmVUbyhPLlpFUk8pPjAmJnRoaXMubS5zdWJUbyhlLGUpLGV9LHQucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXt2YXIgZT1NKCk7cmV0dXJuIHQuY29weVRvKGUpLHRoaXMucmVkdWNlKGUpLGV9LHQucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXtmb3IoO3QudDw9dGhpcy5tdDI7KXRbdC50KytdPTA7Zm9yKHZhciBlPTA7ZTx0aGlzLm0udDsrK2Upe3ZhciBpPTMyNzY3JnRbZV0scj1pKnRoaXMubXBsKygoaSp0aGlzLm1waCsodFtlXT4+MTUpKnRoaXMubXBsJnRoaXMudW0pPDwxNSkmdC5ETTtmb3IodFtpPWUrdGhpcy5tLnRdKz10aGlzLm0uYW0oMCxyLHQsZSwwLHRoaXMubS50KTt0W2ldPj10LkRWOyl0W2ldLT10LkRWLHRbKytpXSsrfXQuY2xhbXAoKSx0LmRyU2hpZnRUbyh0aGlzLm0udCx0KSx0LmNvbXBhcmVUbyh0aGlzLm0pPj0wJiZ0LnN1YlRvKHRoaXMubSx0KX0sdC5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLGkpe3QubXVsdGlwbHlUbyhlLGkpLHRoaXMucmVkdWNlKGkpfSx0LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LHR9KCksUD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5tPXQsdGhpcy5yMj1NKCksdGhpcy5xMz1NKCksTy5PTkUuZGxTaGlmdFRvKDIqdC50LHRoaXMucjIpLHRoaXMubXU9dGhpcy5yMi5kaXZpZGUodCl9cmV0dXJuIHQucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7aWYodC5zPDB8fHQudD4yKnRoaXMubS50KXJldHVybiB0Lm1vZCh0aGlzLm0pO2lmKHQuY29tcGFyZVRvKHRoaXMubSk8MClyZXR1cm4gdDt2YXIgZT1NKCk7cmV0dXJuIHQuY29weVRvKGUpLHRoaXMucmVkdWNlKGUpLGV9LHQucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe2Zvcih0LmRyU2hpZnRUbyh0aGlzLm0udC0xLHRoaXMucjIpLHQudD50aGlzLm0udCsxJiYodC50PXRoaXMubS50KzEsdC5jbGFtcCgpKSx0aGlzLm11Lm11bHRpcGx5VXBwZXJUbyh0aGlzLnIyLHRoaXMubS50KzEsdGhpcy5xMyksdGhpcy5tLm11bHRpcGx5TG93ZXJUbyh0aGlzLnEzLHRoaXMubS50KzEsdGhpcy5yMik7dC5jb21wYXJlVG8odGhpcy5yMik8MDspdC5kQWRkT2Zmc2V0KDEsdGhpcy5tLnQrMSk7Zm9yKHQuc3ViVG8odGhpcy5yMix0KTt0LmNvbXBhcmVUbyh0aGlzLm0pPj0wOyl0LnN1YlRvKHRoaXMubSx0KX0sdC5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLGkpe3QubXVsdGlwbHlUbyhlLGkpLHRoaXMucmVkdWNlKGkpfSx0LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LHR9KCk7ZnVuY3Rpb24gTSgpe3JldHVybiBuZXcgTyhudWxsKX1mdW5jdGlvbiBMKHQsZSl7cmV0dXJuIG5ldyBPKHQsZSl9dmFyIGo9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3I7aiYmIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhPLnByb3RvdHlwZS5hbT1mdW5jdGlvbih0LGUsaSxyLG4scyl7Zm9yKHZhciBvPTMyNzY3JmUsaD1lPj4xNTstLXM+PTA7KXt2YXIgYT0zMjc2NyZ0aGlzW3RdLHU9dGhpc1t0KytdPj4xNSxjPWgqYSt1Km87bj0oKGE9byphKygoMzI3NjcmYyk8PDE1KStpW3JdKygxMDczNzQxODIzJm4pKT4+PjMwKSsoYz4+PjE1KStoKnUrKG4+Pj4zMCksaVtyKytdPTEwNzM3NDE4MjMmYX1yZXR1cm4gbn0sdz0zMCk6aiYmIk5ldHNjYXBlIiE9bmF2aWdhdG9yLmFwcE5hbWU/KE8ucHJvdG90eXBlLmFtPWZ1bmN0aW9uKHQsZSxpLHIsbixzKXtmb3IoOy0tcz49MDspe3ZhciBvPWUqdGhpc1t0KytdK2lbcl0rbjtuPU1hdGguZmxvb3Ioby82NzEwODg2NCksaVtyKytdPTY3MTA4ODYzJm99cmV0dXJuIG59LHc9MjYpOihPLnByb3RvdHlwZS5hbT1mdW5jdGlvbih0LGUsaSxyLG4scyl7Zm9yKHZhciBvPTE2MzgzJmUsaD1lPj4xNDstLXM+PTA7KXt2YXIgYT0xNjM4MyZ0aGlzW3RdLHU9dGhpc1t0KytdPj4xNCxjPWgqYSt1Km87bj0oKGE9byphKygoMTYzODMmYyk8PDE0KStpW3JdK24pPj4yOCkrKGM+PjE0KStoKnUsaVtyKytdPTI2ODQzNTQ1NSZhfXJldHVybiBufSx3PTI4KSxPLnByb3RvdHlwZS5EQj13LE8ucHJvdG90eXBlLkRNPSgxPDx3KS0xLE8ucHJvdG90eXBlLkRWPTE8PHcsTy5wcm90b3R5cGUuRlY9TWF0aC5wb3coMiw1MiksTy5wcm90b3R5cGUuRjE9NTItdyxPLnByb3RvdHlwZS5GMj0yKnctNTI7dmFyIHEsSCxDPVtdO2ZvcihxPSIwIi5jaGFyQ29kZUF0KDApLEg9MDtIPD05OysrSClDW3ErK109SDtmb3IocT0iYSIuY2hhckNvZGVBdCgwKSxIPTEwO0g8MzY7KytIKUNbcSsrXT1IO2ZvcihxPSJBIi5jaGFyQ29kZUF0KDApLEg9MTA7SDwzNjsrK0gpQ1txKytdPUg7ZnVuY3Rpb24gVSh0LGUpe3ZhciBpPUNbdC5jaGFyQ29kZUF0KGUpXTtyZXR1cm4gbnVsbD09aT8tMTppfWZ1bmN0aW9uIEYodCl7dmFyIGU9TSgpO3JldHVybiBlLmZyb21JbnQodCksZX1mdW5jdGlvbiBLKHQpe3ZhciBlLGk9MTtyZXR1cm4gMCE9KGU9dD4+PjE2KSYmKHQ9ZSxpKz0xNiksMCE9KGU9dD4+OCkmJih0PWUsaSs9OCksMCE9KGU9dD4+NCkmJih0PWUsaSs9NCksMCE9KGU9dD4+MikmJih0PWUsaSs9MiksMCE9KGU9dD4+MSkmJih0PWUsaSs9MSksaX1PLlpFUk89RigwKSxPLk9ORT1GKDEpO3ZhciBrLF8sej1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmk9MCx0aGlzLmo9MCx0aGlzLlM9W119cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7dmFyIGUsaSxyO2ZvcihlPTA7ZTwyNTY7KytlKXRoaXMuU1tlXT1lO2ZvcihpPTAsZT0wO2U8MjU2OysrZSlpPWkrdGhpcy5TW2VdK3RbZSV0Lmxlbmd0aF0mMjU1LHI9dGhpcy5TW2VdLHRoaXMuU1tlXT10aGlzLlNbaV0sdGhpcy5TW2ldPXI7dGhpcy5pPTAsdGhpcy5qPTB9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5pPXRoaXMuaSsxJjI1NSx0aGlzLmo9dGhpcy5qK3RoaXMuU1t0aGlzLmldJjI1NSx0PXRoaXMuU1t0aGlzLmldLHRoaXMuU1t0aGlzLmldPXRoaXMuU1t0aGlzLmpdLHRoaXMuU1t0aGlzLmpdPXQsdGhpcy5TW3QrdGhpcy5TW3RoaXMuaV0mMjU1XX0sdH0oKSxaPTI1NixHPW51bGw7aWYobnVsbD09Ryl7Rz1bXSxfPTA7dmFyICQ9dm9pZCAwO2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyl7dmFyIFk9bmV3IFVpbnQzMkFycmF5KDI1Nik7Zm9yKHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKFkpLCQ9MDskPFkubGVuZ3RoOysrJClHW18rK109MjU1JllbJF19dmFyIEo9MCxYPWZ1bmN0aW9uKHQpe2lmKChKPUp8fDApPj0yNTZ8fF8+PVopd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI/d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsWCwhMSk6d2luZG93LmRldGFjaEV2ZW50JiZ3aW5kb3cuZGV0YWNoRXZlbnQoIm9ubW91c2Vtb3ZlIixYKTtlbHNlIHRyeXt2YXIgZT10LngrdC55O0dbXysrXT0yNTUmZSxKKz0xfWNhdGNoKHQpe319OyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LmFkZEV2ZW50TGlzdGVuZXI/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsWCwhMSk6d2luZG93LmF0dGFjaEV2ZW50JiZ3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubW91c2Vtb3ZlIixYKSl9ZnVuY3Rpb24gUSgpe2lmKG51bGw9PWspe2ZvcihrPW5ldyB6O188Wjspe3ZhciB0PU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSk7R1tfKytdPTI1NSZ0fWZvcihrLmluaXQoRyksXz0wO188Ry5sZW5ndGg7KytfKUdbX109MDtfPTB9cmV0dXJuIGsubmV4dCgpfXZhciBXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUubmV4dEJ5dGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKXRbZV09USgpfSx0fSgpLHR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubj1udWxsLHRoaXMuZT0wLHRoaXMuZD1udWxsLHRoaXMucD1udWxsLHRoaXMucT1udWxsLHRoaXMuZG1wMT1udWxsLHRoaXMuZG1xMT1udWxsLHRoaXMuY29lZmY9bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUuZG9QdWJsaWM9ZnVuY3Rpb24odCl7cmV0dXJuIHQubW9kUG93SW50KHRoaXMuZSx0aGlzLm4pfSx0LnByb3RvdHlwZS5kb1ByaXZhdGU9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy5wfHxudWxsPT10aGlzLnEpcmV0dXJuIHQubW9kUG93KHRoaXMuZCx0aGlzLm4pO2Zvcih2YXIgZT10Lm1vZCh0aGlzLnApLm1vZFBvdyh0aGlzLmRtcDEsdGhpcy5wKSxpPXQubW9kKHRoaXMucSkubW9kUG93KHRoaXMuZG1xMSx0aGlzLnEpO2UuY29tcGFyZVRvKGkpPDA7KWU9ZS5hZGQodGhpcy5wKTtyZXR1cm4gZS5zdWJ0cmFjdChpKS5tdWx0aXBseSh0aGlzLmNvZWZmKS5tb2QodGhpcy5wKS5tdWx0aXBseSh0aGlzLnEpLmFkZChpKX0sdC5wcm90b3R5cGUuc2V0UHVibGljPWZ1bmN0aW9uKHQsZSl7bnVsbCE9dCYmbnVsbCE9ZSYmdC5sZW5ndGg+MCYmZS5sZW5ndGg+MD8odGhpcy5uPUwodCwxNiksdGhpcy5lPXBhcnNlSW50KGUsMTYpKTpjb25zb2xlLmVycm9yKCJJbnZhbGlkIFJTQSBwdWJsaWMga2V5Iil9LHQucHJvdG90eXBlLmVuY3J5cHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5uLmJpdExlbmd0aCgpKzc+PjMsaT1mdW5jdGlvbih0LGUpe2lmKGU8dC5sZW5ndGgrMTEpcmV0dXJuIGNvbnNvbGUuZXJyb3IoIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQSIpLG51bGw7Zm9yKHZhciBpPVtdLHI9dC5sZW5ndGgtMTtyPj0wJiZlPjA7KXt2YXIgbj10LmNoYXJDb2RlQXQoci0tKTtuPDEyOD9pWy0tZV09bjpuPjEyNyYmbjwyMDQ4PyhpWy0tZV09NjMmbnwxMjgsaVstLWVdPW4+PjZ8MTkyKTooaVstLWVdPTYzJm58MTI4LGlbLS1lXT1uPj42JjYzfDEyOCxpWy0tZV09bj4+MTJ8MjI0KX1pWy0tZV09MDtmb3IodmFyIHM9bmV3IFcsbz1bXTtlPjI7KXtmb3Iob1swXT0wOzA9PW9bMF07KXMubmV4dEJ5dGVzKG8pO2lbLS1lXT1vWzBdfXJldHVybiBpWy0tZV09MixpWy0tZV09MCxuZXcgTyhpKX0odCxlKTtpZihudWxsPT1pKXJldHVybiBudWxsO3ZhciByPXRoaXMuZG9QdWJsaWMoaSk7aWYobnVsbD09cilyZXR1cm4gbnVsbDtmb3IodmFyIG49ci50b1N0cmluZygxNikscz1uLmxlbmd0aCxvPTA7bzwyKmUtcztvKyspbj0iMCIrbjtyZXR1cm4gbn0sdC5wcm90b3R5cGUuc2V0UHJpdmF0ZT1mdW5jdGlvbih0LGUsaSl7bnVsbCE9dCYmbnVsbCE9ZSYmdC5sZW5ndGg+MCYmZS5sZW5ndGg+MD8odGhpcy5uPUwodCwxNiksdGhpcy5lPXBhcnNlSW50KGUsMTYpLHRoaXMuZD1MKGksMTYpKTpjb25zb2xlLmVycm9yKCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleSIpfSx0LnByb3RvdHlwZS5zZXRQcml2YXRlRXg9ZnVuY3Rpb24odCxlLGkscixuLHMsbyxoKXtudWxsIT10JiZudWxsIT1lJiZ0Lmxlbmd0aD4wJiZlLmxlbmd0aD4wPyh0aGlzLm49TCh0LDE2KSx0aGlzLmU9cGFyc2VJbnQoZSwxNiksdGhpcy5kPUwoaSwxNiksdGhpcy5wPUwociwxNiksdGhpcy5xPUwobiwxNiksdGhpcy5kbXAxPUwocywxNiksdGhpcy5kbXExPUwobywxNiksdGhpcy5jb2VmZj1MKGgsMTYpKTpjb25zb2xlLmVycm9yKCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleSIpfSx0LnByb3RvdHlwZS5nZW5lcmF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBXLHI9dD4+MTt0aGlzLmU9cGFyc2VJbnQoZSwxNik7Zm9yKHZhciBuPW5ldyBPKGUsMTYpOzspe2Zvcig7dGhpcy5wPW5ldyBPKHQtciwxLGkpLDAhPXRoaXMucC5zdWJ0cmFjdChPLk9ORSkuZ2NkKG4pLmNvbXBhcmVUbyhPLk9ORSl8fCF0aGlzLnAuaXNQcm9iYWJsZVByaW1lKDEwKTspO2Zvcig7dGhpcy5xPW5ldyBPKHIsMSxpKSwwIT10aGlzLnEuc3VidHJhY3QoTy5PTkUpLmdjZChuKS5jb21wYXJlVG8oTy5PTkUpfHwhdGhpcy5xLmlzUHJvYmFibGVQcmltZSgxMCk7KTtpZih0aGlzLnAuY29tcGFyZVRvKHRoaXMucSk8PTApe3ZhciBzPXRoaXMucDt0aGlzLnA9dGhpcy5xLHRoaXMucT1zfXZhciBvPXRoaXMucC5zdWJ0cmFjdChPLk9ORSksaD10aGlzLnEuc3VidHJhY3QoTy5PTkUpLGE9by5tdWx0aXBseShoKTtpZigwPT1hLmdjZChuKS5jb21wYXJlVG8oTy5PTkUpKXt0aGlzLm49dGhpcy5wLm11bHRpcGx5KHRoaXMucSksdGhpcy5kPW4ubW9kSW52ZXJzZShhKSx0aGlzLmRtcDE9dGhpcy5kLm1vZChvKSx0aGlzLmRtcTE9dGhpcy5kLm1vZChoKSx0aGlzLmNvZWZmPXRoaXMucS5tb2RJbnZlcnNlKHRoaXMucCk7YnJlYWt9fX0sdC5wcm90b3R5cGUuZGVjcnlwdD1mdW5jdGlvbih0KXt2YXIgZT1MKHQsMTYpLGk9dGhpcy5kb1ByaXZhdGUoZSk7cmV0dXJuIG51bGw9PWk/bnVsbDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10LnRvQnl0ZUFycmF5KCkscj0wO3I8aS5sZW5ndGgmJjA9PWlbcl07KSsrcjtpZihpLmxlbmd0aC1yIT1lLTF8fDIhPWlbcl0pcmV0dXJuIG51bGw7Zm9yKCsrcjswIT1pW3JdOylpZigrK3I+PWkubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgbj0iIjsrK3I8aS5sZW5ndGg7KXt2YXIgcz0yNTUmaVtyXTtzPDEyOD9uKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHMpOnM+MTkxJiZzPDIyND8obis9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmcyk8PDZ8NjMmaVtyKzFdKSwrK3IpOihuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZzKTw8MTJ8KDYzJmlbcisxXSk8PDZ8NjMmaVtyKzJdKSxyKz0yKX1yZXR1cm4gbn0oaSx0aGlzLm4uYml0TGVuZ3RoKCkrNz4+Myl9LHQucHJvdG90eXBlLmdlbmVyYXRlQXN5bmM9ZnVuY3Rpb24odCxlLGkpe3ZhciByPW5ldyBXLG49dD4+MTt0aGlzLmU9cGFyc2VJbnQoZSwxNik7dmFyIHM9bmV3IE8oZSwxNiksbz10aGlzLGg9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe2lmKG8ucC5jb21wYXJlVG8oby5xKTw9MCl7dmFyIHQ9by5wO28ucD1vLnEsby5xPXR9dmFyIGU9by5wLnN1YnRyYWN0KE8uT05FKSxyPW8ucS5zdWJ0cmFjdChPLk9ORSksbj1lLm11bHRpcGx5KHIpOzA9PW4uZ2NkKHMpLmNvbXBhcmVUbyhPLk9ORSk/KG8ubj1vLnAubXVsdGlwbHkoby5xKSxvLmQ9cy5tb2RJbnZlcnNlKG4pLG8uZG1wMT1vLmQubW9kKGUpLG8uZG1xMT1vLmQubW9kKHIpLG8uY29lZmY9by5xLm1vZEludmVyc2Uoby5wKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aSgpfSwwKSk6c2V0VGltZW91dChoLDApfSxhPWZ1bmN0aW9uKCl7by5xPU0oKSxvLnEuZnJvbU51bWJlckFzeW5jKG4sMSxyLGZ1bmN0aW9uKCl7by5xLnN1YnRyYWN0KE8uT05FKS5nY2RhKHMsZnVuY3Rpb24odCl7MD09dC5jb21wYXJlVG8oTy5PTkUpJiZvLnEuaXNQcm9iYWJsZVByaW1lKDEwKT9zZXRUaW1lb3V0KGUsMCk6c2V0VGltZW91dChhLDApfSl9KX0sdT1mdW5jdGlvbigpe28ucD1NKCksby5wLmZyb21OdW1iZXJBc3luYyh0LW4sMSxyLGZ1bmN0aW9uKCl7by5wLnN1YnRyYWN0KE8uT05FKS5nY2RhKHMsZnVuY3Rpb24odCl7MD09dC5jb21wYXJlVG8oTy5PTkUpJiZvLnAuaXNQcm9iYWJsZVByaW1lKDEwKT9zZXRUaW1lb3V0KGEsMCk6c2V0VGltZW91dCh1LDApfSl9KX07c2V0VGltZW91dCh1LDApfTtzZXRUaW1lb3V0KGgsMCl9LHQucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24odCxlLGkpe3ZhciByPWZ1bmN0aW9uKHQsZSl7aWYoZTx0Lmxlbmd0aCsyMilyZXR1cm4gY29uc29sZS5lcnJvcigiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBIiksbnVsbDtmb3IodmFyIGk9ZS10Lmxlbmd0aC02LHI9IiIsbj0wO248aTtuKz0yKXIrPSJmZiI7cmV0dXJuIEwoIjAwMDEiK3IrIjAwIit0LDE2KX0oKGV0W2ldfHwiIikrZSh0KS50b1N0cmluZygpLHRoaXMubi5iaXRMZW5ndGgoKS80KTtpZihudWxsPT1yKXJldHVybiBudWxsO3ZhciBuPXRoaXMuZG9Qcml2YXRlKHIpO2lmKG51bGw9PW4pcmV0dXJuIG51bGw7dmFyIHM9bi50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJnMubGVuZ3RoKT9zOiIwIitzfSx0LnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24odCxlLGkpe3ZhciByPUwoZSwxNiksbj10aGlzLmRvUHVibGljKHIpO3JldHVybiBudWxsPT1uP251bGw6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIGV0KWlmKGV0Lmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1ldFtlXSxyPWkubGVuZ3RoO2lmKHQuc3Vic3RyKDAscik9PWkpcmV0dXJuIHQuc3Vic3RyKHIpfXJldHVybiB0fShuLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eMWYrMDAvLCIiKSk9PWkodCkudG9TdHJpbmcoKX0sdH0oKSxldD17bWQyOiIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjAyMDUwMDA0MTAiLG1kNToiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwIixzaGExOiIzMDIxMzAwOTA2MDUyYjBlMDMwMjFhMDUwMDA0MTQiLHNoYTIyNDoiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWMiLHNoYTI1NjoiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjAiLHNoYTM4NDoiMzA0MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyMDUwMDA0MzAiLHNoYTUxMjoiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDAiLHJpcGVtZDE2MDoiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0In0saXQ9e307aXQubGFuZz17ZXh0ZW5kOmZ1bmN0aW9uKHQsZSxpKXtpZighZXx8IXQpdGhyb3cgbmV3IEVycm9yKCJZQUhPTy5sYW5nLmV4dGVuZCBmYWlsZWQsIHBsZWFzZSBjaGVjayB0aGF0IGFsbCBkZXBlbmRlbmNpZXMgYXJlIGluY2x1ZGVkLiIpO3ZhciByPWZ1bmN0aW9uKCl7fTtpZihyLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQuc3VwZXJjbGFzcz1lLnByb3RvdHlwZSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj09T2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciYmKGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUpLGkpe3ZhciBuO2ZvcihuIGluIGkpdC5wcm90b3R5cGVbbl09aVtuXTt2YXIgcz1mdW5jdGlvbigpe30sbz1bInRvU3RyaW5nIiwidmFsdWVPZiJdO3RyeXsvTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmKHM9ZnVuY3Rpb24odCxlKXtmb3Iobj0wO248by5sZW5ndGg7bis9MSl7dmFyIGk9b1tuXSxyPWVbaV07ImZ1bmN0aW9uIj09dHlwZW9mIHImJnIhPU9iamVjdC5wcm90b3R5cGVbaV0mJih0W2ldPXIpfX0pfWNhdGNoKHQpe31zKHQucHJvdG90eXBlLGkpfX19O3ZhciBydD17fTt2b2lkIDAhPT1ydC5hc24xJiZydC5hc24xfHwocnQuYXNuMT17fSkscnQuYXNuMS5BU04xVXRpbD1uZXcgZnVuY3Rpb24oKXt0aGlzLmludGVnZXJUb0J5dGVIZXg9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIGUubGVuZ3RoJTI9PTEmJihlPSIwIitlKSxlfSx0aGlzLmJpZ0ludFRvTWluVHdvc0NvbXBsZW1lbnRzSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO2lmKCItIiE9ZS5zdWJzdHIoMCwxKSllLmxlbmd0aCUyPT0xP2U9IjAiK2U6ZS5tYXRjaCgvXlswLTddLyl8fChlPSIwMCIrZSk7ZWxzZXt2YXIgaT1lLnN1YnN0cigxKS5sZW5ndGg7aSUyPT0xP2krPTE6ZS5tYXRjaCgvXlswLTddLyl8fChpKz0yKTtmb3IodmFyIHI9IiIsbj0wO248aTtuKyspcis9ImYiO2U9bmV3IE8ociwxNikueG9yKHQpLmFkZChPLk9ORSkudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14tLywiIil9cmV0dXJuIGV9LHRoaXMuZ2V0UEVNU3RyaW5nRnJvbUhleD1mdW5jdGlvbih0LGUpe3JldHVybiBoZXh0b3BlbSh0LGUpfSx0aGlzLm5ld09iamVjdD1mdW5jdGlvbih0KXt2YXIgZT1ydC5hc24xLGk9ZS5ERVJCb29sZWFuLHI9ZS5ERVJJbnRlZ2VyLG49ZS5ERVJCaXRTdHJpbmcscz1lLkRFUk9jdGV0U3RyaW5nLG89ZS5ERVJOdWxsLGg9ZS5ERVJPYmplY3RJZGVudGlmaWVyLGE9ZS5ERVJFbnVtZXJhdGVkLHU9ZS5ERVJVVEY4U3RyaW5nLGM9ZS5ERVJOdW1lcmljU3RyaW5nLGY9ZS5ERVJQcmludGFibGVTdHJpbmcsbD1lLkRFUlRlbGV0ZXhTdHJpbmcscD1lLkRFUklBNVN0cmluZyxnPWUuREVSVVRDVGltZSxkPWUuREVSR2VuZXJhbGl6ZWRUaW1lLHY9ZS5ERVJTZXF1ZW5jZSxtPWUuREVSU2V0LHk9ZS5ERVJUYWdnZWRPYmplY3QsYj1lLkFTTjFVdGlsLm5ld09iamVjdCxUPU9iamVjdC5rZXlzKHQpO2lmKDEhPVQubGVuZ3RoKXRocm93ImtleSBvZiBwYXJhbSBzaGFsbCBiZSBvbmx5IG9uZS4iO3ZhciBTPVRbMF07aWYoLTE9PSI6Ym9vbDppbnQ6Yml0c3RyOm9jdHN0cjpudWxsOm9pZDplbnVtOnV0ZjhzdHI6bnVtc3RyOnBybnN0cjp0ZWxzdHI6aWE1c3RyOnV0Y3RpbWU6Z2VudGltZTpzZXE6c2V0OnRhZzoiLmluZGV4T2YoIjoiK1MrIjoiKSl0aHJvdyJ1bmRlZmluZWQga2V5OiAiK1M7aWYoImJvb2wiPT1TKXJldHVybiBuZXcgaSh0W1NdKTtpZigiaW50Ij09UylyZXR1cm4gbmV3IHIodFtTXSk7aWYoImJpdHN0ciI9PVMpcmV0dXJuIG5ldyBuKHRbU10pO2lmKCJvY3RzdHIiPT1TKXJldHVybiBuZXcgcyh0W1NdKTtpZigibnVsbCI9PVMpcmV0dXJuIG5ldyBvKHRbU10pO2lmKCJvaWQiPT1TKXJldHVybiBuZXcgaCh0W1NdKTtpZigiZW51bSI9PVMpcmV0dXJuIG5ldyBhKHRbU10pO2lmKCJ1dGY4c3RyIj09UylyZXR1cm4gbmV3IHUodFtTXSk7aWYoIm51bXN0ciI9PVMpcmV0dXJuIG5ldyBjKHRbU10pO2lmKCJwcm5zdHIiPT1TKXJldHVybiBuZXcgZih0W1NdKTtpZigidGVsc3RyIj09UylyZXR1cm4gbmV3IGwodFtTXSk7aWYoImlhNXN0ciI9PVMpcmV0dXJuIG5ldyBwKHRbU10pO2lmKCJ1dGN0aW1lIj09UylyZXR1cm4gbmV3IGcodFtTXSk7aWYoImdlbnRpbWUiPT1TKXJldHVybiBuZXcgZCh0W1NdKTtpZigic2VxIj09Uyl7Zm9yKHZhciBFPXRbU10sdz1bXSxEPTA7RDxFLmxlbmd0aDtEKyspe3ZhciB4PWIoRVtEXSk7dy5wdXNoKHgpfXJldHVybiBuZXcgdih7YXJyYXk6d30pfWlmKCJzZXQiPT1TKXtmb3IoRT10W1NdLHc9W10sRD0wO0Q8RS5sZW5ndGg7RCsrKXg9YihFW0RdKSx3LnB1c2goeCk7cmV0dXJuIG5ldyBtKHthcnJheTp3fSl9aWYoInRhZyI9PVMpe3ZhciBSPXRbU107aWYoIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSKSYmMz09Ui5sZW5ndGgpe3ZhciBCPWIoUlsyXSk7cmV0dXJuIG5ldyB5KHt0YWc6UlswXSxleHBsaWNpdDpSWzFdLG9iajpCfSl9dmFyIEE9e307aWYodm9pZCAwIT09Ui5leHBsaWNpdCYmKEEuZXhwbGljaXQ9Ui5leHBsaWNpdCksdm9pZCAwIT09Ui50YWcmJihBLnRhZz1SLnRhZyksdm9pZCAwPT09Ui5vYmopdGhyb3cib2JqIHNoYWxsIGJlIHNwZWNpZmllZCBmb3IgJ3RhZycuIjtyZXR1cm4gQS5vYmo9YihSLm9iaiksbmV3IHkoQSl9fSx0aGlzLmpzb25Ub0FTTjFIRVg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV3T2JqZWN0KHQpLmdldEVuY29kZWRIZXgoKX19LHJ0LmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSIiLGk9cGFyc2VJbnQodC5zdWJzdHIoMCwyKSwxNikscj0oZT1NYXRoLmZsb29yKGkvNDApKyIuIitpJTQwLCIiKSxuPTI7bjx0Lmxlbmd0aDtuKz0yKXt2YXIgcz0oIjAwMDAwMDAwIitwYXJzZUludCh0LnN1YnN0cihuLDIpLDE2KS50b1N0cmluZygyKSkuc2xpY2UoLTgpO3IrPXMuc3Vic3RyKDEsNyksIjAiPT1zLnN1YnN0cigwLDEpJiYoZT1lKyIuIituZXcgTyhyLDIpLnRvU3RyaW5nKDEwKSxyPSIiKX1yZXR1cm4gZX0scnQuYXNuMS5BU04xVXRpbC5vaWRJbnRUb0hleD1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09ZS5sZW5ndGgmJihlPSIwIitlKSxlfSxpPWZ1bmN0aW9uKHQpe3ZhciBpPSIiLHI9bmV3IE8odCwxMCkudG9TdHJpbmcoMiksbj03LXIubGVuZ3RoJTc7Nz09biYmKG49MCk7Zm9yKHZhciBzPSIiLG89MDtvPG47bysrKXMrPSIwIjtmb3Iocj1zK3Isbz0wO288ci5sZW5ndGgtMTtvKz03KXt2YXIgaD1yLnN1YnN0cihvLDcpO28hPXIubGVuZ3RoLTcmJihoPSIxIitoKSxpKz1lKHBhcnNlSW50KGgsMikpfXJldHVybiBpfTtpZighdC5tYXRjaCgvXlswLTkuXSskLykpdGhyb3cibWFsZm9ybWVkIG9pZCBzdHJpbmc6ICIrdDt2YXIgcj0iIixuPXQuc3BsaXQoIi4iKSxzPTQwKnBhcnNlSW50KG5bMF0pK3BhcnNlSW50KG5bMV0pO3IrPWUocyksbi5zcGxpY2UoMCwyKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylyKz1pKG5bb10pO3JldHVybiByfSxydC5hc24xLkFTTjFPYmplY3Q9ZnVuY3Rpb24oKXt0aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuaFZ8fG51bGw9PXRoaXMuaFYpdGhyb3cidGhpcy5oViBpcyBudWxsIG9yIHVuZGVmaW5lZC4iO2lmKHRoaXMuaFYubGVuZ3RoJTI9PTEpdGhyb3cidmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49IisiIi5sZW5ndGgrIix2PSIrdGhpcy5oVjt2YXIgdD10aGlzLmhWLmxlbmd0aC8yLGU9dC50b1N0cmluZygxNik7aWYoZS5sZW5ndGglMj09MSYmKGU9IjAiK2UpLHQ8MTI4KXJldHVybiBlO3ZhciBpPWUubGVuZ3RoLzI7aWYoaT4xNSl0aHJvdyJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gIit0LnRvU3RyaW5nKDE2KTtyZXR1cm4oMTI4K2kpLnRvU3RyaW5nKDE2KStlfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtyZXR1cm4obnVsbD09dGhpcy5oVExWfHx0aGlzLmlzTW9kaWZpZWQpJiYodGhpcy5oVj10aGlzLmdldEZyZXNoVmFsdWVIZXgoKSx0aGlzLmhMPXRoaXMuZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlKCksdGhpcy5oVExWPXRoaXMuaFQrdGhpcy5oTCt0aGlzLmhWLHRoaXMuaXNNb2RpZmllZD0hMSksdGhpcy5oVExWfSx0aGlzLmdldFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFZ9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiIifX0scnQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZz1mdW5jdGlvbih0KXtydC5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmdldFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN9LHRoaXMuc2V0U3RyaW5nPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLnM9dCx0aGlzLmhWPXN0b2hleCh0aGlzLnMpfSx0aGlzLnNldFN0cmluZ0hleD1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKCJzdHJpbmciPT10eXBlb2YgdD90aGlzLnNldFN0cmluZyh0KTp2b2lkIDAhPT10LnN0cj90aGlzLnNldFN0cmluZyh0LnN0cik6dm9pZCAwIT09dC5oZXgmJnRoaXMuc2V0U3RyaW5nSGV4KHQuaGV4KSl9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSQWJzdHJhY3RTdHJpbmcscnQuYXNuMS5BU04xT2JqZWN0KSxydC5hc24xLkRFUkFic3RyYWN0VGltZT1mdW5jdGlvbih0KXtydC5hc24xLkRFUkFic3RyYWN0VGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5sb2NhbERhdGVUb1VUQz1mdW5jdGlvbih0KXtyZXR1cm4gdXRjPXQuZ2V0VGltZSgpKzZlNCp0LmdldFRpbWV6b25lT2Zmc2V0KCksbmV3IERhdGUodXRjKX0sdGhpcy5mb3JtYXREYXRlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzLnplcm9QYWRkaW5nLG49dGhpcy5sb2NhbERhdGVUb1VUQyh0KSxzPVN0cmluZyhuLmdldEZ1bGxZZWFyKCkpOyJ1dGMiPT1lJiYocz1zLnN1YnN0cigyLDIpKTt2YXIgbz1zK3IoU3RyaW5nKG4uZ2V0TW9udGgoKSsxKSwyKStyKFN0cmluZyhuLmdldERhdGUoKSksMikrcihTdHJpbmcobi5nZXRIb3VycygpKSwyKStyKFN0cmluZyhuLmdldE1pbnV0ZXMoKSksMikrcihTdHJpbmcobi5nZXRTZWNvbmRzKCkpLDIpO2lmKCEwPT09aSl7dmFyIGg9bi5nZXRNaWxsaXNlY29uZHMoKTtpZigwIT1oKXt2YXIgYT1yKFN0cmluZyhoKSwzKTtvPW8rIi4iKyhhPWEucmVwbGFjZSgvWzBdKyQvLCIiKSl9fXJldHVybiBvKyJaIn0sdGhpcy56ZXJvUGFkZGluZz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lmxlbmd0aD49ZT90Om5ldyBBcnJheShlLXQubGVuZ3RoKzEpLmpvaW4oIjAiKSt0fSx0aGlzLmdldFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN9LHRoaXMuc2V0U3RyaW5nPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLnM9dCx0aGlzLmhWPXN0b2hleCh0KX0sdGhpcy5zZXRCeURhdGVWYWx1ZT1mdW5jdGlvbih0LGUsaSxyLG4scyl7dmFyIG89bmV3IERhdGUoRGF0ZS5VVEModCxlLTEsaSxyLG4scywwKSk7dGhpcy5zZXRCeURhdGUobyl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfX0saXQubGFuZy5leHRlbmQocnQuYXNuMS5ERVJBYnN0cmFjdFRpbWUscnQuYXNuMS5BU04xT2JqZWN0KSxydC5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZD1mdW5jdGlvbih0KXtydC5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLnNldEJ5QVNOMU9iamVjdEFycmF5PWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmFzbjFBcnJheT10fSx0aGlzLmFwcGVuZEFTTjFPYmplY3Q9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuYXNuMUFycmF5LnB1c2godCl9LHRoaXMuYXNuMUFycmF5PW5ldyBBcnJheSx2b2lkIDAhPT10JiZ2b2lkIDAhPT10LmFycmF5JiYodGhpcy5hc24xQXJyYXk9dC5hcnJheSl9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkLHJ0LmFzbjEuQVNOMU9iamVjdCkscnQuYXNuMS5ERVJCb29sZWFuPWZ1bmN0aW9uKCl7cnQuYXNuMS5ERVJCb29sZWFuLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwMSIsdGhpcy5oVExWPSIwMTAxZmYifSxpdC5sYW5nLmV4dGVuZChydC5hc24xLkRFUkJvb2xlYW4scnQuYXNuMS5BU04xT2JqZWN0KSxydC5hc24xLkRFUkludGVnZXI9ZnVuY3Rpb24odCl7cnQuYXNuMS5ERVJJbnRlZ2VyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwMiIsdGhpcy5zZXRCeUJpZ0ludGVnZXI9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9cnQuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleCh0KX0sdGhpcy5zZXRCeUludGVnZXI9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE8oU3RyaW5nKHQpLDEwKTt0aGlzLnNldEJ5QmlnSW50ZWdlcihlKX0sdGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbih0KXt0aGlzLmhWPXR9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5iaWdpbnQ/dGhpcy5zZXRCeUJpZ0ludGVnZXIodC5iaWdpbnQpOnZvaWQgMCE9PXQuaW50P3RoaXMuc2V0QnlJbnRlZ2VyKHQuaW50KToibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5zZXRCeUludGVnZXIodCk6dm9pZCAwIT09dC5oZXgmJnRoaXMuc2V0VmFsdWVIZXgodC5oZXgpKX0saXQubGFuZy5leHRlbmQocnQuYXNuMS5ERVJJbnRlZ2VyLHJ0LmFzbjEuQVNOMU9iamVjdCkscnQuYXNuMS5ERVJCaXRTdHJpbmc9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09dC5vYmope3ZhciBlPXJ0LmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHQub2JqKTt0LmhleD0iMDAiK2UuZ2V0RW5jb2RlZEhleCgpfXJ0LmFzbjEuREVSQml0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwMyIsdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHM9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9dH0sdGhpcy5zZXRVbnVzZWRCaXRzQW5kSGV4VmFsdWU9ZnVuY3Rpb24odCxlKXtpZih0PDB8fDc8dCl0aHJvdyJ1bnVzZWQgYml0cyBzaGFsbCBiZSBmcm9tIDAgdG8gNzogdSA9ICIrdDt2YXIgaT0iMCIrdDt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj1pK2V9LHRoaXMuc2V0QnlCaW5hcnlTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9OC0odD10LnJlcGxhY2UoLzArJC8sIiIpKS5sZW5ndGglODs4PT1lJiYoZT0wKTtmb3IodmFyIGk9MDtpPD1lO2krKyl0Kz0iMCI7dmFyIHI9IiI7Zm9yKGk9MDtpPHQubGVuZ3RoLTE7aSs9OCl7dmFyIG49dC5zdWJzdHIoaSw4KSxzPXBhcnNlSW50KG4sMikudG9TdHJpbmcoMTYpOzE9PXMubGVuZ3RoJiYocz0iMCIrcykscis9c310aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj0iMCIrZStyfSx0aGlzLnNldEJ5Qm9vbGVhbkFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0iIixpPTA7aTx0Lmxlbmd0aDtpKyspMT09dFtpXT9lKz0iMSI6ZSs9IjAiO3RoaXMuc2V0QnlCaW5hcnlTdHJpbmcoZSl9LHRoaXMubmV3RmFsc2VBcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09ITE7cmV0dXJuIGV9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYoInN0cmluZyI9PXR5cGVvZiB0JiZ0LnRvTG93ZXJDYXNlKCkubWF0Y2goL15bMC05YS1mXSskLyk/dGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHModCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHModC5oZXgpOnZvaWQgMCE9PXQuYmluP3RoaXMuc2V0QnlCaW5hcnlTdHJpbmcodC5iaW4pOnZvaWQgMCE9PXQuYXJyYXkmJnRoaXMuc2V0QnlCb29sZWFuQXJyYXkodC5hcnJheSkpfSxpdC5sYW5nLmV4dGVuZChydC5hc24xLkRFUkJpdFN0cmluZyxydC5hc24xLkFTTjFPYmplY3QpLHJ0LmFzbjEuREVST2N0ZXRTdHJpbmc9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09dC5vYmope3ZhciBlPXJ0LmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHQub2JqKTt0LmhleD1lLmdldEVuY29kZWRIZXgoKX1ydC5hc24xLkRFUk9jdGV0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjA0In0saXQubGFuZy5leHRlbmQocnQuYXNuMS5ERVJPY3RldFN0cmluZyxydC5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxydC5hc24xLkRFUk51bGw9ZnVuY3Rpb24oKXtydC5hc24xLkRFUk51bGwuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9IjA1Iix0aGlzLmhUTFY9IjA1MDAifSxpdC5sYW5nLmV4dGVuZChydC5hc24xLkRFUk51bGwscnQuYXNuMS5BU04xT2JqZWN0KSxydC5hc24xLkRFUk9iamVjdElkZW50aWZpZXI9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PWUubGVuZ3RoJiYoZT0iMCIrZSksZX0saT1mdW5jdGlvbih0KXt2YXIgaT0iIixyPW5ldyBPKHQsMTApLnRvU3RyaW5nKDIpLG49Ny1yLmxlbmd0aCU3Ozc9PW4mJihuPTApO2Zvcih2YXIgcz0iIixvPTA7bzxuO28rKylzKz0iMCI7Zm9yKHI9cytyLG89MDtvPHIubGVuZ3RoLTE7bys9Nyl7dmFyIGg9ci5zdWJzdHIobyw3KTtvIT1yLmxlbmd0aC03JiYoaD0iMSIraCksaSs9ZShwYXJzZUludChoLDIpKX1yZXR1cm4gaX07cnQuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwNiIsdGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj10fSx0aGlzLnNldFZhbHVlT2lkU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKCF0Lm1hdGNoKC9eWzAtOS5dKyQvKSl0aHJvdyJtYWxmb3JtZWQgb2lkIHN0cmluZzogIit0O3ZhciByPSIiLG49dC5zcGxpdCgiLiIpLHM9NDAqcGFyc2VJbnQoblswXSkrcGFyc2VJbnQoblsxXSk7cis9ZShzKSxuLnNwbGljZSgwLDIpO2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXIrPWkobltvXSk7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMucz1udWxsLHRoaXMuaFY9cn0sdGhpcy5zZXRWYWx1ZU5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9cnQuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZCh0KTtpZigiIj09PWUpdGhyb3ciREVST2JqZWN0SWRlbnRpZmllciBvaWROYW1lIHVuZGVmaW5lZDogIit0O3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcoZSl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYoInN0cmluZyI9PXR5cGVvZiB0P3QubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pP3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcodCk6dGhpcy5zZXRWYWx1ZU5hbWUodCk6dm9pZCAwIT09dC5vaWQ/dGhpcy5zZXRWYWx1ZU9pZFN0cmluZyh0Lm9pZCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRWYWx1ZUhleCh0LmhleCk6dm9pZCAwIT09dC5uYW1lJiZ0aGlzLnNldFZhbHVlTmFtZSh0Lm5hbWUpKX0saXQubGFuZy5leHRlbmQocnQuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLHJ0LmFzbjEuQVNOMU9iamVjdCkscnQuYXNuMS5ERVJFbnVtZXJhdGVkPWZ1bmN0aW9uKHQpe3J0LmFzbjEuREVSRW51bWVyYXRlZC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD0iMGEiLHRoaXMuc2V0QnlCaWdJbnRlZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmhWPXJ0LmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgodCl9LHRoaXMuc2V0QnlJbnRlZ2VyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBPKFN0cmluZyh0KSwxMCk7dGhpcy5zZXRCeUJpZ0ludGVnZXIoZSl9LHRoaXMuc2V0VmFsdWVIZXg9ZnVuY3Rpb24odCl7dGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuaW50P3RoaXMuc2V0QnlJbnRlZ2VyKHQuaW50KToibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5zZXRCeUludGVnZXIodCk6dm9pZCAwIT09dC5oZXgmJnRoaXMuc2V0VmFsdWVIZXgodC5oZXgpKX0saXQubGFuZy5leHRlbmQocnQuYXNuMS5ERVJFbnVtZXJhdGVkLHJ0LmFzbjEuQVNOMU9iamVjdCkscnQuYXNuMS5ERVJVVEY4U3RyaW5nPWZ1bmN0aW9uKHQpe3J0LmFzbjEuREVSVVRGOFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIwYyJ9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSVVRGOFN0cmluZyxydC5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxydC5hc24xLkRFUk51bWVyaWNTdHJpbmc9ZnVuY3Rpb24odCl7cnQuYXNuMS5ERVJOdW1lcmljU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjEyIn0saXQubGFuZy5leHRlbmQocnQuYXNuMS5ERVJOdW1lcmljU3RyaW5nLHJ0LmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLHJ0LmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nPWZ1bmN0aW9uKHQpe3J0LmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjEzIn0saXQubGFuZy5leHRlbmQocnQuYXNuMS5ERVJQcmludGFibGVTdHJpbmcscnQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZykscnQuYXNuMS5ERVJUZWxldGV4U3RyaW5nPWZ1bmN0aW9uKHQpe3J0LmFzbjEuREVSVGVsZXRleFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIxNCJ9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSVGVsZXRleFN0cmluZyxydC5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxydC5hc24xLkRFUklBNVN0cmluZz1mdW5jdGlvbih0KXtydC5hc24xLkRFUklBNVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIxNiJ9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSSUE1U3RyaW5nLHJ0LmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLHJ0LmFzbjEuREVSVVRDVGltZT1mdW5jdGlvbih0KXtydC5hc24xLkRFUlVUQ1RpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMTciLHRoaXMuc2V0QnlEYXRlPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmRhdGU9dCx0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwidXRjIiksdGhpcy5oVj1zdG9oZXgodGhpcy5zKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuZGF0ZSYmdm9pZCAwPT09dGhpcy5zJiYodGhpcy5kYXRlPW5ldyBEYXRlLHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLCJ1dGMiKSx0aGlzLmhWPXN0b2hleCh0aGlzLnMpKSx0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5zdHI/dGhpcy5zZXRTdHJpbmcodC5zdHIpOiJzdHJpbmciPT10eXBlb2YgdCYmdC5tYXRjaCgvXlswLTldezEyfVokLyk/dGhpcy5zZXRTdHJpbmcodCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpOnZvaWQgMCE9PXQuZGF0ZSYmdGhpcy5zZXRCeURhdGUodC5kYXRlKSl9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSVVRDVGltZSxydC5hc24xLkRFUkFic3RyYWN0VGltZSkscnQuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWU9ZnVuY3Rpb24odCl7cnQuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMTgiLHRoaXMud2l0aE1pbGxpcz0hMSx0aGlzLnNldEJ5RGF0ZT1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5kYXRlPXQsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsImdlbiIsdGhpcy53aXRoTWlsbGlzKSx0aGlzLmhWPXN0b2hleCh0aGlzLnMpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5kYXRlJiZ2b2lkIDA9PT10aGlzLnMmJih0aGlzLmRhdGU9bmV3IERhdGUsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsImdlbiIsdGhpcy53aXRoTWlsbGlzKSx0aGlzLmhWPXN0b2hleCh0aGlzLnMpKSx0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5zdHI/dGhpcy5zZXRTdHJpbmcodC5zdHIpOiJzdHJpbmciPT10eXBlb2YgdCYmdC5tYXRjaCgvXlswLTldezE0fVokLyk/dGhpcy5zZXRTdHJpbmcodCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpOnZvaWQgMCE9PXQuZGF0ZSYmdGhpcy5zZXRCeURhdGUodC5kYXRlKSwhMD09PXQubWlsbGlzJiYodGhpcy53aXRoTWlsbGlzPSEwKSl9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLHJ0LmFzbjEuREVSQWJzdHJhY3RUaW1lKSxydC5hc24xLkRFUlNlcXVlbmNlPWZ1bmN0aW9uKHQpe3J0LmFzbjEuREVSU2VxdWVuY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMzAiLHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe2Zvcih2YXIgdD0iIixlPTA7ZTx0aGlzLmFzbjFBcnJheS5sZW5ndGg7ZSsrKXQrPXRoaXMuYXNuMUFycmF5W2VdLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVj10LHRoaXMuaFZ9fSxpdC5sYW5nLmV4dGVuZChydC5hc24xLkRFUlNlcXVlbmNlLHJ0LmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkKSxydC5hc24xLkRFUlNldD1mdW5jdGlvbih0KXtydC5hc24xLkRFUlNldC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIzMSIsdGhpcy5zb3J0RmxhZz0hMCx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IEFycmF5LGU9MDtlPHRoaXMuYXNuMUFycmF5Lmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuYXNuMUFycmF5W2VdO3QucHVzaChpLmdldEVuY29kZWRIZXgoKSl9cmV0dXJuIDE9PXRoaXMuc29ydEZsYWcmJnQuc29ydCgpLHRoaXMuaFY9dC5qb2luKCIiKSx0aGlzLmhWfSx2b2lkIDAhPT10JiZ2b2lkIDAhPT10LnNvcnRmbGFnJiYwPT10LnNvcnRmbGFnJiYodGhpcy5zb3J0RmxhZz0hMSl9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSU2V0LHJ0LmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkKSxydC5hc24xLkRFUlRhZ2dlZE9iamVjdD1mdW5jdGlvbih0KXtydC5hc24xLkRFUlRhZ2dlZE9iamVjdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD0iYTAiLHRoaXMuaFY9IiIsdGhpcy5pc0V4cGxpY2l0PSEwLHRoaXMuYXNuMU9iamVjdD1udWxsLHRoaXMuc2V0QVNOMU9iamVjdD1mdW5jdGlvbih0LGUsaSl7dGhpcy5oVD1lLHRoaXMuaXNFeHBsaWNpdD10LHRoaXMuYXNuMU9iamVjdD1pLHRoaXMuaXNFeHBsaWNpdD8odGhpcy5oVj10aGlzLmFzbjFPYmplY3QuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCk6KHRoaXMuaFY9bnVsbCx0aGlzLmhUTFY9aS5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWPXRoaXMuaFRMVi5yZXBsYWNlKC9eLi4vLGUpLHRoaXMuaXNNb2RpZmllZD0hMSl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC50YWcmJih0aGlzLmhUPXQudGFnKSx2b2lkIDAhPT10LmV4cGxpY2l0JiYodGhpcy5pc0V4cGxpY2l0PXQuZXhwbGljaXQpLHZvaWQgMCE9PXQub2JqJiYodGhpcy5hc24xT2JqZWN0PXQub2JqLHRoaXMuc2V0QVNOMU9iamVjdCh0aGlzLmlzRXhwbGljaXQsdGhpcy5oVCx0aGlzLmFzbjFPYmplY3QpKSl9LGl0LmxhbmcuZXh0ZW5kKHJ0LmFzbjEuREVSVGFnZ2VkT2JqZWN0LHJ0LmFzbjEuQVNOMU9iamVjdCk7dmFyIG50LHN0LG90PShudD1mdW5jdGlvbih0LGUpe3JldHVybihudD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmKHRbaV09ZVtpXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKGUpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9bnQodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9KSxodD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaSYmKCJzdHJpbmciPT10eXBlb2YgaT9yLnBhcnNlS2V5KGkpOihlLmhhc1ByaXZhdGVLZXlQcm9wZXJ0eShpKXx8ZS5oYXNQdWJsaWNLZXlQcm9wZXJ0eShpKSkmJnIucGFyc2VQcm9wZXJ0aWVzRnJvbShpKSkscn1yZXR1cm4gb3QoZSx0KSxlLnByb3RvdHlwZS5wYXJzZUtleT1mdW5jdGlvbih0KXt0cnl7dmFyIGU9MCxpPTAscj0vXlxzKig/OlswLTlBLUZhLWZdWzAtOUEtRmEtZl1ccyopKyQvLnRlc3QodCk/ZnVuY3Rpb24odCl7dmFyIGU7aWYodm9pZCAwPT09Yyl7dmFyIGk9IjAxMjM0NTY3ODlBQkNERUYiLHI9IiBcZlxuXHJcdCBcdTIwMjhcdTIwMjkiO2ZvcihjPXt9LGU9MDtlPDE2OysrZSljW2kuY2hhckF0KGUpXT1lO2ZvcihpPWkudG9Mb3dlckNhc2UoKSxlPTEwO2U8MTY7KytlKWNbaS5jaGFyQXQoZSldPWU7Zm9yKGU9MDtlPHIubGVuZ3RoOysrZSljW3IuY2hhckF0KGUpXT0tMX12YXIgbj1bXSxzPTAsbz0wO2ZvcihlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBoPXQuY2hhckF0KGUpO2lmKCI9Ij09aClicmVhaztpZigtMSE9KGg9Y1toXSkpe2lmKHZvaWQgMD09PWgpdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIGNoYXJhY3RlciBhdCBvZmZzZXQgIitlKTtzfD1oLCsrbz49Mj8obltuLmxlbmd0aF09cyxzPTAsbz0wKTpzPDw9NH19aWYobyl0aHJvdyBuZXcgRXJyb3IoIkhleCBlbmNvZGluZyBpbmNvbXBsZXRlOiA0IGJpdHMgbWlzc2luZyIpO3JldHVybiBufSh0KTp2LnVuYXJtb3IodCksbj14LmRlY29kZShyKTtpZigzPT09bi5zdWIubGVuZ3RoJiYobj1uLnN1YlsyXS5zdWJbMF0pLDk9PT1uLnN1Yi5sZW5ndGgpe2U9bi5zdWJbMV0uZ2V0SGV4U3RyaW5nVmFsdWUoKSx0aGlzLm49TChlLDE2KSxpPW4uc3ViWzJdLmdldEhleFN0cmluZ1ZhbHVlKCksdGhpcy5lPXBhcnNlSW50KGksMTYpO3ZhciBzPW4uc3ViWzNdLmdldEhleFN0cmluZ1ZhbHVlKCk7dGhpcy5kPUwocywxNik7dmFyIG89bi5zdWJbNF0uZ2V0SGV4U3RyaW5nVmFsdWUoKTt0aGlzLnA9TChvLDE2KTt2YXIgaD1uLnN1Yls1XS5nZXRIZXhTdHJpbmdWYWx1ZSgpO3RoaXMucT1MKGgsMTYpO3ZhciBhPW4uc3ViWzZdLmdldEhleFN0cmluZ1ZhbHVlKCk7dGhpcy5kbXAxPUwoYSwxNik7dmFyIHU9bi5zdWJbN10uZ2V0SGV4U3RyaW5nVmFsdWUoKTt0aGlzLmRtcTE9TCh1LDE2KTt2YXIgZj1uLnN1Yls4XS5nZXRIZXhTdHJpbmdWYWx1ZSgpO3RoaXMuY29lZmY9TChmLDE2KX1lbHNle2lmKDIhPT1uLnN1Yi5sZW5ndGgpcmV0dXJuITE7aWYobi5zdWJbMF0uc3ViKXt2YXIgbD1uLnN1YlsxXS5zdWJbMF07ZT1sLnN1YlswXS5nZXRIZXhTdHJpbmdWYWx1ZSgpLHRoaXMubj1MKGUsMTYpLGk9bC5zdWJbMV0uZ2V0SGV4U3RyaW5nVmFsdWUoKSx0aGlzLmU9cGFyc2VJbnQoaSwxNil9ZWxzZSBlPW4uc3ViWzBdLmdldEhleFN0cmluZ1ZhbHVlKCksdGhpcy5uPUwoZSwxNiksaT1uLnN1YlsxXS5nZXRIZXhTdHJpbmdWYWx1ZSgpLHRoaXMuZT1wYXJzZUludChpLDE2KX1yZXR1cm4hMH1jYXRjaCh0KXtyZXR1cm4hMX19LGUucHJvdG90eXBlLmdldFByaXZhdGVCYXNlS2V5PWZ1bmN0aW9uKCl7dmFyIHQ9e2FycmF5OltuZXcgcnQuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6MH0pLG5ldyBydC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLm59KSxuZXcgcnQuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6dGhpcy5lfSksbmV3IHJ0LmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnRoaXMuZH0pLG5ldyBydC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLnB9KSxuZXcgcnQuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dGhpcy5xfSksbmV3IHJ0LmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnRoaXMuZG1wMX0pLG5ldyBydC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLmRtcTF9KSxuZXcgcnQuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dGhpcy5jb2VmZn0pXX07cmV0dXJuIG5ldyBydC5hc24xLkRFUlNlcXVlbmNlKHQpLmdldEVuY29kZWRIZXgoKX0sZS5wcm90b3R5cGUuZ2V0UHJpdmF0ZUJhc2VLZXlCNjQ9ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzLmdldFByaXZhdGVCYXNlS2V5KCkpfSxlLnByb3RvdHlwZS5nZXRQdWJsaWNCYXNlS2V5PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHJ0LmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OltuZXcgcnQuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKHtvaWQ6IjEuMi44NDAuMTEzNTQ5LjEuMS4xIn0pLG5ldyBydC5hc24xLkRFUk51bGxdfSksZT1uZXcgcnQuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W25ldyBydC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLm59KSxuZXcgcnQuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6dGhpcy5lfSldfSksaT1uZXcgcnQuYXNuMS5ERVJCaXRTdHJpbmcoe2hleDoiMDAiK2UuZ2V0RW5jb2RlZEhleCgpfSk7cmV0dXJuIG5ldyBydC5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbdCxpXX0pLmdldEVuY29kZWRIZXgoKX0sZS5wcm90b3R5cGUuZ2V0UHVibGljQmFzZUtleUI2ND1mdW5jdGlvbigpe3JldHVybiBwKHRoaXMuZ2V0UHVibGljQmFzZUtleSgpKX0sZS53b3Jkd3JhcD1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiB0O3ZhciBpPSIoLnsxLCIrKGU9ZXx8NjQpKyJ9KSggK3wkXG4/KXwoLnsxLCIrZSsifSkiO3JldHVybiB0Lm1hdGNoKFJlZ0V4cChpLCJnIikpLmpvaW4oIlxuIil9LGUucHJvdG90eXBlLmdldFByaXZhdGVLZXk9ZnVuY3Rpb24oKXt2YXIgdD0iLS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLVxuIjtyZXR1cm4odCs9ZS53b3Jkd3JhcCh0aGlzLmdldFByaXZhdGVCYXNlS2V5QjY0KCkpKyJcbiIpKyItLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLSJ9LGUucHJvdG90eXBlLmdldFB1YmxpY0tleT1mdW5jdGlvbigpe3ZhciB0PSItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuIjtyZXR1cm4odCs9ZS53b3Jkd3JhcCh0aGlzLmdldFB1YmxpY0Jhc2VLZXlCNjQoKSkrIlxuIikrIi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSJ9LGUuaGFzUHVibGljS2V5UHJvcGVydHk9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9dHx8e30pLmhhc093blByb3BlcnR5KCJuIikmJnQuaGFzT3duUHJvcGVydHkoImUiKX0sZS5oYXNQcml2YXRlS2V5UHJvcGVydHk9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9dHx8e30pLmhhc093blByb3BlcnR5KCJuIikmJnQuaGFzT3duUHJvcGVydHkoImUiKSYmdC5oYXNPd25Qcm9wZXJ0eSgiZCIpJiZ0Lmhhc093blByb3BlcnR5KCJwIikmJnQuaGFzT3duUHJvcGVydHkoInEiKSYmdC5oYXNPd25Qcm9wZXJ0eSgiZG1wMSIpJiZ0Lmhhc093blByb3BlcnR5KCJkbXExIikmJnQuaGFzT3duUHJvcGVydHkoImNvZWZmIil9LGUucHJvdG90eXBlLnBhcnNlUHJvcGVydGllc0Zyb209ZnVuY3Rpb24odCl7dGhpcy5uPXQubix0aGlzLmU9dC5lLHQuaGFzT3duUHJvcGVydHkoImQiKSYmKHRoaXMuZD10LmQsdGhpcy5wPXQucCx0aGlzLnE9dC5xLHRoaXMuZG1wMT10LmRtcDEsdGhpcy5kbXExPXQuZG1xMSx0aGlzLmNvZWZmPXQuY29lZmYpfSxlfSh0dCksYXQ9aSgxNTUpLHV0PXZvaWQgMCE9PWF0P251bGw9PT0oc3Q9YXQuZW52KXx8dm9pZCAwPT09c3Q/dm9pZCAwOiIzLjMuMiI6dm9pZCAwO2NvbnN0IGN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD17fSksdD10fHx7fSx0aGlzLmRlZmF1bHRfa2V5X3NpemU9dC5kZWZhdWx0X2tleV9zaXplP3BhcnNlSW50KHQuZGVmYXVsdF9rZXlfc2l6ZSwxMCk6MTAyNCx0aGlzLmRlZmF1bHRfcHVibGljX2V4cG9uZW50PXQuZGVmYXVsdF9wdWJsaWNfZXhwb25lbnR8fCIwMTAwMDEiLHRoaXMubG9nPXQubG9nfHwhMSx0aGlzLmtleT1udWxsfXJldHVybiB0LnByb3RvdHlwZS5zZXRLZXk9ZnVuY3Rpb24odCl7dGhpcy5sb2cmJnRoaXMua2V5JiZjb25zb2xlLndhcm4oIkEga2V5IHdhcyBhbHJlYWR5IHNldCwgb3ZlcnJpZGluZyBleGlzdGluZy4iKSx0aGlzLmtleT1uZXcgaHQodCl9LHQucHJvdG90eXBlLnNldFByaXZhdGVLZXk9ZnVuY3Rpb24odCl7dGhpcy5zZXRLZXkodCl9LHQucHJvdG90eXBlLnNldFB1YmxpY0tleT1mdW5jdGlvbih0KXt0aGlzLnNldEtleSh0KX0sdC5wcm90b3R5cGUuZGVjcnlwdD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIHRoaXMuZ2V0S2V5KCkuZGVjcnlwdChnKHQpKX1jYXRjaCh0KXtyZXR1cm4hMX19LHQucHJvdG90eXBlLmVuY3J5cHQ9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBwKHRoaXMuZ2V0S2V5KCkuZW5jcnlwdCh0KSl9Y2F0Y2godCl7cmV0dXJuITF9fSx0LnByb3RvdHlwZS5zaWduPWZ1bmN0aW9uKHQsZSxpKXt0cnl7cmV0dXJuIHAodGhpcy5nZXRLZXkoKS5zaWduKHQsZSxpKSl9Y2F0Y2godCl7cmV0dXJuITF9fSx0LnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24odCxlLGkpe3RyeXtyZXR1cm4gdGhpcy5nZXRLZXkoKS52ZXJpZnkodCxnKGUpLGkpfWNhdGNoKHQpe3JldHVybiExfX0sdC5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmtleSl7aWYodGhpcy5rZXk9bmV3IGh0LHQmJiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT17fS50b1N0cmluZy5jYWxsKHQpKXJldHVybiB2b2lkIHRoaXMua2V5LmdlbmVyYXRlQXN5bmModGhpcy5kZWZhdWx0X2tleV9zaXplLHRoaXMuZGVmYXVsdF9wdWJsaWNfZXhwb25lbnQsdCk7dGhpcy5rZXkuZ2VuZXJhdGUodGhpcy5kZWZhdWx0X2tleV9zaXplLHRoaXMuZGVmYXVsdF9wdWJsaWNfZXhwb25lbnQpfXJldHVybiB0aGlzLmtleX0sdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEtleSgpLmdldFByaXZhdGVLZXkoKX0sdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleUI2ND1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEtleSgpLmdldFByaXZhdGVCYXNlS2V5QjY0KCl9LHQucHJvdG90eXBlLmdldFB1YmxpY0tleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEtleSgpLmdldFB1YmxpY0tleSgpfSx0LnByb3RvdHlwZS5nZXRQdWJsaWNLZXlCNjQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQdWJsaWNCYXNlS2V5QjY0KCl9LHQucHJvdG90eXBlLmRlY3J5cHRVbmljb2RlTG9uZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEtleSgpLGk9MiooZS5uLmJpdExlbmd0aCgpKzc+PjMpO3RyeXt2YXIgcj1nKHQpLG49IiIscz1uZXcgUmVnRXhwKCIuezEsIitpKyJ9IiwiZyIpLG89ci5tYXRjaChzKTtpZihvKXJldHVybiBvLmZvckVhY2goZnVuY3Rpb24odCl7bis9ZS5kZWNyeXB0KHQpfSksbn1jYXRjaCh0KXtyZXR1cm4hMX19LHQucHJvdG90eXBlLmVuY3J5cHRVbmljb2RlTG9uZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEtleSgpLGk9KGUubi5iaXRMZW5ndGgoKSs3Pj4zKS0xMTt0cnl7Zm9yKHZhciByPSIiLG49IiIscz0wLG89MCxoPTAsYT0wLHU9MCxjPXQubGVuZ3RoO3U8Yzt1Kyspe3ZhciBmPXQuY2hhckNvZGVBdCh1KTsoaCs9Zjw9MTI3PzE6Zjw9MjA0Nz8yOmY8PTY1NTM1PzM6NCk+aT8ocj10LnN1YnN0cmluZyhzLG8pLG4rPWUuZW5jcnlwdChyKSxzPW8saC09YSk6KG89dSxhPWgpfXJldHVybiByPXQuc3Vic3RyaW5nKHMsYykscChuKz1lLmVuY3J5cHQocikpfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmxvZyh0KSwhMX19LHQudmVyc2lvbj11dCx0fSgpfSkoKSxyLmRlZmF1bHR9KSgpKTs="
var window = this.window;
window.eval(atob(crypto_rsa_jsencrypt_unicode_cracking_code));

types['methods'].push({
    key: 'crypto_rsa_tip',
    label: '必读Tip：本控件使用了修改版的jsencrypt，支持Unicode，和超长字符串，但因为js性能限制，建议不要使用太长的私钥和字符串',
    params: [],
    blockOptions: {
        line: "RSA算法"
    }
})
Widget.prototype.crypto_rsa_tip = function () {

}

types['methods'].push({
    key: 'crypto_rsa_genPrivateKey',
    label: '生成私钥',
    params: [
        {
            key: 'key_len',
            label: '私钥长度(必须为1024，2048，3072，4096等值)',
            valueType: 'number',
            dropdown: [
                { label: '1024', value: 1024, },

                { label: '2048', value: 2048, },

                { label: '3072', value: 3072, },

                { label: '4096', value: 4096, },
            ],
        },

    ],
    valueType: 'string',

})
Widget.prototype.crypto_rsa_genPrivateKey = function (key_len,) {
    var jse = new JSEncrypt();
    jse.default_key_size = key_len;
    return jse.getPrivateKey();
}

types['methods'].push({
    key: 'crypto_rsa_genPublicKey',
    label: '生成公钥',
    params: [
        {
            key: 'private_key',
            label: '私钥',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: '-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----'
        },

    ],
    valueType: 'string',

})
Widget.prototype.crypto_rsa_genPublicKey = function (private_key,) {
    var jse = new JSEncrypt();
    jse.setPrivateKey(private_key);
    return jse.getPublicKey();
}

types['methods'].push({
    key: 'crypto_rsa_rsa_encryptUnicodeLong',
    label: 'RSA加密算法-加密（调用自制PKCS1Padding）',
    params: [
        {
            key: 'text',
            label: '文本',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: '你好Coco！'
        },
        {
            key: 'public_key',
            label: '公钥',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: '-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----'
        },

    ],
    valueType: 'string',

})
Widget.prototype.crypto_rsa_rsa_encryptUnicodeLong = function (text, public_key) {
    var jse = new JSEncrypt();
    jse.setPublicKey(public_key);
    return jse.encryptUnicodeLong(text);
}

types['methods'].push({
    key: 'crypto_rsa_rsa_decryptUnicodeLong',
    label: 'RSA加密算法-解密（调用自制PKCS1Padding）',
    params: [
        {
            key: 'text',
            label: '密文',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: 'DxAFRJT7q3E4LPciUAB5O...'
        },
        {
            key: 'private_key',
            label: '私钥',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: '-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----'
        },

    ],
    valueType: 'string',

})
Widget.prototype.crypto_rsa_rsa_decryptUnicodeLong = function (text, private_key) {
    var jse = new JSEncrypt();
    jse.setPrivateKey(private_key);
    return jse.decryptUnicodeLong(text);
}

types['methods'].push({
    key: 'crypto_rsa_rsa_sign',
    label: 'RSA数字签名-签名',
    params: [
        {
            key: 'text',
            label: '文本',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: '我爱Coco！'
        },
        {
            key: 'private_key',
            label: '私钥',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: '-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----'
        },
        {
            key: 'algo',
            label: 'Hash算法',
            valueType: 'string',
            defaultValue: 'SHA256',
            dropdown: [
                { label: 'MD5', value: 'MD5' },
                { label: 'SHA1', value: 'SHA1' },
                { label: 'SHA224', value: 'SHA224' },
                { label: 'SHA256', value: 'SHA256' },
                { label: 'SHA384', value: 'SHA384' },
                { label: 'SHA512', value: 'SHA512' },
                { label: 'RIPEMD160', value: 'RIPEMD160' },
            ]
        },

    ],
    valueType: 'string',

})
Widget.prototype.crypto_rsa_rsa_sign = function (text, private_key, algo) {
    var jse = new JSEncrypt();
    jse.setPrivateKey(private_key);
    return jse.sign(text, CryptoJS[algo], algo.toLowerCase())
}

types['methods'].push({
    key: 'crypto_rsa_rsa_verify',
    label: 'RSA数字签名-验签',
    params: [
        {
            key: 'text',
            label: '文本',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: '我爱Coco！'
        },
        {
            key: 'sign',
            label: '签名',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: 'QKuQW6pNtBAUJtdKDH...'
        },
        {
            key: 'public_key',
            label: '公钥',
            valueType: 'multilineString',
            checkType: 'string',
            defaultValue: '-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----'
        },
        {
            key: 'algo',
            label: 'Hash算法',
            valueType: 'string',
            defaultValue: 'SHA256',
            dropdown: [
                { label: 'MD5', value: 'MD5' },
                { label: 'SHA1', value: 'SHA1' },
                { label: 'SHA224', value: 'SHA224' },
                { label: 'SHA256', value: 'SHA256' },
                { label: 'SHA384', value: 'SHA384' },
                { label: 'SHA512', value: 'SHA512' },
                { label: 'RIPEMD160', value: 'RIPEMD160' },
            ]
        },

    ],
    valueType: 'boolean',

})
Widget.prototype.crypto_rsa_rsa_verify = function (text, sign, public_key, algo) {
    var jse = new JSEncrypt();
    jse.setPublicKey(public_key);
    return jse.verify(text, sign, CryptoJS[algo]);
}

//file:src\1-js\0-eval.js

/*高危建议删除*/
types['methods'].push({
    key: 'js_eval',
    label: 'JS函数（高危）_eval',
    params: [
        {
            key: 'code',
            label: '',
            valueType: 'string',
            defaultValue: 'console.log("Hello world!")',
        },],
    valueType: ['string', 'number', 'boolean', 'array', 'color', 'object',],
    blockOptions: {
        line: "js功能"
    }
})
Widget.prototype.js_eval = function (code,) {
    return window.eval(code);
}

//file:src\2-axios\0-axios_head.js

var axios_head_code_base64 = "IWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KGU9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikuYXhpb3M9dCgpfSh0aGlzLChmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19ZnVuY3Rpb24gcihlLHQscil7cmV0dXJuIHQmJm4oZS5wcm90b3R5cGUsdCksciYmbihlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLGV9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLG8saT1bXSxhPSEwLHM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHIudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtzPSEwLG89ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgb319cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gaShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gaShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gaShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIGEoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fXZhciBzLHU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxjPU9iamVjdC5nZXRQcm90b3R5cGVPZixmPShzPU9iamVjdC5jcmVhdGUobnVsbCksZnVuY3Rpb24oZSl7dmFyIHQ9dS5jYWxsKGUpO3JldHVybiBzW3RdfHwoc1t0XT10LnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkpfSksbD1mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7cmV0dXJuIGYodCk9PT1lfX0sZD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUobik9PT10fX0scD1BcnJheS5pc0FycmF5LGg9ZCgidW5kZWZpbmVkIik7dmFyIG09bCgiQXJyYXlCdWZmZXIiKTt2YXIgeT1kKCJzdHJpbmciKSx2PWQoImZ1bmN0aW9uIiksYj1kKCJudW1iZXIiKSxnPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PT1lKHQpfSx3PWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09ZihlKSlyZXR1cm4hMTt2YXIgdD1jKGUpO3JldHVybiEobnVsbCE9PXQmJnQhPT1PYmplY3QucHJvdG90eXBlJiZudWxsIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfHxTeW1ib2wudG9TdHJpbmdUYWcgaW4gZXx8U3ltYm9sLml0ZXJhdG9yIGluIGUpfSxFPWwoIkRhdGUiKSxPPWwoIkZpbGUiKSxTPWwoIkJsb2IiKSxSPWwoIkZpbGVMaXN0IiksQT1sKCJVUkxTZWFyY2hQYXJhbXMiKTtmdW5jdGlvbiBUKHQsbil7dmFyIHIsbyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxhPWkuYWxsT3duS2V5cyxzPXZvaWQgMCE9PWEmJmE7aWYobnVsbCE9dClpZigib2JqZWN0IiE9PWUodCkmJih0PVt0XSkscCh0KSlmb3Iocj0wLG89dC5sZW5ndGg7cjxvO3IrKyluLmNhbGwobnVsbCx0W3JdLHIsdCk7ZWxzZXt2YXIgdSxjPXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCk6T2JqZWN0LmtleXModCksZj1jLmxlbmd0aDtmb3Iocj0wO3I8ZjtyKyspdT1jW3JdLG4uY2FsbChudWxsLHRbdV0sdSx0KX19ZnVuY3Rpb24gaihlLHQpe3Q9dC50b0xvd2VyQ2FzZSgpO2Zvcih2YXIgbixyPU9iamVjdC5rZXlzKGUpLG89ci5sZW5ndGg7by0tID4wOylpZih0PT09KG49cltvXSkudG9Mb3dlckNhc2UoKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH12YXIgTj0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6Z2xvYmFsLEM9ZnVuY3Rpb24oZSl7cmV0dXJuIWgoZSkmJmUhPT1OfTt2YXIgeCxQPSh4PSJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheSYmYyhVaW50OEFycmF5KSxmdW5jdGlvbihlKXtyZXR1cm4geCYmZSBpbnN0YW5jZW9mIHh9KSxrPWwoIkhUTUxGb3JtRWxlbWVudCIpLFU9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5jYWxsKGUsbil9fSgpLF89bCgiUmVnRXhwIiksRj1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGUpLHI9e307VChuLChmdW5jdGlvbihuLG8peyExIT09dChuLG8sZSkmJihyW29dPW4pfSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUscil9LEI9ImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IixMPSIwMTIzNDU2Nzg5IixEPXtESUdJVDpMLEFMUEhBOkIsQUxQSEFfRElHSVQ6QitCLnRvVXBwZXJDYXNlKCkrTH07dmFyIEk9bCgiQXN5bmNGdW5jdGlvbiIpLHE9e2lzQXJyYXk6cCxpc0FycmF5QnVmZmVyOm0saXNCdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiYhaChlKSYmbnVsbCE9PWUuY29uc3RydWN0b3ImJiFoKGUuY29uc3RydWN0b3IpJiZ2KGUuY29uc3RydWN0b3IuaXNCdWZmZXIpJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpfSxpc0Zvcm1EYXRhOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlJiYoImZ1bmN0aW9uIj09dHlwZW9mIEZvcm1EYXRhJiZlIGluc3RhbmNlb2YgRm9ybURhdGF8fHYoZS5hcHBlbmQpJiYoImZvcm1kYXRhIj09PSh0PWYoZSkpfHwib2JqZWN0Ij09PXQmJnYoZS50b1N0cmluZykmJiJbb2JqZWN0IEZvcm1EYXRhXSI9PT1lLnRvU3RyaW5nKCkpKX0saXNBcnJheUJ1ZmZlclZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmQXJyYXlCdWZmZXIuaXNWaWV3P0FycmF5QnVmZmVyLmlzVmlldyhlKTplJiZlLmJ1ZmZlciYmbShlLmJ1ZmZlcil9LGlzU3RyaW5nOnksaXNOdW1iZXI6Yixpc0Jvb2xlYW46ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lfHwhMT09PWV9LGlzT2JqZWN0OmcsaXNQbGFpbk9iamVjdDp3LGlzVW5kZWZpbmVkOmgsaXNEYXRlOkUsaXNGaWxlOk8saXNCbG9iOlMsaXNSZWdFeHA6Xyxpc0Z1bmN0aW9uOnYsaXNTdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIGcoZSkmJnYoZS5waXBlKX0saXNVUkxTZWFyY2hQYXJhbXM6QSxpc1R5cGVkQXJyYXk6UCxpc0ZpbGVMaXN0OlIsZm9yRWFjaDpULG1lcmdlOmZ1bmN0aW9uIGUoKXtmb3IodmFyIHQ9Qyh0aGlzKSYmdGhpc3x8e30sbj10LmNhc2VsZXNzLHI9e30sbz1mdW5jdGlvbih0LG8pe3ZhciBpPW4mJmoocixvKXx8bzt3KHJbaV0pJiZ3KHQpP3JbaV09ZShyW2ldLHQpOncodCk/cltpXT1lKHt9LHQpOnAodCk/cltpXT10LnNsaWNlKCk6cltpXT10fSxpPTAsYT1hcmd1bWVudHMubGVuZ3RoO2k8YTtpKyspYXJndW1lbnRzW2ldJiZUKGFyZ3VtZW50c1tpXSxvKTtyZXR1cm4gcn0sZXh0ZW5kOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30sbz1yLmFsbE93bktleXM7cmV0dXJuIFQodCwoZnVuY3Rpb24odCxyKXtuJiZ2KHQpP2Vbcl09YSh0LG4pOmVbcl09dH0pLHthbGxPd25LZXlzOm99KSxlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZywiIil9LHN0cmlwQk9NOmZ1bmN0aW9uKGUpe3JldHVybiA2NTI3OT09PWUuY2hhckNvZGVBdCgwKSYmKGU9ZS5zbGljZSgxKSksZX0saW5oZXJpdHM6ZnVuY3Rpb24oZSx0LG4scil7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSxyKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJzdXBlciIse3ZhbHVlOnQucHJvdG90eXBlfSksbiYmT2JqZWN0LmFzc2lnbihlLnByb3RvdHlwZSxuKX0sdG9GbGF0T2JqZWN0OmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSxzPXt9O2lmKHQ9dHx8e30sbnVsbD09ZSlyZXR1cm4gdDtkb3tmb3IoaT0obz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSkubGVuZ3RoO2ktLSA+MDspYT1vW2ldLHImJiFyKGEsZSx0KXx8c1thXXx8KHRbYV09ZVthXSxzW2FdPSEwKTtlPSExIT09biYmYyhlKX13aGlsZShlJiYoIW58fG4oZSx0KSkmJmUhPT1PYmplY3QucHJvdG90eXBlKTtyZXR1cm4gdH0sa2luZE9mOmYsa2luZE9mVGVzdDpsLGVuZHNXaXRoOmZ1bmN0aW9uKGUsdCxuKXtlPVN0cmluZyhlKSwodm9pZCAwPT09bnx8bj5lLmxlbmd0aCkmJihuPWUubGVuZ3RoKSxuLT10Lmxlbmd0aDt2YXIgcj1lLmluZGV4T2YodCxuKTtyZXR1cm4tMSE9PXImJnI9PT1ufSx0b0FycmF5OmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO2lmKHAoZSkpcmV0dXJuIGU7dmFyIHQ9ZS5sZW5ndGg7aWYoIWIodCkpcmV0dXJuIG51bGw7Zm9yKHZhciBuPW5ldyBBcnJheSh0KTt0LS0gPjA7KW5bdF09ZVt0XTtyZXR1cm4gbn0sZm9yRWFjaEVudHJ5OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9KGUmJmVbU3ltYm9sLml0ZXJhdG9yXSkuY2FsbChlKTsobj1yLm5leHQoKSkmJiFuLmRvbmU7KXt2YXIgbz1uLnZhbHVlO3QuY2FsbChlLG9bMF0sb1sxXSl9fSxtYXRjaEFsbDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPVtdO251bGwhPT0obj1lLmV4ZWModCkpOylyLnB1c2gobik7cmV0dXJuIHJ9LGlzSFRNTEZvcm06ayxoYXNPd25Qcm9wZXJ0eTpVLGhhc093blByb3A6VSxyZWR1Y2VEZXNjcmlwdG9yczpGLGZyZWV6ZU1ldGhvZHM6ZnVuY3Rpb24oZSl7RihlLChmdW5jdGlvbih0LG4pe2lmKHYoZSkmJi0xIT09WyJhcmd1bWVudHMiLCJjYWxsZXIiLCJjYWxsZWUiXS5pbmRleE9mKG4pKXJldHVybiExO3ZhciByPWVbbl07dihyKSYmKHQuZW51bWVyYWJsZT0hMSwid3JpdGFibGUiaW4gdD90LndyaXRhYmxlPSExOnQuc2V0fHwodC5zZXQ9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgJyIrbisiJyIpfSkpfSkpfSx0b09iamVjdFNldDpmdW5jdGlvbihlLHQpe3ZhciBuPXt9LHI9ZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW2VdPSEwfSkpfTtyZXR1cm4gcChlKT9yKGUpOnIoU3RyaW5nKGUpLnNwbGl0KHQpKSxufSx0b0NhbWVsQ2FzZTpmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xzXShbYS16XGRdKShcdyopL2csKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpK259KSl9LG5vb3A6ZnVuY3Rpb24oKXt9LHRvRmluaXRlTnVtYmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9K2UsTnVtYmVyLmlzRmluaXRlKGUpP2U6dH0sZmluZEtleTpqLGdsb2JhbDpOLGlzQ29udGV4dERlZmluZWQ6QyxBTFBIQUJFVDpELGdlbmVyYXRlU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxNix0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpELkFMUEhBX0RJR0lULG49IiIscj10Lmxlbmd0aDtlLS07KW4rPXRbTWF0aC5yYW5kb20oKSpyfDBdO3JldHVybiBufSxpc1NwZWNDb21wbGlhbnRGb3JtOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJnYoZS5hcHBlbmQpJiYiRm9ybURhdGEiPT09ZVtTeW1ib2wudG9TdHJpbmdUYWddJiZlW1N5bWJvbC5pdGVyYXRvcl0pfSx0b0pTT05PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KDEwKTtyZXR1cm4gZnVuY3Rpb24gZShuLHIpe2lmKGcobikpe2lmKHQuaW5kZXhPZihuKT49MClyZXR1cm47aWYoISgidG9KU09OImluIG4pKXt0W3JdPW47dmFyIG89cChuKT9bXTp7fTtyZXR1cm4gVChuLChmdW5jdGlvbih0LG4pe3ZhciBpPWUodCxyKzEpOyFoKGkpJiYob1tuXT1pKX0pKSx0W3JdPXZvaWQgMCxvfX1yZXR1cm4gbn0oZSwwKX0saXNBc3luY0ZuOkksaXNUaGVuYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGcoZSl8fHYoZSkpJiZ2KGUudGhlbikmJnYoZS5jYXRjaCl9fTtmdW5jdGlvbiBNKGUsdCxuLHIsbyl7RXJyb3IuY2FsbCh0aGlzKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2ssdGhpcy5tZXNzYWdlPWUsdGhpcy5uYW1lPSJBeGlvc0Vycm9yIix0JiYodGhpcy5jb2RlPXQpLG4mJih0aGlzLmNvbmZpZz1uKSxyJiYodGhpcy5yZXF1ZXN0PXIpLG8mJih0aGlzLnJlc3BvbnNlPW8pfXEuaW5oZXJpdHMoTSxFcnJvcix7dG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJue21lc3NhZ2U6dGhpcy5tZXNzYWdlLG5hbWU6dGhpcy5uYW1lLGRlc2NyaXB0aW9uOnRoaXMuZGVzY3JpcHRpb24sbnVtYmVyOnRoaXMubnVtYmVyLGZpbGVOYW1lOnRoaXMuZmlsZU5hbWUsbGluZU51bWJlcjp0aGlzLmxpbmVOdW1iZXIsY29sdW1uTnVtYmVyOnRoaXMuY29sdW1uTnVtYmVyLHN0YWNrOnRoaXMuc3RhY2ssY29uZmlnOnEudG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXM/dGhpcy5yZXNwb25zZS5zdGF0dXM6bnVsbH19fSk7dmFyIHo9TS5wcm90b3R5cGUsSD17fTtbIkVSUl9CQURfT1BUSU9OX1ZBTFVFIiwiRVJSX0JBRF9PUFRJT04iLCJFQ09OTkFCT1JURUQiLCJFVElNRURPVVQiLCJFUlJfTkVUV09SSyIsIkVSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMiLCJFUlJfREVQUkVDQVRFRCIsIkVSUl9CQURfUkVTUE9OU0UiLCJFUlJfQkFEX1JFUVVFU1QiLCJFUlJfQ0FOQ0VMRUQiLCJFUlJfTk9UX1NVUFBPUlQiLCJFUlJfSU5WQUxJRF9VUkwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtIW2VdPXt2YWx1ZTplfX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNLEgpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh6LCJpc0F4aW9zRXJyb3IiLHt2YWx1ZTohMH0pLE0uZnJvbT1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGE9T2JqZWN0LmNyZWF0ZSh6KTtyZXR1cm4gcS50b0ZsYXRPYmplY3QoZSxhLChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PUVycm9yLnByb3RvdHlwZX0pLChmdW5jdGlvbihlKXtyZXR1cm4iaXNBeGlvc0Vycm9yIiE9PWV9KSksTS5jYWxsKGEsZS5tZXNzYWdlLHQsbixyLG8pLGEuY2F1c2U9ZSxhLm5hbWU9ZS5uYW1lLGkmJk9iamVjdC5hc3NpZ24oYSxpKSxhfTtmdW5jdGlvbiBKKGUpe3JldHVybiBxLmlzUGxhaW5PYmplY3QoZSl8fHEuaXNBcnJheShlKX1mdW5jdGlvbiBXKGUpe3JldHVybiBxLmVuZHNXaXRoKGUsIltdIik/ZS5zbGljZSgwLC0yKTplfWZ1bmN0aW9uIEsoZSx0LG4pe3JldHVybiBlP2UuY29uY2F0KHQpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1XKGUpLCFuJiZ0PyJbIitlKyJdIjplfSkpLmpvaW4obj8iLiI6IiIpOnR9dmFyIFY9cS50b0ZsYXRPYmplY3QocSx7fSxudWxsLChmdW5jdGlvbihlKXtyZXR1cm4vXmlzW0EtWl0vLnRlc3QoZSl9KSk7ZnVuY3Rpb24gRyh0LG4scil7aWYoIXEuaXNPYmplY3QodCkpdGhyb3cgbmV3IFR5cGVFcnJvcigidGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Iik7bj1ufHxuZXcgRm9ybURhdGE7dmFyIG89KHI9cS50b0ZsYXRPYmplY3Qocix7bWV0YVRva2VuczohMCxkb3RzOiExLGluZGV4ZXM6ITF9LCExLChmdW5jdGlvbihlLHQpe3JldHVybiFxLmlzVW5kZWZpbmVkKHRbZV0pfSkpKS5tZXRhVG9rZW5zLGk9ci52aXNpdG9yfHxmLGE9ci5kb3RzLHM9ci5pbmRleGVzLHU9KHIuQmxvYnx8InVuZGVmaW5lZCIhPXR5cGVvZiBCbG9iJiZCbG9iKSYmcS5pc1NwZWNDb21wbGlhbnRGb3JtKG4pO2lmKCFxLmlzRnVuY3Rpb24oaSkpdGhyb3cgbmV3IFR5cGVFcnJvcigidmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb24iKTtmdW5jdGlvbiBjKGUpe2lmKG51bGw9PT1lKXJldHVybiIiO2lmKHEuaXNEYXRlKGUpKXJldHVybiBlLnRvSVNPU3RyaW5nKCk7aWYoIXUmJnEuaXNCbG9iKGUpKXRocm93IG5ldyBNKCJCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLiIpO3JldHVybiBxLmlzQXJyYXlCdWZmZXIoZSl8fHEuaXNUeXBlZEFycmF5KGUpP3UmJiJmdW5jdGlvbiI9PXR5cGVvZiBCbG9iP25ldyBCbG9iKFtlXSk6QnVmZmVyLmZyb20oZSk6ZX1mdW5jdGlvbiBmKHQscixpKXt2YXIgdT10O2lmKHQmJiFpJiYib2JqZWN0Ij09PWUodCkpaWYocS5lbmRzV2l0aChyLCJ7fSIpKXI9bz9yOnIuc2xpY2UoMCwtMiksdD1KU09OLnN0cmluZ2lmeSh0KTtlbHNlIGlmKHEuaXNBcnJheSh0KSYmZnVuY3Rpb24oZSl7cmV0dXJuIHEuaXNBcnJheShlKSYmIWUuc29tZShKKX0odCl8fChxLmlzRmlsZUxpc3QodCl8fHEuZW5kc1dpdGgociwiW10iKSkmJih1PXEudG9BcnJheSh0KSkpcmV0dXJuIHI9VyhyKSx1LmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7IXEuaXNVbmRlZmluZWQoZSkmJm51bGwhPT1lJiZuLmFwcGVuZCghMD09PXM/Syhbcl0sdCxhKTpudWxsPT09cz9yOnIrIltdIixjKGUpKX0pKSwhMTtyZXR1cm4hIUoodCl8fChuLmFwcGVuZChLKGkscixhKSxjKHQpKSwhMSl9dmFyIGw9W10sZD1PYmplY3QuYXNzaWduKFYse2RlZmF1bHRWaXNpdG9yOmYsY29udmVydFZhbHVlOmMsaXNWaXNpdGFibGU6Sn0pO2lmKCFxLmlzT2JqZWN0KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoImRhdGEgbXVzdCBiZSBhbiBvYmplY3QiKTtyZXR1cm4gZnVuY3Rpb24gZSh0LHIpe2lmKCFxLmlzVW5kZWZpbmVkKHQpKXtpZigtMSE9PWwuaW5kZXhPZih0KSl0aHJvdyBFcnJvcigiQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICIrci5qb2luKCIuIikpO2wucHVzaCh0KSxxLmZvckVhY2godCwoZnVuY3Rpb24odCxvKXshMD09PSghKHEuaXNVbmRlZmluZWQodCl8fG51bGw9PT10KSYmaS5jYWxsKG4sdCxxLmlzU3RyaW5nKG8pP28udHJpbSgpOm8scixkKSkmJmUodCxyP3IuY29uY2F0KG8pOltvXSl9KSksbC5wb3AoKX19KHQpLG59ZnVuY3Rpb24gJChlKXt2YXIgdD17IiEiOiIlMjEiLCInIjoiJTI3IiwiKCI6IiUyOCIsIikiOiIlMjkiLCJ+IjoiJTdFIiwiJTIwIjoiKyIsIiUwMCI6IlwwIn07cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC9bIScoKX5dfCUyMHwlMDAvZywoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSl9ZnVuY3Rpb24gWChlLHQpe3RoaXMuX3BhaXJzPVtdLGUmJkcoZSx0aGlzLHQpfXZhciBRPVgucHJvdG90eXBlO2Z1bmN0aW9uIFooZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMjQvZywiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpLnJlcGxhY2UoLyUyMC9nLCIrIikucmVwbGFjZSgvJTVCL2dpLCJbIikucmVwbGFjZSgvJTVEL2dpLCJdIil9ZnVuY3Rpb24gWShlLHQsbil7aWYoIXQpcmV0dXJuIGU7dmFyIHIsbz1uJiZuLmVuY29kZXx8WixpPW4mJm4uc2VyaWFsaXplO2lmKHI9aT9pKHQsbik6cS5pc1VSTFNlYXJjaFBhcmFtcyh0KT90LnRvU3RyaW5nKCk6bmV3IFgodCxuKS50b1N0cmluZyhvKSl7dmFyIGE9ZS5pbmRleE9mKCIjIik7LTEhPT1hJiYoZT1lLnNsaWNlKDAsYSkpLGUrPSgtMT09PWUuaW5kZXhPZigiPyIpPyI/IjoiJiIpK3J9cmV0dXJuIGV9US5hcHBlbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9wYWlycy5wdXNoKFtlLHRdKX0sUS50b1N0cmluZz1mdW5jdGlvbihlKXt2YXIgdD1lP2Z1bmN0aW9uKHQpe3JldHVybiBlLmNhbGwodGhpcyx0LCQpfTokO3JldHVybiB0aGlzLl9wYWlycy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0KGVbMF0pKyI9Iit0KGVbMV0pfSksIiIpLmpvaW4oIiYiKX07dmFyIGVlLHRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3QodGhpcyxlKSx0aGlzLmhhbmRsZXJzPVtdfXJldHVybiByKGUsW3trZXk6InVzZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmhhbmRsZXJzLnB1c2goe2Z1bGZpbGxlZDplLHJlamVjdGVkOnQsc3luY2hyb25vdXM6ISFuJiZuLnN5bmNocm9ub3VzLHJ1bldoZW46bj9uLnJ1bldoZW46bnVsbH0pLHRoaXMuaGFuZGxlcnMubGVuZ3RoLTF9fSx7a2V5OiJlamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVyc1tlXSYmKHRoaXMuaGFuZGxlcnNbZV09bnVsbCl9fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzJiYodGhpcy5oYW5kbGVycz1bXSl9fSx7a2V5OiJmb3JFYWNoIix2YWx1ZTpmdW5jdGlvbihlKXtxLmZvckVhY2godGhpcy5oYW5kbGVycywoZnVuY3Rpb24odCl7bnVsbCE9PXQmJmUodCl9KSl9fV0pLGV9KCksbmU9e3NpbGVudEpTT05QYXJzaW5nOiEwLGZvcmNlZEpTT05QYXJzaW5nOiEwLGNsYXJpZnlUaW1lb3V0RXJyb3I6ITF9LHJlPXtpc0Jyb3dzZXI6ITAsY2xhc3Nlczp7VVJMU2VhcmNoUGFyYW1zOiJ1bmRlZmluZWQiIT10eXBlb2YgVVJMU2VhcmNoUGFyYW1zP1VSTFNlYXJjaFBhcmFtczpYLEZvcm1EYXRhOiJ1bmRlZmluZWQiIT10eXBlb2YgRm9ybURhdGE/Rm9ybURhdGE6bnVsbCxCbG9iOiJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYj9CbG9iOm51bGx9LGlzU3RhbmRhcmRCcm93c2VyRW52OigidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvcnx8IlJlYWN0TmF0aXZlIiE9PShlZT1uYXZpZ2F0b3IucHJvZHVjdCkmJiJOYXRpdmVTY3JpcHQiIT09ZWUmJiJOUyIhPT1lZSkmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50LGlzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52OiJ1bmRlZmluZWQiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSYmImZ1bmN0aW9uIj09dHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyxwcm90b2NvbHM6WyJodHRwIiwiaHR0cHMiLCJmaWxlIiwiYmxvYiIsInVybCIsImRhdGEiXX07ZnVuY3Rpb24gb2UoZSl7ZnVuY3Rpb24gdChlLG4scixvKXt2YXIgaT1lW28rK10sYT1OdW1iZXIuaXNGaW5pdGUoK2kpLHM9bz49ZS5sZW5ndGg7cmV0dXJuIGk9IWkmJnEuaXNBcnJheShyKT9yLmxlbmd0aDppLHM/KHEuaGFzT3duUHJvcChyLGkpP3JbaV09W3JbaV0sbl06cltpXT1uLCFhKToocltpXSYmcS5pc09iamVjdChyW2ldKXx8KHJbaV09W10pLHQoZSxuLHJbaV0sbykmJnEuaXNBcnJheShyW2ldKSYmKHJbaV09ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXt9LG89T2JqZWN0LmtleXMoZSksaT1vLmxlbmd0aDtmb3IodD0wO3Q8aTt0KyspcltuPW9bdF1dPWVbbl07cmV0dXJuIHJ9KHJbaV0pKSwhYSl9aWYocS5pc0Zvcm1EYXRhKGUpJiZxLmlzRnVuY3Rpb24oZS5lbnRyaWVzKSl7dmFyIG49e307cmV0dXJuIHEuZm9yRWFjaEVudHJ5KGUsKGZ1bmN0aW9uKGUscil7dChmdW5jdGlvbihlKXtyZXR1cm4gcS5tYXRjaEFsbCgvXHcrfFxbKFx3KildL2csZSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iW10iPT09ZVswXT8iIjplWzFdfHxlWzBdfSkpfShlKSxyLG4sMCl9KSksbn1yZXR1cm4gbnVsbH12YXIgaWU9eyJDb250ZW50LVR5cGUiOnZvaWQgMH07dmFyIGFlPXt0cmFuc2l0aW9uYWw6bmUsYWRhcHRlcjpbInhociIsImh0dHAiXSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihlLHQpe3ZhciBuLHI9dC5nZXRDb250ZW50VHlwZSgpfHwiIixvPXIuaW5kZXhPZigiYXBwbGljYXRpb24vanNvbiIpPi0xLGk9cS5pc09iamVjdChlKTtpZihpJiZxLmlzSFRNTEZvcm0oZSkmJihlPW5ldyBGb3JtRGF0YShlKSkscS5pc0Zvcm1EYXRhKGUpKXJldHVybiBvJiZvP0pTT04uc3RyaW5naWZ5KG9lKGUpKTplO2lmKHEuaXNBcnJheUJ1ZmZlcihlKXx8cS5pc0J1ZmZlcihlKXx8cS5pc1N0cmVhbShlKXx8cS5pc0ZpbGUoZSl8fHEuaXNCbG9iKGUpKXJldHVybiBlO2lmKHEuaXNBcnJheUJ1ZmZlclZpZXcoZSkpcmV0dXJuIGUuYnVmZmVyO2lmKHEuaXNVUkxTZWFyY2hQYXJhbXMoZSkpcmV0dXJuIHQuc2V0Q29udGVudFR5cGUoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04IiwhMSksZS50b1N0cmluZygpO2lmKGkpe2lmKHIuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIik+LTEpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEcoZSxuZXcgcmUuY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMsT2JqZWN0LmFzc2lnbih7dmlzaXRvcjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gcmUuaXNOb2RlJiZxLmlzQnVmZmVyKGUpPyh0aGlzLmFwcGVuZCh0LGUudG9TdHJpbmcoImJhc2U2NCIpKSwhMSk6ci5kZWZhdWx0VmlzaXRvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0KSl9KGUsdGhpcy5mb3JtU2VyaWFsaXplcikudG9TdHJpbmcoKTtpZigobj1xLmlzRmlsZUxpc3QoZSkpfHxyLmluZGV4T2YoIm11bHRpcGFydC9mb3JtLWRhdGEiKT4tMSl7dmFyIGE9dGhpcy5lbnYmJnRoaXMuZW52LkZvcm1EYXRhO3JldHVybiBHKG4/eyJmaWxlc1tdIjplfTplLGEmJm5ldyBhLHRoaXMuZm9ybVNlcmlhbGl6ZXIpfX1yZXR1cm4gaXx8bz8odC5zZXRDb250ZW50VHlwZSgiYXBwbGljYXRpb24vanNvbiIsITEpLGZ1bmN0aW9uKGUsdCxuKXtpZihxLmlzU3RyaW5nKGUpKXRyeXtyZXR1cm4odHx8SlNPTi5wYXJzZSkoZSkscS50cmltKGUpfWNhdGNoKGUpe2lmKCJTeW50YXhFcnJvciIhPT1lLm5hbWUpdGhyb3cgZX1yZXR1cm4obnx8SlNPTi5zdHJpbmdpZnkpKGUpfShlKSk6ZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zaXRpb25hbHx8YWUudHJhbnNpdGlvbmFsLG49dCYmdC5mb3JjZWRKU09OUGFyc2luZyxyPSJqc29uIj09PXRoaXMucmVzcG9uc2VUeXBlO2lmKGUmJnEuaXNTdHJpbmcoZSkmJihuJiYhdGhpcy5yZXNwb25zZVR5cGV8fHIpKXt2YXIgbz0hKHQmJnQuc2lsZW50SlNPTlBhcnNpbmcpJiZyO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXtpZihvKXtpZigiU3ludGF4RXJyb3IiPT09ZS5uYW1lKXRocm93IE0uZnJvbShlLE0uRVJSX0JBRF9SRVNQT05TRSx0aGlzLG51bGwsdGhpcy5yZXNwb25zZSk7dGhyb3cgZX19fXJldHVybiBlfV0sdGltZW91dDowLHhzcmZDb29raWVOYW1lOiJYU1JGLVRPS0VOIix4c3JmSGVhZGVyTmFtZToiWC1YU1JGLVRPS0VOIixtYXhDb250ZW50TGVuZ3RoOi0xLG1heEJvZHlMZW5ndGg6LTEsZW52OntGb3JtRGF0YTpyZS5jbGFzc2VzLkZvcm1EYXRhLEJsb2I6cmUuY2xhc3Nlcy5CbG9ifSx2YWxpZGF0ZVN0YXR1czpmdW5jdGlvbihlKXtyZXR1cm4gZT49MjAwJiZlPDMwMH0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiJ9fX07cS5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCJdLChmdW5jdGlvbihlKXthZS5oZWFkZXJzW2VdPXt9fSkpLHEuZm9yRWFjaChbInBvc3QiLCJwdXQiLCJwYXRjaCJdLChmdW5jdGlvbihlKXthZS5oZWFkZXJzW2VdPXEubWVyZ2UoaWUpfSkpO3ZhciBzZT1hZSx1ZT1xLnRvT2JqZWN0U2V0KFsiYWdlIiwiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtbGVuZ3RoIiwiY29udGVudC10eXBlIiwiZXRhZyIsImV4cGlyZXMiLCJmcm9tIiwiaG9zdCIsImlmLW1vZGlmaWVkLXNpbmNlIiwiaWYtdW5tb2RpZmllZC1zaW5jZSIsImxhc3QtbW9kaWZpZWQiLCJsb2NhdGlvbiIsIm1heC1mb3J3YXJkcyIsInByb3h5LWF1dGhvcml6YXRpb24iLCJyZWZlcmVyIiwicmV0cnktYWZ0ZXIiLCJ1c2VyLWFnZW50Il0pLGNlPVN5bWJvbCgiaW50ZXJuYWxzIik7ZnVuY3Rpb24gZmUoZSl7cmV0dXJuIGUmJlN0cmluZyhlKS50cmltKCkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBsZShlKXtyZXR1cm4hMT09PWV8fG51bGw9PWU/ZTpxLmlzQXJyYXkoZSk/ZS5tYXAobGUpOlN0cmluZyhlKX1mdW5jdGlvbiBkZShlLHQsbixyLG8pe3JldHVybiBxLmlzRnVuY3Rpb24ocik/ci5jYWxsKHRoaXMsdCxuKToobyYmKHQ9bikscS5pc1N0cmluZyh0KT9xLmlzU3RyaW5nKHIpPy0xIT09dC5pbmRleE9mKHIpOnEuaXNSZWdFeHAocik/ci50ZXN0KHQpOnZvaWQgMDp2b2lkIDApfXZhciBwZT1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoZSl7dCh0aGlzLGkpLGUmJnRoaXMuc2V0KGUpfXJldHVybiByKGksW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIG89ZmUodCk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyIpO3ZhciBpPXEuZmluZEtleShyLG8pOyghaXx8dm9pZCAwPT09cltpXXx8ITA9PT1ufHx2b2lkIDA9PT1uJiYhMSE9PXJbaV0pJiYocltpfHx0XT1sZShlKSl9dmFyIGksYSxzLHUsYyxmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHEuZm9yRWFjaChlLChmdW5jdGlvbihlLG4pe3JldHVybiBvKGUsbix0KX0pKX07cmV0dXJuIHEuaXNQbGFpbk9iamVjdChlKXx8ZSBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/ZihlLHQpOnEuaXNTdHJpbmcoZSkmJihlPWUudHJpbSgpKSYmIS9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3QoZS50cmltKCkpP2YoKGM9e30sKGk9ZSkmJmkuc3BsaXQoIlxuIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dT1lLmluZGV4T2YoIjoiKSxhPWUuc3Vic3RyaW5nKDAsdSkudHJpbSgpLnRvTG93ZXJDYXNlKCkscz1lLnN1YnN0cmluZyh1KzEpLnRyaW0oKSwhYXx8Y1thXSYmdWVbYV18fCgic2V0LWNvb2tpZSI9PT1hP2NbYV0/Y1thXS5wdXNoKHMpOmNbYV09W3NdOmNbYV09Y1thXT9jW2FdKyIsICIrczpzKX0pKSxjKSx0KTpudWxsIT1lJiZvKHQsZSxuKSx0aGlzfX0se2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGU9ZmUoZSkpe3ZhciBuPXEuZmluZEtleSh0aGlzLGUpO2lmKG4pe3ZhciByPXRoaXNbbl07aWYoIXQpcmV0dXJuIHI7aWYoITA9PT10KXJldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQsbj1PYmplY3QuY3JlYXRlKG51bGwpLHI9LyhbXlxzLDs9XSspXHMqKD86PVxzKihbXiw7XSspKT8vZzt0PXIuZXhlYyhlKTspblt0WzFdXT10WzJdO3JldHVybiBufShyKTtpZihxLmlzRnVuY3Rpb24odCkpcmV0dXJuIHQuY2FsbCh0aGlzLHIsbik7aWYocS5pc1JlZ0V4cCh0KSlyZXR1cm4gdC5leGVjKHIpO3Rocm93IG5ldyBUeXBlRXJyb3IoInBhcnNlciBtdXN0IGJlIGJvb2xlYW58cmVnZXhwfGZ1bmN0aW9uIil9fX19LHtrZXk6ImhhcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlPWZlKGUpKXt2YXIgbj1xLmZpbmRLZXkodGhpcyxlKTtyZXR1cm4hKCFufHx2b2lkIDA9PT10aGlzW25dfHx0JiYhZGUoMCx0aGlzW25dLG4sdCkpfXJldHVybiExfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj0hMTtmdW5jdGlvbiBvKGUpe2lmKGU9ZmUoZSkpe3ZhciBvPXEuZmluZEtleShuLGUpOyFvfHx0JiYhZGUoMCxuW29dLG8sdCl8fChkZWxldGUgbltvXSxyPSEwKX19cmV0dXJuIHEuaXNBcnJheShlKT9lLmZvckVhY2gobyk6byhlKSxyfX0se2tleToiY2xlYXIiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyh0aGlzKSxuPXQubGVuZ3RoLHI9ITE7bi0tOyl7dmFyIG89dFtuXTtlJiYhZGUoMCx0aGlzW29dLG8sZSwhMCl8fChkZWxldGUgdGhpc1tvXSxyPSEwKX1yZXR1cm4gcn19LHtrZXk6Im5vcm1hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXt9O3JldHVybiBxLmZvckVhY2godGhpcywoZnVuY3Rpb24ocixvKXt2YXIgaT1xLmZpbmRLZXkobixvKTtpZihpKXJldHVybiB0W2ldPWxlKHIpLHZvaWQgZGVsZXRlIHRbb107dmFyIGE9ZT9mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxkXSkoXHcqKS9nLChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQudG9VcHBlckNhc2UoKStufSkpfShvKTpTdHJpbmcobykudHJpbSgpO2EhPT1vJiZkZWxldGUgdFtvXSx0W2FdPWxlKHIpLG5bYV09ITB9KSksdGhpc319LHtrZXk6ImNvbmNhdCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybihlPXRoaXMuY29uc3RydWN0b3IpLmNvbmNhdC5hcHBseShlLFt0aGlzXS5jb25jYXQobikpfX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBxLmZvckVhY2godGhpcywoZnVuY3Rpb24obixyKXtudWxsIT1uJiYhMSE9PW4mJih0W3JdPWUmJnEuaXNBcnJheShuKT9uLmpvaW4oIiwgIik6bil9KSksdH19LHtrZXk6U3ltYm9sLml0ZXJhdG9yLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpW1N5bWJvbC5pdGVyYXRvcl0oKX19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PW8oZSwyKTtyZXR1cm4gdFswXSsiOiAiK3RbMV19KSkuam9pbigiXG4iKX19LHtrZXk6U3ltYm9sLnRvU3RyaW5nVGFnLGdldDpmdW5jdGlvbigpe3JldHVybiJBeGlvc0hlYWRlcnMifX1dLFt7a2V5OiJmcm9tIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXM/ZTpuZXcgdGhpcyhlKX19LHtrZXk6ImNvbmNhdCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyB0aGlzKGUpLG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKXJbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2V0KGUpfSkpLHR9fSx7a2V5OiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9KHRoaXNbY2VdPXRoaXNbY2VdPXthY2Nlc3NvcnM6e319KS5hY2Nlc3NvcnMsbj10aGlzLnByb3RvdHlwZTtmdW5jdGlvbiByKGUpe3ZhciByPWZlKGUpO3Rbcl18fCghZnVuY3Rpb24oZSx0KXt2YXIgbj1xLnRvQ2FtZWxDYXNlKCIgIit0KTtbImdldCIsInNldCIsImhhcyJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIrbix7dmFsdWU6ZnVuY3Rpb24oZSxuLG8pe3JldHVybiB0aGlzW3JdLmNhbGwodGhpcyx0LGUsbixvKX0sY29uZmlndXJhYmxlOiEwfSl9KSl9KG4sZSksdFtyXT0hMCl9cmV0dXJuIHEuaXNBcnJheShlKT9lLmZvckVhY2gocik6cihlKSx0aGlzfX1dKSxpfSgpO3BlLmFjY2Vzc29yKFsiQ29udGVudC1UeXBlIiwiQ29udGVudC1MZW5ndGgiLCJBY2NlcHQiLCJBY2NlcHQtRW5jb2RpbmciLCJVc2VyLUFnZW50IiwiQXV0aG9yaXphdGlvbiJdKSxxLmZyZWV6ZU1ldGhvZHMocGUucHJvdG90eXBlKSxxLmZyZWV6ZU1ldGhvZHMocGUpO3ZhciBoZT1wZTtmdW5jdGlvbiBtZShlLHQpe3ZhciBuPXRoaXN8fHNlLHI9dHx8bixvPWhlLmZyb20oci5oZWFkZXJzKSxpPXIuZGF0YTtyZXR1cm4gcS5mb3JFYWNoKGUsKGZ1bmN0aW9uKGUpe2k9ZS5jYWxsKG4saSxvLm5vcm1hbGl6ZSgpLHQ/dC5zdGF0dXM6dm9pZCAwKX0pKSxvLm5vcm1hbGl6ZSgpLGl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuISghZXx8IWUuX19DQU5DRUxfXyl9ZnVuY3Rpb24gdmUoZSx0LG4pe00uY2FsbCh0aGlzLG51bGw9PWU/ImNhbmNlbGVkIjplLE0uRVJSX0NBTkNFTEVELHQsbiksdGhpcy5uYW1lPSJDYW5jZWxlZEVycm9yIn1xLmluaGVyaXRzKHZlLE0se19fQ0FOQ0VMX186ITB9KTt2YXIgYmU9cmUuaXNTdGFuZGFyZEJyb3dzZXJFbnY/e3dyaXRlOmZ1bmN0aW9uKGUsdCxuLHIsbyxpKXt2YXIgYT1bXTthLnB1c2goZSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHQpKSxxLmlzTnVtYmVyKG4pJiZhLnB1c2goImV4cGlyZXM9IituZXcgRGF0ZShuKS50b0dNVFN0cmluZygpKSxxLmlzU3RyaW5nKHIpJiZhLnB1c2goInBhdGg9IityKSxxLmlzU3RyaW5nKG8pJiZhLnB1c2goImRvbWFpbj0iK28pLCEwPT09aSYmYS5wdXNoKCJzZWN1cmUiKSxkb2N1bWVudC5jb29raWU9YS5qb2luKCI7ICIpfSxyZWFkOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCIoXnw7XFxzKikoIitlKyIpPShbXjtdKikiKSk7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHRbM10pOm51bGx9LHJlbW92ZTpmdW5jdGlvbihlKXt0aGlzLndyaXRlKGUsIiIsRGF0ZS5ub3coKS04NjRlNSl9fTp7d3JpdGU6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKCl7fX07ZnVuY3Rpb24gZ2UoZSx0KXtyZXR1cm4gZSYmIS9eKFthLXpdW2EtelxkK1wtLl0qOik/XC9cLy9pLnRlc3QodCk/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9lLnJlcGxhY2UoL1wvKyQvLCIiKSsiLyIrdC5yZXBsYWNlKC9eXC8rLywiIik6ZX0oZSx0KTp0fXZhciB3ZT1yZS5pc1N0YW5kYXJkQnJvd3NlckVudj9mdW5jdGlvbigpe3ZhciBlLHQ9Lyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiByKGUpe3ZhciByPWU7cmV0dXJuIHQmJihuLnNldEF0dHJpYnV0ZSgiaHJlZiIscikscj1uLmhyZWYpLG4uc2V0QXR0cmlidXRlKCJocmVmIixyKSx7aHJlZjpuLmhyZWYscHJvdG9jb2w6bi5wcm90b2NvbD9uLnByb3RvY29sLnJlcGxhY2UoLzokLywiIik6IiIsaG9zdDpuLmhvc3Qsc2VhcmNoOm4uc2VhcmNoP24uc2VhcmNoLnJlcGxhY2UoL15cPy8sIiIpOiIiLGhhc2g6bi5oYXNoP24uaGFzaC5yZXBsYWNlKC9eIy8sIiIpOiIiLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDpuLnBvcnQscGF0aG5hbWU6Ii8iPT09bi5wYXRobmFtZS5jaGFyQXQoMCk/bi5wYXRobmFtZToiLyIrbi5wYXRobmFtZX19cmV0dXJuIGU9cih3aW5kb3cubG9jYXRpb24uaHJlZiksZnVuY3Rpb24odCl7dmFyIG49cS5pc1N0cmluZyh0KT9yKHQpOnQ7cmV0dXJuIG4ucHJvdG9jb2w9PT1lLnByb3RvY29sJiZuLmhvc3Q9PT1lLmhvc3R9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuITB9O2Z1bmN0aW9uIEVlKGUsdCl7dmFyIG49MCxyPWZ1bmN0aW9uKGUsdCl7ZT1lfHwxMDt2YXIgbixyPW5ldyBBcnJheShlKSxvPW5ldyBBcnJheShlKSxpPTAsYT0wO3JldHVybiB0PXZvaWQgMCE9PXQ/dDoxZTMsZnVuY3Rpb24ocyl7dmFyIHU9RGF0ZS5ub3coKSxjPW9bYV07bnx8KG49dSkscltpXT1zLG9baV09dTtmb3IodmFyIGY9YSxsPTA7ZiE9PWk7KWwrPXJbZisrXSxmJT1lO2lmKChpPShpKzEpJWUpPT09YSYmKGE9KGErMSklZSksISh1LW48dCkpe3ZhciBkPWMmJnUtYztyZXR1cm4gZD9NYXRoLnJvdW5kKDFlMypsL2QpOnZvaWQgMH19fSg1MCwyNTApO3JldHVybiBmdW5jdGlvbihvKXt2YXIgaT1vLmxvYWRlZCxhPW8ubGVuZ3RoQ29tcHV0YWJsZT9vLnRvdGFsOnZvaWQgMCxzPWktbix1PXIocyk7bj1pO3ZhciBjPXtsb2FkZWQ6aSx0b3RhbDphLHByb2dyZXNzOmE/aS9hOnZvaWQgMCxieXRlczpzLHJhdGU6dXx8dm9pZCAwLGVzdGltYXRlZDp1JiZhJiZpPD1hPyhhLWkpL3U6dm9pZCAwLGV2ZW50Om99O2NbdD8iZG93bmxvYWQiOiJ1cGxvYWQiXT0hMCxlKGMpfX12YXIgT2U9e2h0dHA6bnVsbCx4aHI6InVuZGVmaW5lZCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe3ZhciByLG89ZS5kYXRhLGk9aGUuZnJvbShlLmhlYWRlcnMpLm5vcm1hbGl6ZSgpLGE9ZS5yZXNwb25zZVR5cGU7ZnVuY3Rpb24gcygpe2UuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUociksZS5zaWduYWwmJmUuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0IixyKX1xLmlzRm9ybURhdGEobykmJihyZS5pc1N0YW5kYXJkQnJvd3NlckVudnx8cmUuaXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnY/aS5zZXRDb250ZW50VHlwZSghMSk6aS5zZXRDb250ZW50VHlwZSgibXVsdGlwYXJ0L2Zvcm0tZGF0YTsiLCExKSk7dmFyIHU9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGUuYXV0aCl7dmFyIGM9ZS5hdXRoLnVzZXJuYW1lfHwiIixmPWUuYXV0aC5wYXNzd29yZD91bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZS5hdXRoLnBhc3N3b3JkKSk6IiI7aS5zZXQoIkF1dGhvcml6YXRpb24iLCJCYXNpYyAiK2J0b2EoYysiOiIrZikpfXZhciBsPWdlKGUuYmFzZVVSTCxlLnVybCk7ZnVuY3Rpb24gZCgpe2lmKHUpe3ZhciByPWhlLmZyb20oImdldEFsbFJlc3BvbnNlSGVhZGVycyJpbiB1JiZ1LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTshZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4uY29uZmlnLnZhbGlkYXRlU3RhdHVzO24uc3RhdHVzJiZyJiYhcihuLnN0YXR1cyk/dChuZXcgTSgiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAiK24uc3RhdHVzLFtNLkVSUl9CQURfUkVRVUVTVCxNLkVSUl9CQURfUkVTUE9OU0VdW01hdGguZmxvb3Iobi5zdGF0dXMvMTAwKS00XSxuLmNvbmZpZyxuLnJlcXVlc3QsbikpOmUobil9KChmdW5jdGlvbihlKXt0KGUpLHMoKX0pLChmdW5jdGlvbihlKXtuKGUpLHMoKX0pLHtkYXRhOmEmJiJ0ZXh0IiE9PWEmJiJqc29uIiE9PWE/dS5yZXNwb25zZTp1LnJlc3BvbnNlVGV4dCxzdGF0dXM6dS5zdGF0dXMsc3RhdHVzVGV4dDp1LnN0YXR1c1RleHQsaGVhZGVyczpyLGNvbmZpZzplLHJlcXVlc3Q6dX0pLHU9bnVsbH19aWYodS5vcGVuKGUubWV0aG9kLnRvVXBwZXJDYXNlKCksWShsLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplciksITApLHUudGltZW91dD1lLnRpbWVvdXQsIm9ubG9hZGVuZCJpbiB1P3Uub25sb2FkZW5kPWQ6dS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt1JiY0PT09dS5yZWFkeVN0YXRlJiYoMCE9PXUuc3RhdHVzfHx1LnJlc3BvbnNlVVJMJiYwPT09dS5yZXNwb25zZVVSTC5pbmRleE9mKCJmaWxlOiIpKSYmc2V0VGltZW91dChkKX0sdS5vbmFib3J0PWZ1bmN0aW9uKCl7dSYmKG4obmV3IE0oIlJlcXVlc3QgYWJvcnRlZCIsTS5FQ09OTkFCT1JURUQsZSx1KSksdT1udWxsKX0sdS5vbmVycm9yPWZ1bmN0aW9uKCl7bihuZXcgTSgiTmV0d29yayBFcnJvciIsTS5FUlJfTkVUV09SSyxlLHUpKSx1PW51bGx9LHUub250aW1lb3V0PWZ1bmN0aW9uKCl7dmFyIHQ9ZS50aW1lb3V0PyJ0aW1lb3V0IG9mICIrZS50aW1lb3V0KyJtcyBleGNlZWRlZCI6InRpbWVvdXQgZXhjZWVkZWQiLHI9ZS50cmFuc2l0aW9uYWx8fG5lO2UudGltZW91dEVycm9yTWVzc2FnZSYmKHQ9ZS50aW1lb3V0RXJyb3JNZXNzYWdlKSxuKG5ldyBNKHQsci5jbGFyaWZ5VGltZW91dEVycm9yP00uRVRJTUVET1VUOk0uRUNPTk5BQk9SVEVELGUsdSkpLHU9bnVsbH0scmUuaXNTdGFuZGFyZEJyb3dzZXJFbnYpe3ZhciBwPShlLndpdGhDcmVkZW50aWFsc3x8d2UobCkpJiZlLnhzcmZDb29raWVOYW1lJiZiZS5yZWFkKGUueHNyZkNvb2tpZU5hbWUpO3AmJmkuc2V0KGUueHNyZkhlYWRlck5hbWUscCl9dm9pZCAwPT09byYmaS5zZXRDb250ZW50VHlwZShudWxsKSwic2V0UmVxdWVzdEhlYWRlciJpbiB1JiZxLmZvckVhY2goaS50b0pTT04oKSwoZnVuY3Rpb24oZSx0KXt1LnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxxLmlzVW5kZWZpbmVkKGUud2l0aENyZWRlbnRpYWxzKXx8KHUud2l0aENyZWRlbnRpYWxzPSEhZS53aXRoQ3JlZGVudGlhbHMpLGEmJiJqc29uIiE9PWEmJih1LnJlc3BvbnNlVHlwZT1lLnJlc3BvbnNlVHlwZSksImZ1bmN0aW9uIj09dHlwZW9mIGUub25Eb3dubG9hZFByb2dyZXNzJiZ1LmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixFZShlLm9uRG93bmxvYWRQcm9ncmVzcywhMCkpLCJmdW5jdGlvbiI9PXR5cGVvZiBlLm9uVXBsb2FkUHJvZ3Jlc3MmJnUudXBsb2FkJiZ1LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsRWUoZS5vblVwbG9hZFByb2dyZXNzKSksKGUuY2FuY2VsVG9rZW58fGUuc2lnbmFsKSYmKHI9ZnVuY3Rpb24odCl7dSYmKG4oIXR8fHQudHlwZT9uZXcgdmUobnVsbCxlLHUpOnQpLHUuYWJvcnQoKSx1PW51bGwpfSxlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnN1YnNjcmliZShyKSxlLnNpZ25hbCYmKGUuc2lnbmFsLmFib3J0ZWQ/cigpOmUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixyKSkpO3ZhciBoLG09KGg9L14oWy0rXHddezEsMjV9KSg6P1wvXC98OikvLmV4ZWMobCkpJiZoWzFdfHwiIjttJiYtMT09PXJlLnByb3RvY29scy5pbmRleE9mKG0pP24obmV3IE0oIlVuc3VwcG9ydGVkIHByb3RvY29sICIrbSsiOiIsTS5FUlJfQkFEX1JFUVVFU1QsZSkpOnUuc2VuZChvfHxudWxsKX0pKX19O3EuZm9yRWFjaChPZSwoZnVuY3Rpb24oZSx0KXtpZihlKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm5hbWUiLHt2YWx1ZTp0fSl9Y2F0Y2goZSl7fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJhZGFwdGVyTmFtZSIse3ZhbHVlOnR9KX19KSk7dmFyIFNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9KGU9cS5pc0FycmF5KGUpP2U6W2VdKS5sZW5ndGgsbz0wO288ciYmKHQ9ZVtvXSwhKG49cS5pc1N0cmluZyh0KT9PZVt0LnRvTG93ZXJDYXNlKCldOnQpKTtvKyspO2lmKCFuKXtpZighMT09PW4pdGhyb3cgbmV3IE0oIkFkYXB0ZXIgIi5jb25jYXQodCwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50IiksIkVSUl9OT1RfU1VQUE9SVCIpO3Rocm93IG5ldyBFcnJvcihxLmhhc093blByb3AoT2UsdCk/IkFkYXB0ZXIgJyIuY29uY2F0KHQsIicgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGQiKToiVW5rbm93biBhZGFwdGVyICciLmNvbmNhdCh0LCInIikpfWlmKCFxLmlzRnVuY3Rpb24obikpdGhyb3cgbmV3IFR5cGVFcnJvcigiYWRhcHRlciBpcyBub3QgYSBmdW5jdGlvbiIpO3JldHVybiBufTtmdW5jdGlvbiBSZShlKXtpZihlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKSxlLnNpZ25hbCYmZS5zaWduYWwuYWJvcnRlZCl0aHJvdyBuZXcgdmUobnVsbCxlKX1mdW5jdGlvbiBBZShlKXtyZXR1cm4gUmUoZSksZS5oZWFkZXJzPWhlLmZyb20oZS5oZWFkZXJzKSxlLmRhdGE9bWUuY2FsbChlLGUudHJhbnNmb3JtUmVxdWVzdCksLTEhPT1bInBvc3QiLCJwdXQiLCJwYXRjaCJdLmluZGV4T2YoZS5tZXRob2QpJiZlLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsITEpLFNlKGUuYWRhcHRlcnx8c2UuYWRhcHRlcikoZSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIFJlKGUpLHQuZGF0YT1tZS5jYWxsKGUsZS50cmFuc2Zvcm1SZXNwb25zZSx0KSx0LmhlYWRlcnM9aGUuZnJvbSh0LmhlYWRlcnMpLHR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHllKHQpfHwoUmUoZSksdCYmdC5yZXNwb25zZSYmKHQucmVzcG9uc2UuZGF0YT1tZS5jYWxsKGUsZS50cmFuc2Zvcm1SZXNwb25zZSx0LnJlc3BvbnNlKSx0LnJlc3BvbnNlLmhlYWRlcnM9aGUuZnJvbSh0LnJlc3BvbnNlLmhlYWRlcnMpKSksUHJvbWlzZS5yZWplY3QodCl9KSl9dmFyIFRlPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgaGU/ZS50b0pTT04oKTplfTtmdW5jdGlvbiBqZShlLHQpe3Q9dHx8e307dmFyIG49e307ZnVuY3Rpb24gcihlLHQsbil7cmV0dXJuIHEuaXNQbGFpbk9iamVjdChlKSYmcS5pc1BsYWluT2JqZWN0KHQpP3EubWVyZ2UuY2FsbCh7Y2FzZWxlc3M6bn0sZSx0KTpxLmlzUGxhaW5PYmplY3QodCk/cS5tZXJnZSh7fSx0KTpxLmlzQXJyYXkodCk/dC5zbGljZSgpOnR9ZnVuY3Rpb24gbyhlLHQsbil7cmV0dXJuIHEuaXNVbmRlZmluZWQodCk/cS5pc1VuZGVmaW5lZChlKT92b2lkIDA6cih2b2lkIDAsZSxuKTpyKGUsdCxuKX1mdW5jdGlvbiBpKGUsdCl7aWYoIXEuaXNVbmRlZmluZWQodCkpcmV0dXJuIHIodm9pZCAwLHQpfWZ1bmN0aW9uIGEoZSx0KXtyZXR1cm4gcS5pc1VuZGVmaW5lZCh0KT9xLmlzVW5kZWZpbmVkKGUpP3ZvaWQgMDpyKHZvaWQgMCxlKTpyKHZvaWQgMCx0KX1mdW5jdGlvbiBzKG4sbyxpKXtyZXR1cm4gaSBpbiB0P3IobixvKTppIGluIGU/cih2b2lkIDAsbik6dm9pZCAwfXZhciB1PXt1cmw6aSxtZXRob2Q6aSxkYXRhOmksYmFzZVVSTDphLHRyYW5zZm9ybVJlcXVlc3Q6YSx0cmFuc2Zvcm1SZXNwb25zZTphLHBhcmFtc1NlcmlhbGl6ZXI6YSx0aW1lb3V0OmEsdGltZW91dE1lc3NhZ2U6YSx3aXRoQ3JlZGVudGlhbHM6YSxhZGFwdGVyOmEscmVzcG9uc2VUeXBlOmEseHNyZkNvb2tpZU5hbWU6YSx4c3JmSGVhZGVyTmFtZTphLG9uVXBsb2FkUHJvZ3Jlc3M6YSxvbkRvd25sb2FkUHJvZ3Jlc3M6YSxkZWNvbXByZXNzOmEsbWF4Q29udGVudExlbmd0aDphLG1heEJvZHlMZW5ndGg6YSxiZWZvcmVSZWRpcmVjdDphLHRyYW5zcG9ydDphLGh0dHBBZ2VudDphLGh0dHBzQWdlbnQ6YSxjYW5jZWxUb2tlbjphLHNvY2tldFBhdGg6YSxyZXNwb25zZUVuY29kaW5nOmEsdmFsaWRhdGVTdGF0dXM6cyxoZWFkZXJzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oVGUoZSksVGUodCksITApfX07cmV0dXJuIHEuZm9yRWFjaChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LGUsdCkpLChmdW5jdGlvbihyKXt2YXIgaT11W3JdfHxvLGE9aShlW3JdLHRbcl0scik7cS5pc1VuZGVmaW5lZChhKSYmaSE9PXN8fChuW3JdPWEpfSkpLG59dmFyIE5lPSIxLjQuMCIsQ2U9e307WyJvYmplY3QiLCJib29sZWFuIiwibnVtYmVyIiwiZnVuY3Rpb24iLCJzdHJpbmciLCJzeW1ib2wiXS5mb3JFYWNoKChmdW5jdGlvbih0LG4pe0NlW3RdPWZ1bmN0aW9uKHIpe3JldHVybiBlKHIpPT09dHx8ImEiKyhuPDE/Im4gIjoiICIpK3R9fSkpO3ZhciB4ZT17fTtDZS50cmFuc2l0aW9uYWw9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4iW0F4aW9zIHYxLjQuMF0gVHJhbnNpdGlvbmFsIG9wdGlvbiAnIitlKyInIit0KyhuPyIuICIrbjoiIil9cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZighMT09PWUpdGhyb3cgbmV3IE0ocihvLCIgaGFzIGJlZW4gcmVtb3ZlZCIrKHQ/IiBpbiAiK3Q6IiIpKSxNLkVSUl9ERVBSRUNBVEVEKTtyZXR1cm4gdCYmIXhlW29dJiYoeGVbb109ITAsY29uc29sZS53YXJuKHIobywiIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdiIrdCsiIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlIikpKSwhZXx8ZShuLG8saSl9fTt2YXIgUGU9e2Fzc2VydE9wdGlvbnM6ZnVuY3Rpb24odCxuLHIpe2lmKCJvYmplY3QiIT09ZSh0KSl0aHJvdyBuZXcgTSgib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIsTS5FUlJfQkFEX09QVElPTl9WQUxVRSk7Zm9yKHZhciBvPU9iamVjdC5rZXlzKHQpLGk9by5sZW5ndGg7aS0tID4wOyl7dmFyIGE9b1tpXSxzPW5bYV07aWYocyl7dmFyIHU9dFthXSxjPXZvaWQgMD09PXV8fHModSxhLHQpO2lmKCEwIT09Yyl0aHJvdyBuZXcgTSgib3B0aW9uICIrYSsiIG11c3QgYmUgIitjLE0uRVJSX0JBRF9PUFRJT05fVkFMVUUpfWVsc2UgaWYoITAhPT1yKXRocm93IG5ldyBNKCJVbmtub3duIG9wdGlvbiAiK2EsTS5FUlJfQkFEX09QVElPTil9fSx2YWxpZGF0b3JzOkNlfSxrZT1QZS52YWxpZGF0b3JzLFVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShuKXt0KHRoaXMsZSksdGhpcy5kZWZhdWx0cz1uLHRoaXMuaW50ZXJjZXB0b3JzPXtyZXF1ZXN0Om5ldyB0ZSxyZXNwb25zZTpuZXcgdGV9fXJldHVybiByKGUsW3trZXk6InJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7InN0cmluZyI9PXR5cGVvZiBlPyh0PXR8fHt9KS51cmw9ZTp0PWV8fHt9O3ZhciBuLHI9dD1qZSh0aGlzLmRlZmF1bHRzLHQpLG89ci50cmFuc2l0aW9uYWwsaT1yLnBhcmFtc1NlcmlhbGl6ZXIsYT1yLmhlYWRlcnM7dm9pZCAwIT09byYmUGUuYXNzZXJ0T3B0aW9ucyhvLHtzaWxlbnRKU09OUGFyc2luZzprZS50cmFuc2l0aW9uYWwoa2UuYm9vbGVhbiksZm9yY2VkSlNPTlBhcnNpbmc6a2UudHJhbnNpdGlvbmFsKGtlLmJvb2xlYW4pLGNsYXJpZnlUaW1lb3V0RXJyb3I6a2UudHJhbnNpdGlvbmFsKGtlLmJvb2xlYW4pfSwhMSksbnVsbCE9aSYmKHEuaXNGdW5jdGlvbihpKT90LnBhcmFtc1NlcmlhbGl6ZXI9e3NlcmlhbGl6ZTppfTpQZS5hc3NlcnRPcHRpb25zKGkse2VuY29kZTprZS5mdW5jdGlvbixzZXJpYWxpemU6a2UuZnVuY3Rpb259LCEwKSksdC5tZXRob2Q9KHQubWV0aG9kfHx0aGlzLmRlZmF1bHRzLm1ldGhvZHx8ImdldCIpLnRvTG93ZXJDYXNlKCksKG49YSYmcS5tZXJnZShhLmNvbW1vbixhW3QubWV0aG9kXSkpJiZxLmZvckVhY2goWyJkZWxldGUiLCJnZXQiLCJoZWFkIiwicG9zdCIsInB1dCIsInBhdGNoIiwiY29tbW9uIl0sKGZ1bmN0aW9uKGUpe2RlbGV0ZSBhW2VdfSkpLHQuaGVhZGVycz1oZS5jb25jYXQobixhKTt2YXIgcz1bXSx1PSEwO3RoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGUucnVuV2hlbiYmITE9PT1lLnJ1bldoZW4odCl8fCh1PXUmJmUuc3luY2hyb25vdXMscy51bnNoaWZ0KGUuZnVsZmlsbGVkLGUucmVqZWN0ZWQpKX0pKTt2YXIgYyxmPVtdO3RoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YucHVzaChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKX0pKTt2YXIgbCxkPTA7aWYoIXUpe3ZhciBwPVtBZS5iaW5kKHRoaXMpLHZvaWQgMF07Zm9yKHAudW5zaGlmdC5hcHBseShwLHMpLHAucHVzaC5hcHBseShwLGYpLGw9cC5sZW5ndGgsYz1Qcm9taXNlLnJlc29sdmUodCk7ZDxsOyljPWMudGhlbihwW2QrK10scFtkKytdKTtyZXR1cm4gY31sPXMubGVuZ3RoO3ZhciBoPXQ7Zm9yKGQ9MDtkPGw7KXt2YXIgbT1zW2QrK10seT1zW2QrK107dHJ5e2g9bShoKX1jYXRjaChlKXt5LmNhbGwodGhpcyxlKTticmVha319dHJ5e2M9QWUuY2FsbCh0aGlzLGgpfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX1mb3IoZD0wLGw9Zi5sZW5ndGg7ZDxsOyljPWMudGhlbihmW2QrK10sZltkKytdKTtyZXR1cm4gY319LHtrZXk6ImdldFVyaSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIFkoZ2UoKGU9amUodGhpcy5kZWZhdWx0cyxlKSkuYmFzZVVSTCxlLnVybCksZS5wYXJhbXMsZS5wYXJhbXNTZXJpYWxpemVyKX19XSksZX0oKTtxLmZvckVhY2goWyJkZWxldGUiLCJnZXQiLCJoZWFkIiwib3B0aW9ucyJdLChmdW5jdGlvbihlKXtVZS5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KGplKG58fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOihufHx7fSkuZGF0YX0pKX19KSkscS5mb3JFYWNoKFsicG9zdCIsInB1dCIsInBhdGNoIl0sKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGZ1bmN0aW9uKG4scixvKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KGplKG98fHt9LHttZXRob2Q6ZSxoZWFkZXJzOnQ/eyJDb250ZW50LVR5cGUiOiJtdWx0aXBhcnQvZm9ybS1kYXRhIn06e30sdXJsOm4sZGF0YTpyfSkpfX1VZS5wcm90b3R5cGVbZV09dCgpLFVlLnByb3RvdHlwZVtlKyJGb3JtIl09dCghMCl9KSk7dmFyIF9lPVVlLEZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShuKXtpZih0KHRoaXMsZSksImZ1bmN0aW9uIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLiIpO3ZhciByO3RoaXMucHJvbWlzZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cj1lfSkpO3ZhciBvPXRoaXM7dGhpcy5wcm9taXNlLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKG8uX2xpc3RlbmVycyl7Zm9yKHZhciB0PW8uX2xpc3RlbmVycy5sZW5ndGg7dC0tID4wOylvLl9saXN0ZW5lcnNbdF0oZSk7by5fbGlzdGVuZXJzPW51bGx9fSkpLHRoaXMucHJvbWlzZS50aGVuPWZ1bmN0aW9uKGUpe3ZhciB0LG49bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe28uc3Vic2NyaWJlKGUpLHQ9ZX0pKS50aGVuKGUpO3JldHVybiBuLmNhbmNlbD1mdW5jdGlvbigpe28udW5zdWJzY3JpYmUodCl9LG59LG4oKGZ1bmN0aW9uKGUsdCxuKXtvLnJlYXNvbnx8KG8ucmVhc29uPW5ldyB2ZShlLHQsbikscihvLnJlYXNvbikpfSkpfXJldHVybiByKGUsW3trZXk6InRocm93SWZSZXF1ZXN0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5yZWFzb24pdGhyb3cgdGhpcy5yZWFzb259fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucmVhc29uP2UodGhpcy5yZWFzb24pOnRoaXMuX2xpc3RlbmVycz90aGlzLl9saXN0ZW5lcnMucHVzaChlKTp0aGlzLl9saXN0ZW5lcnM9W2VdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xpc3RlbmVycyl7dmFyIHQ9dGhpcy5fbGlzdGVuZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKHQsMSl9fX1dLFt7a2V5OiJzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJue3Rva2VuOm5ldyBlKChmdW5jdGlvbihlKXt0PWV9KSksY2FuY2VsOnR9fX1dKSxlfSgpO3ZhciBCZT17Q29udGludWU6MTAwLFN3aXRjaGluZ1Byb3RvY29sczoxMDEsUHJvY2Vzc2luZzoxMDIsRWFybHlIaW50czoxMDMsT2s6MjAwLENyZWF0ZWQ6MjAxLEFjY2VwdGVkOjIwMixOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246MjAzLE5vQ29udGVudDoyMDQsUmVzZXRDb250ZW50OjIwNSxQYXJ0aWFsQ29udGVudDoyMDYsTXVsdGlTdGF0dXM6MjA3LEFscmVhZHlSZXBvcnRlZDoyMDgsSW1Vc2VkOjIyNixNdWx0aXBsZUNob2ljZXM6MzAwLE1vdmVkUGVybWFuZW50bHk6MzAxLEZvdW5kOjMwMixTZWVPdGhlcjozMDMsTm90TW9kaWZpZWQ6MzA0LFVzZVByb3h5OjMwNSxVbnVzZWQ6MzA2LFRlbXBvcmFyeVJlZGlyZWN0OjMwNyxQZXJtYW5lbnRSZWRpcmVjdDozMDgsQmFkUmVxdWVzdDo0MDAsVW5hdXRob3JpemVkOjQwMSxQYXltZW50UmVxdWlyZWQ6NDAyLEZvcmJpZGRlbjo0MDMsTm90Rm91bmQ6NDA0LE1ldGhvZE5vdEFsbG93ZWQ6NDA1LE5vdEFjY2VwdGFibGU6NDA2LFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDo0MDcsUmVxdWVzdFRpbWVvdXQ6NDA4LENvbmZsaWN0OjQwOSxHb25lOjQxMCxMZW5ndGhSZXF1aXJlZDo0MTEsUHJlY29uZGl0aW9uRmFpbGVkOjQxMixQYXlsb2FkVG9vTGFyZ2U6NDEzLFVyaVRvb0xvbmc6NDE0LFVuc3VwcG9ydGVkTWVkaWFUeXBlOjQxNSxSYW5nZU5vdFNhdGlzZmlhYmxlOjQxNixFeHBlY3RhdGlvbkZhaWxlZDo0MTcsSW1BVGVhcG90OjQxOCxNaXNkaXJlY3RlZFJlcXVlc3Q6NDIxLFVucHJvY2Vzc2FibGVFbnRpdHk6NDIyLExvY2tlZDo0MjMsRmFpbGVkRGVwZW5kZW5jeTo0MjQsVG9vRWFybHk6NDI1LFVwZ3JhZGVSZXF1aXJlZDo0MjYsUHJlY29uZGl0aW9uUmVxdWlyZWQ6NDI4LFRvb01hbnlSZXF1ZXN0czo0MjksUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOjQzMSxVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczo0NTEsSW50ZXJuYWxTZXJ2ZXJFcnJvcjo1MDAsTm90SW1wbGVtZW50ZWQ6NTAxLEJhZEdhdGV3YXk6NTAyLFNlcnZpY2VVbmF2YWlsYWJsZTo1MDMsR2F0ZXdheVRpbWVvdXQ6NTA0LEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOjUwNSxWYXJpYW50QWxzb05lZ290aWF0ZXM6NTA2LEluc3VmZmljaWVudFN0b3JhZ2U6NTA3LExvb3BEZXRlY3RlZDo1MDgsTm90RXh0ZW5kZWQ6NTEwLE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOjUxMX07T2JqZWN0LmVudHJpZXMoQmUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PW8oZSwyKSxuPXRbMF0scj10WzFdO0JlW3JdPW59KSk7dmFyIExlPUJlO3ZhciBEZT1mdW5jdGlvbiBlKHQpe3ZhciBuPW5ldyBfZSh0KSxyPWEoX2UucHJvdG90eXBlLnJlcXVlc3Qsbik7cmV0dXJuIHEuZXh0ZW5kKHIsX2UucHJvdG90eXBlLG4se2FsbE93bktleXM6ITB9KSxxLmV4dGVuZChyLG4sbnVsbCx7YWxsT3duS2V5czohMH0pLHIuY3JlYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBlKGplKHQsbikpfSxyfShzZSk7cmV0dXJuIERlLkF4aW9zPV9lLERlLkNhbmNlbGVkRXJyb3I9dmUsRGUuQ2FuY2VsVG9rZW49RmUsRGUuaXNDYW5jZWw9eWUsRGUuVkVSU0lPTj1OZSxEZS50b0Zvcm1EYXRhPUcsRGUuQXhpb3NFcnJvcj1NLERlLkNhbmNlbD1EZS5DYW5jZWxlZEVycm9yLERlLmFsbD1mdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5hbGwoZSl9LERlLnNwcmVhZD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkobnVsbCx0KX19LERlLmlzQXhpb3NFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gcS5pc09iamVjdChlKSYmITA9PT1lLmlzQXhpb3NFcnJvcn0sRGUubWVyZ2VDb25maWc9amUsRGUuQXhpb3NIZWFkZXJzPWhlLERlLmZvcm1Ub0pTT049ZnVuY3Rpb24oZSl7cmV0dXJuIG9lKHEuaXNIVE1MRm9ybShlKT9uZXcgRm9ybURhdGEoZSk6ZSl9LERlLkh0dHBTdGF0dXNDb2RlPUxlLERlLmRlZmF1bHQ9RGUsRGV9KSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWF4aW9zLm1pbi5qcy5tYXA="
window.eval(atob(axios_head_code_base64));



/*
    ban_bcmapi
*/
/*
const axios_head_CancelToken = axios.CancelToken;
const axios_head_source = axios_head_CancelToken.source();
axios.interceptors.request.use(function (config) {
    var fullurl = config.baseurl + config.url;
    var d = fullurl.split('/');
    if (d[2]) {
        d = d[2];
    } else {
        d = '';
    }
    if (d.toLowerCase().includes("api.codemao.cn")) {
        return Promise.reject("禁止访问");
    }
    return config
});*/

//file:src\2-axios\1-axios.js

types['methods'].push({
    key: 'axios',
    label: 'axios',
    params: [
        {
            key: 'id',
            label: '请求id',
            valueType: 'string',
            defaultValue: '建议使用随机字符',
        },
        {
            key: 'method',
            label: 'method',
            valueType: 'string',
            defaultValue: 'get',
        },
        {
            key: 'url',
            label: 'url',
            valueType: 'string',
            defaultValue: 'https://coco.codemao.cn/editor/',
        },
        {
            key: '（以下参数是字典，或JSON！） param',
            label: 'param',
            valueType: 'string',
            defaultValue: "{}",
        },
        {
            key: 'data',
            label: 'data(仅post/put/patch)',
            valueType: 'string',
            defaultValue: "{}",
        },
        {
            key: 'headers',
            label: 'headers',
            valueType: 'string',
            defaultValue: "{}",
        },
        {
            key: 'configs',
            label: 'configs',
            valueType: 'string',
            defaultValue: '{"withCredentials": false}',
        },
    ],
    blockOptions: {
        line: "无限制axios"
    }
});
types['events'].push({
    key: 'axios_then',
    label: 'axios_请求成功',
    params: [
        {
            key: 'id',
            label: '请求id',
            valueType: 'string',
        },
        {
            key: 'data',
            label: 'data',
            valueType: ['string', 'number', 'boolean', 'color', 'array', 'object'],
        },
        {
            key: 'status',
            label: 'status',
            valueType: 'number',
        },
        {
            key: 'headers',
            label: 'headers',
            valueType: 'object',
        },
        {
            key: 'config',
            label: 'config',
            valueType: 'object',
        },
    ],

});
types['events'].push({
    key: 'axios_catch',
    label: 'axios_请求失败',
    params: [
        {
            key: 'id',
            label: '请求id',
            valueType: 'string',
        },
        {
            key: 'error_json',
            label: '错误详情',
            valueType: 'object',
        }
    ],
});
Widget.prototype.axios = function (id, method, url, param, data, headers, configs) {
    var axios_config_weak = {
        method: method,
        url: url,
        data: JSON.parse(data),
        param: JSON.parse(param),
        headers: JSON.parse(headers),
    }
    var axios_config = Object.assign(axios_config_weak, JSON.parse(configs));
    console.log(axios_config);
    axios(axios_config)
        .then((response) => {
            this.emit("axios_then", id, response.data, response.status, response.headers, response.configs);
            return;
        })
        .catch((error) => {
            this.emit("axios_catch", id, error);
            return;
        });
}

//file:src\3-random_tools\0-uuid.js

types['methods'].push({
    key: 'random_tools_uuid',
    label: '随机UUID',
    params: [],
    valueType: 'string',
    blockOptions: {
        line: "随机工具"
    }
});
Widget.prototype.random_tools_uuid = function () {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = (Math.random() * 16) | 0,
            v = c == 'x' ? r : (r & 0x3) | 0x8;
        return v.toString(16);
    });
}

//file:src\3-random_tools\1-number.js

types['methods'].push({
    key: 'random_tools_number',
    label: '随机小数',
    params: [
        {
            key: 'min',
            label: '最小值',
            valueType: 'number',
            defaultValue: 0,
        },
        {
            key: 'max',
            label: '最大值',
            valueType: 'number',
            defaultValue: 10,
        },
    ],
    valueType: 'number',
});
Widget.prototype.random_tools_number = function (min,max) {
    return Math.random() * (max - min) + min;
}

//file:src\4-coco_ui\0-del_web_bin.js

//疑似有伤害性？

types['methods'].push({
    key: 'coco_ui_del_ew',
    label: '删除emulator-wrapper',
    params: [],
    blockOptions: {
        line:"Coco网页端UI功能"
    }
})
Widget.prototype.coco_ui_del_ew = function () {
    coco_ui_del_dom_by_class_name("emulator-wrapper")
}

types['methods'].push({
    key: 'coco_ui_del_df',
    label: '删除deviceFrame',
    params: [],
})
Widget.prototype.coco_ui_del_df = function () {
    coco_ui_del_dom_by_class_name("styles_deviceFrame__")
}

types['methods'].push({
    key: 'coco_ui_del_aub',
    label: '删除appUrlBtn',
    params: [],
})

Widget.prototype.coco_ui_del_aub = function () {
    coco_ui_del_dom_by_class_name("styles_appUrlBtn__")
}

types['methods'].push({
    key: 'coco_ui_qp',
    label: '全屏（真全屏，不做适配，用于作品嵌套）',
    params: [],
})

Widget.prototype.coco_ui_qp = function () {
    var code = `
    (function () {
        document.getElementById("root").appendChild(document.getElementById("rootPlayer"));
        document.getElementById("webPlayer").remove();
    }());
    `
    window.eval(code);
    coco_ui_del_dom_by_class_name("styles_community__");

}
function coco_ui_del_dom_by_class_name(classname) {
    var code = `
    (function (q) {
        var clslst = document.querySelectorAll(q);
        if (clslst.length < 1) {
            console.error("coco_web_hook find 0 dom with " + q);
        } else {
            for (var i=0;i<clslst.length;i++) {
                console.log("coco_web_hook find " + q,clslst[i]);
                clslst[i].remove();
            }
        }
    }("[class*=${classname}]"));
    `
    window.eval(code);
}

//file:widget_export.js

exports.types = types;
exports.widget = Widget;

//Build end,good luck:)
